<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.1 Transitional//EN">
<html>
<head>
<title>Bookmarklets and buttons for Firefox and old Opera</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="author" content="A.Ruzanov">
<meta name="design" content="Moose-like">
<script type="text/javascript">
document.addEventListener('mouseup', function(e){navigator.lastClicked=e.target}, true);
document.addEventListener('focus', function(e){
	var et=e.target;
	var tag=et.tagName && et.tagName.toLowerCase();
	if(tag=='textarea' || (tag=='input' && et.type=='text')){navigator.lastFocusedTextArea=et};
}, true);

function ujs_bbcode_tag(tag){
	var ts=document.getSelection().toString();
	var ta=navigator.lastFocusedTextArea;
	if(!ta)for(var t=document.getElementsByTagName('textarea'), i=t.length; i--;){ta=t[i]; if(ta.rows>4 && ta.offsetHeight>0)break};
	if(!ta || ta.offsetHeight==0)return;

	var s, e_tag;
	var s_tag=tag;
	var nStart=ta.selectionStart;
	var nEnd=ta.selectionEnd;
	var txt=ta.value.substring(nStart, nEnd);
	var s_txt=ta.value.substring(0, nStart);
	var e_txt=ta.value.substring(nEnd, ta.value.length);

	var al=arguments.length;
	if(al==0)return ts || txt;
	if(al==1 && typeof arguments[0]=='function'){
		var sel={text: txt, start: 0, end: nEnd-nStart};
		arguments[0](sel);
		ta.value=s_txt+sel.text+e_txt;
		var len=ta.value.length-s_txt.length-e_txt.length+1;
		ta.setSelectionRange(nStart+sel.start+(sel.start<0 ? len : 0), nStart+sel.end+(sel.end<0 ? len : 0));
		ta.focus();
		return;
	};
	if(al==2 && arguments[1]!=''){
		e_tag=arguments[1];
	}
	else{
		e_tag=tag.replace(/(^.)([^= ]*)(.*)(.$)/, '$1/$2$4');
	};

	var stl=s_tag.length;
	var etl=e_tag.length;
	var lt=stl+etl;

	if(txt.indexOf(s_tag)==0 && txt.lastIndexOf(e_tag)==(txt.length-etl)){
		s=s_txt+txt.slice(stl, -etl)+e_txt;
		nEnd-=lt;
	}
	else{
		if(nStart==nEnd && s_txt.lastIndexOf(s_tag)==s_txt.length-stl && e_txt.indexOf(e_tag)==0){
			s=s_txt.slice(0, -stl)+e_txt.slice(etl);
			nStart-=stl;
			nEnd=nStart;
		}
		else{
			if(ts && ta!=navigator.lastClicked){
				s=s_txt+txt+s_tag+ts+e_tag+e_txt;
				nStart=nEnd;
				nEnd+=ts.length;
				txt=ts;
			}
			else{
				s=s_txt+s_tag+txt+e_tag+e_txt;
			};

			if(txt.length==0 && s_tag!=''){
				nStart+=stl;
				nEnd=nStart;
			}
			else{
				if(s_tag.slice(-4, -1)=='=""' || s_tag.slice(-2, -1)=='=' && s_tag.slice(-1)!='"'){
					nStart=nStart+stl-(s_tag.slice(-3, -1)=='""' ? 2 : 1);
					nEnd=nStart;
				}
				else{
					nEnd+=lt;
					if(s_tag=='' || s_tag.slice(-1)=='"' || (al==2 && arguments[1]==''))nStart=nEnd;
				}
			}
		}
	};

	ta.value=s;
	ta.setSelectionRange(nStart, nEnd);
	ta.focus();
};
</script>
<style type="text/css">
a { text-decoration: none;
	width: -o-skin;
	height: -o-skin;
	display: inline-block;
	vertical-align: middle;
	color: #141D21;
	}
a.button { font-size: 90%;
	color: #141D21;
	background-color: #92ABBC;
	padding: 0px 3px;
	border: 1px solid #6C8B9B;
	}
a.simple { text-decoration: underline; }
a:hover{ background-color: #829BAC; }
input.search{ width:210px; background-color: #92ABBC; }	
</style>
</head>
<body style="background-color: #d5dee3" onload="for(var i=0, l; l=document.links[i]; i++){if(l.href.indexOf('opera:/button/')==0)l.title=l.text||l.textContent;if(l.className=='simple')l.target='_blank'}">
<div style="border:1px solid gray; text-align:center;">
<p style="font-size:larger">Закрыто/Closed</p>
<p>Впрочем, некоторые мои не слишком устаревшие поделки выложены на <a class="simple" href="https://bitbucket.org/ruzanow/">bitbucket.org</a> и <a class="simple" href="http://userscripts.org/users/84222">userscripts.org</a>, а полезные для скриптов js функции <a class="simple" href="snippets.html">здесь</a>.</p>
</div>
<br>
<H3>Букмарклеты:</H3>
<span style="font-size:smaller;">Работают в основных браузерах - Firefox, Chrome, Opera. (От оперных кнопок отличаются неограниченным размером кода и отсутствием уникальной иконки. Точно также перетаскиваются на любую панель. В Opera 9.5+ при этом нужно зажать Shift.)</span>
<br><br><a class="button" href="javascript:(function(){var meta='',scripts='',embed='',iframes='',cookies='';var corrUrl=function(url){if(!url)return'';var q=url.indexOf('?')+1||url.indexOf('=')+1;return((q&amp;&amp;url.length&gt;50)?url.slice(0,q&gt;50?q:50)+'%5Cu2026':url)+'%5Cn'};var fullUrl=function(url){var a=document.createElement('a');a.href=url;return url?corrUrl(a.href):''};var m=document.getElementsByTagName('meta');for(var i=0,mi;mi=m[i];i++){meta+=(mi.name?mi.name+': ':(mi.httpEquiv?mi.httpEquiv+': ':''))+mi.content+'%5Cn'};var s=document.getElementsByTagName('script');for(var i=0,si;si=s[i];i++){if(si.src)scripts+=corrUrl(si.src)};var e=document.getElementsByTagName('embed');var o=document.getElementsByTagName('object');for(var i=0,ei;ei=e[i];i++){embed+=fullUrl(ei.getAttribute('src'))};for(var i=0,oi;oi=o[i];i++){var src=oi.getAttribute('data')||oi.getAttribute('src')||oi.getAttribute('source');if(!src){var params=oi.getElementsByTagName('param');for(var j=0,p;p=params[j];j++){if(/^(movie|data|src|code|filename|url|source)$/i.test(p.getAttribute('name'))){src=p.getAttribute('value');break}}};var lnk=fullUrl(src);if(embed.indexOf(lnk)==-1)embed+=lnk};var f=document.getElementsByTagName('iframe');for(var i=0,fi;fi=f[i];i++){if(fi.src)iframes+=corrUrl(fi.src)};var c=document.cookie.split(';');for(var i=0,ci;ci=c[i];i++){while(ci.charAt(0)==' ')ci=ci.slice(1);if(ci.length&gt;40)ci=ci.slice(0,40)+'%5Cu2026';cookies+=ci+'%5Cn'};var lastmod=(Date.parse(document.lastModified)==0)?'':document.lastModified;var mode=document.getElementsByTagName('HTmL').length==0?'Really strict':(document.compatMode=='CSS1Compat'?'Normal strict':'Quirks');var title=document.title||(document.getElementsByTagName('title')[0]&amp;&amp;document.getElementsByTagName('title')[0].text)||'';if(meta)meta='%5CnMeta-данные:%5Cn'+meta;if(scripts)scripts='%5CnСкрипты:%5Cn'+scripts;if(embed)embed='%5CnВстроенные объекты:%5Cn'+embed;if(iframes)iframes='%5CnIframes:%5Cn'+iframes;if(cookies)cookies='%5CnCookies:%5Cn'+cookies;alert('Идентификация браузера: '+navigator.userAgent+'%5Cn%5CnЗаголовок: '+title+'%5Cn%5CnАдрес: '+location.href+'%5Cn%5CnРеферрер: '+document.referrer+'%5Cn%5CnДата последнего изменения: '+lastmod+'%5Cn%5CnРежим отображения: '+mode+' mode%5Cn'+meta+scripts+embed+iframes+cookies)})()">Info</a> - Информация о странице. Идентификация браузера, заголовок страницы, адрес, реферрер, дата изменения, режим отображения, кукисы, meta-данные, ссылки на ифреймы, скрипты и флэш.
<!-- <br><a class="button" href="javascript:(function(){var b=document.getElementById('uploadt00lbar');if(b){b.parentNode.removeChild(b)}else{b=document.createElement('div');b.setAttribute('style','position:fixed;right:0;bottom:0;background:-o-skin(\x22Window Skin\x22);border:1px solid;padding:10px;z-index:9999;');b.id='uploadt00lbar';b.innerHTML='&lt;img src=\'data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAICTAEAOw==\' title=\'Close\' width=\'18\' height=\'18\' style=\'position:relative;display:block;float:right;left:5px;bottom:5px;margin:1px;background:-o-skin(\x22Caption Close Button Skin\x22);cursor:pointer;\' onclick=\'this.parentNode.parentNode.removeChild(this.parentNode)\'&gt;&lt;a href=\'http://www.imageshack.us\' target=\'_blank\' style=\'text-decoration:none;color:#0000cc;font:14px Times New Roman;\'&gt;Imageshack.us&lt;/a&gt;&lt;form style=\'margin:5px;display:block;\' action=\'http://www.imageshack.us/index.php\' method=\'post\' target=\'_blank\' enctype=\'multipart/form-data\'&gt;&lt;input type=\'hidden\' value=\'1048576\' name=\'MAX_FILE_SIZE\' /&gt;&lt;input type=\'hidden\' value=\'blank\' name=\'type\' /&gt;&lt;input type=\'file\' name=\'fileupload\' style=\'font:13px Arial;\' /&gt;&lt;input name=\'submit\' type=\'submit\' value=\'Upload \' style=\'font:13px Arial;\' /&gt;&lt;/form&gt;&lt;a href=\'http://www.rapidshare.com\' target=\'_blank\' style=\'text-decoration:none;color:#0000cc;font:14px Times New Roman;\'&gt;Rapidshare.com&lt;/a&gt;&lt;form style=\'margin:5px;display:block;\' action=\'http://rs3l3.rapidshare.com/cgi-bin/upload.cgi?rsuploadid=142773989068418119\' method=\'post\' target=\'_blank\' enctype=\'multipart/form-data\' name=\'ul\' id=\'ul\'&gt;&lt;input type=\'file\' name=\'filecontent\' style=\'font:13px Arial;\' /&gt;&lt;input type=\'submit\' name=\'u\' value=\'Upload \' style=\'font:13px Arial;\' /&gt;&lt;/form&gt;';document.documentElement.appendChild(b);}})()">Upload</a> - Создаёт панель для закачки на <a class="simple" href="http://www.imageshack.us/index.php">imageshack.us</a> и <a class="simple" href="http://www.rapidshare.com/">rapidshare.com</a>. -->
<!--<br><a class="button" href="javascript:(function(){var a='Installed Plug-ins';var b=' &amp;mdash; from file &amp;ldquo;';var c='&amp;rdquo;.';var d='MIME Type';var e='Description';var f='Extensions';if(navigator.language=='ru'){a='Установленные плагины';b=' &amp;mdash; из файла &amp;laquo;';c='&amp;raquo;.';d='MIME-тип';e='Описание';f='Расширения'};var g=window.open('about:blank','_blank','resizable=yes,scrollbars=yes,location=no,width=800,height=500,left=100,top=100');var h=g.document;h.writeln('<!DOCTYPE html PUBLIC><html><head><title>'+a+'</title><style type=%5C'text/css%5C'>body{color:#555}div#margins{margin:5%}div.plugin-name{margin-top:2em;margin-bottom:1em;font-size:x-large;font-weight:bold;color:black}table{background-color:#F5F5F5;color:#222;font:message-box;width:100%;border:1px solid #222;border-spacing:0}th{text-align:center;font-weight:bold;background-color:#CCC}th + th,td + td{border-left:1px solid #AAA}td{border-top:1px solid #AAA}th,td{padding:3px}td.extensions{text-align:center}th.MIME-type{width:30%}th.description{width:50%}th.extensions{width:20%}</style></head>');h.writeln('<body><div id=%5C'margins%5C'>');for(var i=0;i!=navigator.plugins.length;i++){var j=navigator.plugins[i];h.writeln('<div class=%5C'plugin-name%5C'>'+j.name+'</div>');h.writeln('<blockquote>'+j.description+b+j.filename+c+'</blockquote>');h.writeln('<table class=%5C'types-table%5C'>');h.writeln('<thead><tr>');h.writeln('<th class=%5C'MIME-type%5C'>'+d+'</th>');h.writeln('<th class=%5C'description%5C'>'+e+'</th>');h.writeln('<th class=%5C'extensions%5C'>'+f+'</th>');h.writeln('</tr></thead>');h.writeln('<tbody>');for(var k=0;k!=j.length;++k){h.writeln('<tr>');h.writeln('<td class=%5C'MIME-type%5C'>'+j[k].type+'</td>');h.writeln('<td class=%5C'description%5C'>'+j[k].description+'</td>');h.writeln('<td class=%5C'extensions%5C'>'+j[k].suffixes+'</td>');h.writeln('</tr>')}h.writeln('</tbody>');h.writeln('</table>')};h.writeln('</div></body>');h.writeln('</html>');h.close()})();">Plug-ins</a> - Информация о установленных плагинах.-->
<br><a class="button" href="javascript:void(open('data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sPgo8aGVhZD4KPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPgo8dGl0bGU+UGx1Z2luczwvdGl0bGU+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Ym9keXtjb2xvcjojNTU1O21hcmdpbjo1JTtwYWRkaW5nOjB9aDQucGx1Z2luLW5hbWV7bWFyZ2luLXRvcDoyZW07bWFyZ2luLWJvdHRvbToxZW07Zm9udC1zaXplOmxhcmdlO2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6YmxhY2t9dGFibGV7YmFja2dyb3VuZC1jb2xvcjojRjVGNUY1O2NvbG9yOiMyMjI7Zm9udDptZXNzYWdlLWJveDt3aWR0aDoxMDAlO2JvcmRlcjoxcHggc29saWQgIzIyMjtib3JkZXItc3BhY2luZzowfXRoe3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OmJvbGQ7YmFja2dyb3VuZC1jb2xvcjojQ0NDfXRoK3RoLHRkK3Rke2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjQUFBfXRke2JvcmRlci10b3A6MXB4IHNvbGlkICNBQUF9dGgsdGR7cGFkZGluZzozcHh9dGQuZXh0ZW5zaW9uc3t0ZXh0LWFsaWduOmNlbnRlcn10aC5NSU1FLXR5cGV7d2lkdGg6MzAlfXRoLmRlc2NyaXB0aW9ue3dpZHRoOjUwJX10aC5leHRlbnNpb25ze3dpZHRoOjIwJX08L3N0eWxlPgo8L2hlYWQ+Cjxib2R5Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+RWxlbWVudC5wcm90b3R5cGUuYWRkRWxlPWZ1bmN0aW9uKHRhZyx0eHQpe3ZhciBlbGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO2lmKHR4dCllbGUuaW5uZXJIVE1MPXR4dDtyZXR1cm4gdGhpcy5hcHBlbmRDaGlsZChlbGUpfTt2YXIgcGx1Z2luLHRhYmxlLHRyLHRib2R5LGJvZHk9ZG9jdW1lbnQuYm9keSxydT1uYXZpZ2F0b3IubGFuZ3VhZ2UgaW57J3J1JzoxLCdydS1SVSc6MX0sbG5nPXtmcm9tOnJ1Pycg4oCUINC40Lcg0YTQsNC50LvQsCDigJwnOicg4oCUIGZyb20gZmlsZSDigJwnLGFmdGVyOifigJ0uJyxtaW1lOnJ1PydNSU1FLdGC0LjQvyc6J01JTUUgVHlwZScsZGVzYzpydT8n0J7Qv9C40YHQsNC90LjQtSc6J0Rlc2NyaXB0aW9uJyxleHQ6cnU/J9Cg0LDRgdGI0LjRgNC10L3QuNGPJzonRXh0ZW5zaW9ucyd9O25hdmlnYXRvci5wbHVnaW5zLnJlZnJlc2goZmFsc2UpO2Zvcih2YXIgaT0wO2k8bmF2aWdhdG9yLnBsdWdpbnMubGVuZ3RoO2krKyl7cGx1Z2luPW5hdmlnYXRvci5wbHVnaW5zW2ldO2JvZHkuYWRkRWxlKCdoNCcscGx1Z2luLm5hbWUpLmNsYXNzTmFtZT0ncGx1Z2luLW5hbWUnO2JvZHkuYWRkRWxlKCdibG9ja3F1b3RlJyxwbHVnaW4uZGVzY3JpcHRpb24rbG5nLmZyb20rcGx1Z2luLmZpbGVuYW1lK2xuZy5hZnRlcik7dGFibGU9Ym9keS5hZGRFbGUoJ3RhYmxlJyk7dHI9dGFibGUuYWRkRWxlKCd0aGVhZCcpLmFkZEVsZSgndHInKTt0ci5hZGRFbGUoJ3RoJyxsbmcubWltZSkuY2xhc3NOYW1lPSdNSU1FLXR5cGUnO3RyLmFkZEVsZSgndGgnLGxuZy5kZXNjKS5jbGFzc05hbWU9J2Rlc2NyaXB0aW9uJzt0ci5hZGRFbGUoJ3RoJyxsbmcuZXh0KS5jbGFzc05hbWU9J2V4dGVuc2lvbnMnO3Rib2R5PXRhYmxlLmFkZEVsZSgndGJvZHknKTtmb3IodmFyIGo9MDtqPHBsdWdpbi5sZW5ndGg7aisrKXt0cj10Ym9keS5hZGRFbGUoJ3RyJyk7dHIuYWRkRWxlKCd0ZCcscGx1Z2luW2pdLnR5cGUpLmNsYXNzTmFtZT0nTUlNRS10eXBlJzt0ci5hZGRFbGUoJ3RkJyxwbHVnaW5bal0uZGVzY3JpcHRpb24pLmNsYXNzTmFtZT0nZGVzY3JpcHRpb24nO3RyLmFkZEVsZSgndGQnLHBsdWdpbltqXS5zdWZmaXhlcykuY2xhc3NOYW1lPSdleHRlbnNpb25zJ319PC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg==','_blank','resizable=yes,scrollbars=yes,location=no,width=800,height=500,left=100,top=100'))">Plug-ins</a> - Информация о установленных плагинах.


<!--<br><a class="button" href="javascript:(function(){var d='ujs_upload_alt';var b=document.getElementById(d);if(b){b.parentNode.removeChild(b);return};b=document.createElement('div');b.setAttribute('style','display:block;position:fixed;right:0;bottom:0;background:-o-skin(%5Cx22Window Skin%5Cx22);border:1px solid;padding:10px;z-index:9999;');b.id=d;var l=' target=%5C'_blank%5C' style=%5C'text-decoration:none;color:%230000cc;font:14px Times New Roman;%5C'';var f=' style=%5C'margin:5px;display:block;%5C' target=%5C'_blank%5C' method=%5C'post%5C' enctype=%5C'multipart/form-data%5C' ';var s=' style=%5C'font:13px Arial;%5C' onchange=%5C'this.parentNode.submit()%5C'';b.innerHTML='<img src=%5C'data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAICTAEAOw==%5C' title=%5C'Close%5C' style=%5C'display:block;position:relative;float:right;height:18px;width:18px;left:5px;bottom:5px;margin:1px;background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer;%5C' onclick=%5C'this.parentNode.parentNode.removeChild(this.parentNode)%5C'><a href=%5C'http://www.imageshack.us%5C''+l+'>Imageshack.us</a><form action=%5C'http://www.imageshack.us/index.php%5C''+f+'name=%5C'Upload%5C'><input type=%5C'file%5C' name=%5C'fileupload%5C''+s+'><input type=%5C'hidden%5C' name=%5C'MAX_FILE_SIZE%5C' value=%5C'1048576%5C'></form><a href=%5C'http://rapidshare.de%5C''+l+'>RapidShare.de</a><form action=%5C'http://ul8.rapidshare.de/cgi-bin/upload.cgi%3Frsuploadid=155185660696862288%5C''+f+'name=%5C'ul%5C'><input type=%5C'file%5C' name=%5C'filecontent%5C''+s+'></form>';document.documentElement.appendChild(b)})();">Upload</a> - Создаёт панель для закачки на <a class="simple" href="http://www.imageshack.us/">imageshack.us</a> и <a class="simple" href="http://rapidshare.de/">rapidshare.de</a>.-->
<br><a class="button" href="javascript:(function(){var c='ujs_max_upload',w=window,d=(w.document.body instanceof HTMLFrameSetElement%3Fw.frames[0]:w).document,e=d.getElementById(c);if(e){e.del();return};e=d.createElement('div');e.id=c;e.setAttribute('style','display:none;position:fixed;right:0;bottom:0;width:auto;height:auto;border:1px solid %23555;padding:10px;text-align:left;z-index:99999;background-color:%23EEE;background:-o-skin(%5Cx22Window Skin%5Cx22);');e.add=function(lnk,frm){var d=this.ownerDocument,a=d.createElement('a');a.href=lnk.href;a.target='_blank';a.setAttribute('style','padding:0;margin:0;border:none;text-decoration:none;color:%2300C;font:14px Times New Roman;');a.appendChild(d.createTextNode(lnk.text));this.appendChild(a);var f=d.createElement('form');f.action=lnk.action;f.method='post';f.enctype='multipart/form-data';f.target='_blank';f.setAttribute('style','display:block;margin:5px;');var t=d.createElement('input');t.type='file';t.name=lnk.name;t.setAttribute('style','width:auto;height:auto;padding:1px;margin:0;border-color:%23AAA;font:12px Arial;');t.onchange=function(){this.nextSibling.disabled=!this.value};f.appendChild(t);var s=d.createElement('input');s.type='submit';s.value='Upload';s.disabled=true;s.setAttribute('style','width:auto;height:auto;padding:1px 4px;margin:0 0 0 2px;color:buttontext;font:12px Arial;');f.appendChild(s);if(frm)for(var name in frm){var h=d.createElement('input');h.type='hidden';h.name=name;h.value=frm[name];f.appendChild(h)};this.appendChild(f)};e.vis=function(v){this.style.display=v%3F'block':'none';return this.offsetHeight*this.offsetWidth};e.del=function(){this.vis(false);this.parentNode.removeChild(this)};var b=d.createElement('div');b.title='Close';b.setAttribute('style','display:block;float:right;height:18px;width:18px;padding:0;margin:-5px;border:none;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAAZElEQVR42mNgGNyAGQixsVGU/AdCXjCbHczmxKaMFywlAlWiw6DAwIZNmQhYGqJEDWoqFiAGVmKKTwk73CRJ/Ep0GIyhbsPpO4hbIG4TwKaMk0EZ7hYBBk1cvmNDEmbDrmSwAADE8h10+qICXwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=&quot;);background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer');b.onclick=function(){this.parentNode.del()};e.appendChild(b);e.add({href:'http://www.imageshack.us',text:'Imageshack.us',action:'http://post.imageshack.us/',name:'fileupload'},{MAX_FILE_SIZE:'1048576',key:'07AHPRSUb540e13d31461ec4d69d5fc122bd5ab7'});e.add({href:'http://www.radikal.cc',text:'Радикал-Фото',action:'http://www.radikal.cc/action.aspx',name:'F'},{upload:'yes',VM:'180'});e.add({href:'http://fastpic.ru',text:'FastPic.ru',action:'http://fastpic.ru/uploadmulti',name:'file[]'},{uploading:'1'});e.add({href:'http://multi-up.com',text:'Multi-up.com',action:'http://multi-up.com/up.php',name:'upload'});e.add({href:'http://zalil.ru',text:'Zalil.ru',action:'http://zalil.ru/upload/',name:'file'});e.add({href:'http://rghost.ru/',text:'Rghost.ru',action:'http://kaon.rghost.ru/files',name:'file'},{'data-max-file-size':'52428800'});d.documentElement.appendChild(e);e.vis(true)})();">Upload to</a> - Создаёт панель для закачки на <a class="simple" href="http://www.imageshack.us/">imageshack.us</a>, <a class="simple" href="http://foto.radikal.ru/">foto.radikal.ru</a>, <a class="simple" href="http://fastpic.ru/">fastpic.ru</a>, <a class="simple" href="http://multi-up.com/">multi-up.com</a>, <a class="simple" href="http://zalil.ru/">zalil.ru</a> и <a class="simple" href="http://rghost.ru/">rghost.ru</a>.
<br><a class="button" href="javascript:(function(){var getRandomPass=function(d){var chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';var rez='';var len=d&gt;=3%3Fd:3;while(rez.length&lt;len){rez+=chars.charAt(Math.floor(Math.random()*chars.length))}return/^(%3F=.*%5Cd)(%3F=.*[a-z])(%3F=.*[A-Z]).+$/.test(rez)%3Frez:arguments.callee(len)};var findPassEle=function(p){var c,s='',r=false,f=document.getElementsByTagName('form');for(var i=0;i&lt;f.length;i++){c=f[i].elements;for(var j=0,e;e=c[j];j++){if(e.type=='password'){r=true;if(p){e.value=p;e.focus()}else if(e.value)s+='%5Cn%5Cn'+e.value}}};return r%3Fs:null};var s=findPassEle();if(s){alert('На этой странице уже имеется пароль:'+s)}else{findPassEle(prompt('Пароль сгенерирован'+(s==null%3F':':'. Вставить%3F'),getRandomPass(12)))}})()">Create/Show password</a> - Генерирует и вставляет случайный пароль либо показывает уже имеющийся на странице.
<br><a class="button" href="javascript:(function(w){var arr=['contextmenu','copy','cut','paste','mousedown','mouseup','beforeunload','beforeprint'];for(var i=0,x;x=arr[i];i++){if(w['on'+x])w['on'+x]=null;w.addEventListener(x,function(e){e.stopPropagation()},true)};for(var j=0,f;f=w.frames[j];j++){try{arguments.callee(f)}catch(e){}}})(window);">Allow copy/context menu</a> - На некоторых сайтах заблокировано контекстное меню или копирование текста, или даже нельзя закрыть страницу. Этот скрипт решает подобные проблемы.
<br><a class="button" href="javascript:(function(){var p=location.protocol+'//',h=location.host+'/';if(location.href==p+h){var a=h.split('.'),l=a.length,n=2;if(l>2){if(a[0]=='www'){a.shift();l--};if(/^(co|com|net|org|edu|gov|mil|int)$/i.test(a[l-2]))n++}if(l>n){h=(n==3%3Fa[l-3]+'.':'')+a[l-2]+'.'+a[l-1]}else{p='http://www.google.com/search%3Fq=related:'+p}};location.href=p+h})()">Up</a> - Перенаправляет на самый верх (т.е. с http://site.ru/.../page.html на http://site.ru/) или на список похожих страниц, если вы уже наверху.

<br><a class="button" href="javascript:(function(){var getSel=function(w){var s,d=w.document;if(d.selection){var r=d.selection.createRange();s=r%3Fr.text:''}else{s=d.getSelection().toString();if(!s){var e,t=d.getElementsByTagName('textarea'),u=d.getElementsByTagName('input'),i=t.length;while(e=(i&gt;0)%3Ft[--i]:u[-i--])try{if(e.offsetHeight&gt;0&amp;&amp;(s=e.value.substring(e.selectionStart,e.selectionEnd)))break}catch(x){}}};if(!s)for(var i=0,f;f=w.frames[i];i++){try{if(s=arguments.callee(f))break}catch(x){}};return s};var w=window,s=w.prompt('Поиск на этом сайте с помощью Google',getSel(w));if(s){w.open('http://www.google.com/search%3Fas_q='+encodeURIComponent(s)+'&amp;as_sitesearch='+w.location.hostname)}})();">Google</a> - Поиск <a class="simple" href="http://www.google.ru/">Google</a> по текущему сайту для выделенного (включая фреймы) или набранного текста.
<br><a class="button" href="javascript:(function(){var getSelWin=function(w){if(w.getSelection().toString())return w;for(var i=0,f,r;f=w.frames[i];i++){try{if(r=getSelWin(f))return r}catch(e){}}};var selWin=getSelWin(window),win=selWin||window,doc=win.document,loc=win.location;var qualifyURL=function(url,base){if(!url||/^([a-z]+:|%23)/.test(url))return url;var a=doc.createElement('a');if(base){a.href=base;a.href=a.protocol+(url.charAt(0)=='/'%3F(url.charAt(1)=='/'%3F'':'//'+a.host):'//'+a.host+a.pathname.slice(0,(url.charAt(0)!='%3F'&amp;&amp;a.pathname.lastIndexOf('/')+1)||a.pathname.length))+url}else{a.href=url};return a.href};var encodeImg=function(src,obj){var canvas,img,ret=src;if(/^https%3F:%5C/%5C//.test(src)){canvas=doc.createElement('canvas');if(!obj||obj.nodeName.toLowerCase()!='img'){img=doc.createElement('img');img.src=src}else{img=obj};if(img.complete)try{canvas.width=img.width;canvas.height=img.height;canvas.getContext('2d').drawImage(img,0,0);ret=canvas.toDataURL((/%5C.jpe%3Fg/i.test(src)%3F'image/jpeg':'image/png'))}catch(e){};if(img!=obj)img.src='about:blank'};return ret};var toSrc=function(obj){var strToSrc=function(str){var chr,ret='',i=0,meta={'%5Cb':'%5C%5Cb','%5Ct':'%5C%5Ct','%5Cn':'%5C%5Cn','%5Cf':'%5C%5Cf','%5Cr':'%5C%5Cr','%5Cx22':'%5C%5C%5Cx22','%5C%5C':'%5C%5C%5C%5C'};while(chr=str.charAt(i++)){ret+=meta[chr]||chr};return'%5Cx22'+ret+'%5Cx22'},arrToSrc=function(arr){var ret=[];for(var i=0;i&lt;arr.length;i++){ret[i]=toSrc(arr[i])||'null'};return'['+ret.join(',')+']'},objToSrc=function(obj){var val,ret=[];for(var prop in obj){if(Object.prototype.hasOwnProperty.call(obj,prop)&amp;&amp;(val=toSrc(obj[prop])))ret.push(strToSrc(prop)+': '+val)};return'{'+ret.join(',')+'}'};switch(Object.prototype.toString.call(obj).slice(8,-1)){case'Array':return arrToSrc(obj);case'Boolean':case'Function':case'RegExp':return obj.toString();case'Date':return'new Date('+obj.getTime()+')';case'Math':return'Math';case'Number':return isFinite(obj)%3FString(obj):'null';case'Object':return objToSrc(obj);case'String':return strToSrc(obj);default:return obj%3F(obj.nodeType==1&amp;&amp;obj.id%3F'document.getElementById('+strToSrc(obj.id)+')':'{}'):'null'}};var ele,pEle,clone,reUrl=/(url%5C(%5Cx22%3F)(.+%3F)(%5Cx22%3F%5C))/g;if(selWin){var rng=win.getSelection().getRangeAt(0);pEle=rng.commonAncestorContainer;ele=rng.cloneContents()}else{pEle=doc.documentElement;ele=(doc.body||doc.getElementsByTagName('body')[0]).cloneNode(true)};while(pEle){if(pEle.nodeType==1){clone=pEle.cloneNode(false);clone.appendChild(ele);ele=clone};pEle=pEle.parentNode};var sel=doc.createElement('div');sel.appendChild(ele);for(var el,all=sel.getElementsByTagName('*'),i=all.length;i--;){el=all[i];if(el.style&amp;&amp;el.style.backgroundImage)el.style.backgroundImage=el.style.backgroundImage.replace(reUrl,function(a,b,c,d){return b+encodeImg(qualifyURL(c))+d});switch(el.nodeName.toLowerCase()){case'link':case'style':case'script':el.parentNode.removeChild(el);break;case'a':case'area':if(el.hasAttribute('href')&amp;&amp;el.getAttribute('href').charAt(0)!='%23')el.href=el.href;break;case'img':case'input':if(el.hasAttribute('src'))el.src=encodeImg(el.src,el);break;case'audio':case'video':case'embed':case'frame':case'iframe':if(el.hasAttribute('src'))el.src=el.src;break;case'object':if(el.hasAttribute('data'))el.data=el.data;break;case'form':if(el.hasAttribute('action'))el.action=el.action;break}};var head=ele.insertBefore(doc.createElement('head'),ele.firstChild);var meta=doc.createElement('meta');meta.httpEquiv='content-type';meta.content='text/html; charset=utf-8';head.appendChild(meta);var title=doc.getElementsByTagName('title')[0];if(title)head.appendChild(title.cloneNode(true));head.copyScript=function(){if('$'in win)return;var f=doc.createElement('iframe');f.src='about:blank';f.setAttribute('style','position:fixed;left:0;top:0;visibility:hidden;width:0;height:0;');doc.documentElement.appendChild(f);var str,script=doc.createElement('script');script.type='text/javascript';for(var name in win){if(name in f.contentWindow||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name))continue;try{str=toSrc(win[name]);if(!/%5C{%5Cs*%5C[native code%5C]%5Cs*%5C}/.test(str)){script.appendChild(doc.createTextNode('var '+name+' = '+str.replace(/&lt;%5C/(script&gt;)/ig,'&lt;%5C%5C/$1')+';%5Cn'))}}catch(e){}};f.parentNode.removeChild(f);if(script.childNodes.length)this.nextSibling.appendChild(script)};head.copyScript();head.copyStyle=function(s){if(!s)return;var style=doc.createElement('style');style.type='text/css';if(s.media&amp;&amp;s.media.mediaText)style.media=s.media.mediaText;try{for(var i=0,rule;rule=s.cssRules[i];i++){if(rule.type!=3){if((!rule.selectorText||rule.selectorText.indexOf(':')!=-1)||(!sel.querySelector||sel.querySelector(rule.selectorText))){style.appendChild(doc.createTextNode(rule.cssText.replace(reUrl,function(a,b,c,d){var url=qualifyURL(c,s.href);if(rule.type==1&amp;&amp;rule.style&amp;&amp;rule.style.backgroundImage)url=encodeImg(url);return b+url+d})+'%5Cn'))}}else{this.copyStyle(rule.styleSheet)}}}catch(e){if(s.ownerNode)style=s.ownerNode.cloneNode(false)};this.appendChild(style)};var sheets=doc.styleSheets;for(var j=0;j&lt;sheets.length;j++)head.copyStyle(sheets[j]);head.appendChild(doc.createTextNode('%5Cn'));var doctype='',dt=doc.doctype;if(dt&amp;&amp;dt.name){doctype+='&lt;!DOCTYPE '+dt.name;if(dt.publicId)doctype+=' PUBLIC %5Cx22'+dt.publicId+'%5Cx22';if(dt.systemId)doctype+=' %5Cx22'+dt.systemId+'%5Cx22';doctype+='&gt;%5Cn'};loc.href='data:text/phf;charset=utf-8,'+encodeURIComponent(doctype+sel.innerHTML+'%5Cn&lt;!-- This document saved from '+(loc.protocol!='data:'%3Floc.href:'data:uri')+' --&gt;')})();">Save snapshot</a> - Сохраняет выделенную часть страницы или её всю, если ничего не выделено.
<br><a class="button" href="javascript:(function(){document.designMode=(document.designMode=='on')%3F%27off%27:%27on%27})()">Design mode</a> - Включает/выключает режим редактирования страницы. Позволяет отредактировать страницу перед её сохранением кнопкой "Save snapshot".

<br><a class="button" href="javascript:(function(){var prequote=function(v){var n='',u='';var c=navigator.lastClicked||window.getSelection().getRangeAt(0).commonAncestorContainer;if(location.hostname=='forum.ru-board.com'){while(c.className!='tpc'&amp;&amp;c.parentNode){c=c.parentNode};if(c.className!='tpc')return;var tn=c.parentNode.parentNode.childNodes[1].childNodes[0].childNodes[1];n='[b]'+c.parentNode.firstChild.innerText.replace(/%5Cn.*/g,'')+'[/b] ';u='[url='+tn.childNodes[5].href+'][color=%23007777][size=1][u]'+tn.childNodes[7].innerText.replace(/^ +/,'').replace(/ +$/,'')+'[/u][/size][/color][/url] '};if(window.smf_theme_url){while((c.className||'').indexOf('windowbg')==-1&amp;&amp;c.parentNode){c=c.parentNode};var dv=c.getElementsByTagName('div');for(var i=0,di;di=dv[i];i++){if(di.className=='post'){c=di;break}};if(c.className!='post')return;n='[b]'+c.parentNode.parentNode.getElementsByTagName('a')[0].innerText+'[/b] ';u='[url='+c.parentNode.getElementsByTagName('a')[0].href+'][size=1][u][%3F][/u][/size][/url] '};if(v.indexOf(n)!=-1)n='';if(v.indexOf(u)!=-1)u='';return n+u};var s=window.getSelection();if(s!=''){var sel=document.createElement('div');sel.appendChild(s.getRangeAt(0).cloneContents());var ele=sel.getElementsByTagName('*');for(var i=0,e;e=ele[i];i++){switch(e.tagName.toUpperCase()){case'A':e.innerHTML='[url='+e.href+']'+e.innerHTML+'[/url]';break;case'FONT':if(e.color){e.innerHTML='[color='+e.color+']'+e.innerHTML+'[/color]'};break;case'DIV':if(e.className=='code'){e.innerHTML='[code]'+e.innerHTML+'[/code]'}else if(e.className=='quote'){e.innerHTML='[quote]'+e.innerHTML+'[/quote]'}else{e.innerHTML='&lt;br&gt;'+e.innerHTML};break;case'B':case'STRONG':e.innerHTML='[b]'+e.innerHTML+'[/b]';break;case'I':case'EM':e.innerHTML='[i]'+e.innerHTML+'[/i]';break;case'U':e.innerHTML='[u]'+e.innerHTML+'[/u]';break;case'PRE':e.innerHTML='[code]'+e.innerHTML+'[/code]';break;case'BLOCKQUOTE':case'Q':e.innerHTML='[quote]'+e.innerHTML+'[/quote]';break;case'IMG':e.outerHTML+='[img]'+e.src+'[/img]';break}};var txt=sel.innerText;var pre,t,ta=document.getElementsByTagName('textarea');for(var i=ta.length;i--;){t=ta[i];if(t.rows&gt;4&amp;&amp;t.offsetHeight&gt;0)break};if(!t||t.offsetHeight==0){if(txt)prompt('Пожалуйста, скопируйте BBcode:',txt);return}if(t.rows&lt;15){var len=t.rows+txt.split('%5Cn').length;t.rows=(len&lt;=15)%3Flen:15};try{pre=prequote(t.value)||''}catch(e){pre=''};var tEnd=t.selectionEnd;var tLen=t.value.length;t.value=t.value.substring(0,tEnd)+pre+'[quote]'+txt+'[/quote]%5Cr%5Cn'+t.value.substring(tEnd,tLen);tEnd+=t.value.length-tLen;t.setSelectionRange(tEnd,tEnd);t.focus()}else ujs_bbcode_tag('[quote]')})()">Quote+</a> - Для форумов. Копирует выделенный текст с частичным сохранением форматирования в форму ответа и обрамляет его тегами [quote].
<br><a class="button" href="javascript:(function(){var getTextarea=function(){var t,ta=document.getElementsByTagName('textarea');var tl=ta.length-1;do{t=ta[tl];tl--}while(t&amp;&amp;(t.rows&lt;5||t.offsetHeight==0));return t};var b,x,l,t,n,h,v,u='ujs_pv';b=document.getElementById(u);if(b){b.parentNode.removeChild(b);return};x=navigator.lastFocusedTextArea||getTextarea();if(!x)return;l=x.offsetLeft;t=x.offsetTop;n=x;while(n.offsetParent){n=n.offsetParent;l+=n.offsetLeft;t+=n.offsetTop};h=x.value.replace(/&lt;/g,'&amp;lt;').replace(/&gt;/g,'&amp;gt;').replace(/%5Cn/g,'&lt;br&gt;').replace(/%5C[url=(.*%3F)%5C](.*%3F)%5C[%5C/url%5C]/gi,'&lt;a href=%5Cx22$1%5Cx22&gt;$2&lt;/a&gt;').replace(/%5C[email=(.*%3F)%5C](.*%3F)%5C[%5C/email%5C]/gi,'&lt;a href=%5Cx22mailto:$1%5Cx22&gt;$2&lt;/a&gt;').replace(/%5C[(center|left|right)%5C](.*%3F)%5C[%5C/%5C1%5C]/gi,'&lt;div style=%5Cx22text-align: $1%5Cx22&gt;$2&lt;/div&gt;').replace(/%5C[((%3F:color|size)=.*%3F)%5C]/gi,'&lt;font $1&gt;').replace(/%5C[font=(.*%3F)%5C]/gi,'&lt;font face=%5Cx22$1%5Cx22&gt;').replace(/%5C[%5C/(color|size|font)%5C]/gi,'&lt;/font&gt;').replace(/%5C[(%5C/%3F)quote%5C]/gi,'&lt;$1blockquote&gt;').replace(/%5C[(%5C/%3F)([bius]|code|hr|sup|sub|strike)%5C]/gi,'&lt;$1$2&gt;').replace(/%5C[img%5C](.*%3F)%5C[%5C/img%5C]/gi,'&lt;img src=%5Cx22$1%5Cx22&gt;');v=document.createElement('div');v.id=u;v.setAttribute('style','position:absolute;left:'+l+'px;top:'+t+'px;height:'+(x.offsetHeight-2)+'px;width:'+(x.offsetWidth-10)+'px;overflow:auto;background:white;padding:0 4px;border:1px solid gray;font:'+getComputedStyle(x,null).font);v.innerHTML=h;document.documentElement.appendChild(v)})()">Preview</a> - Предпросмотр в форумах.
<br><a class="button" href="javascript:(function(){var getVideo=function(flashvars,src){var getLink=function(s){var a=s.match(/[^%5Cs%5Cx22=&amp;%3F]+%5C.[^%5Cs%5Cx22=&amp;%3F%5C/]*(flv|mp4)/i);return a%3Fa[0]:''};var getQuery=function(s,q){var a=s.match(new RegExp('(^|[&amp;%3F])'+q+'=([^&amp;]+)'));return a%3Fa[2]:''};var getJson=function(s,q){var a=s.match(new RegExp('%5Cx22'+q+'%5Cx22:%5C%5Cs*(%5Cx22.+%3F%5Cx22)'));return a%3Feval(a[1]):''};var getURL=function(f,s){return f.match(/^(%5Cw+:%5C/%5C/|%5C/|$)/)%3Ff:s.replace(/[%23%3F].*$/,'').replace(/[^%5C/]*$/,f)};var decodeURL=function(s){try{return decodeURIComponent(s)}catch(e){return unescape(s)}};var q='',url=location.href,flv=decodeURL(flashvars);if(url.indexOf('youtube.com/watch%3F')!=-1&amp;&amp;(q=getQuery(flv,'url')))return decodeURL(q)+'&amp;signature='+getQuery(flv,'sig')+'&amp;title='+encodeURIComponent(document.title);if(url.indexOf('video.google.com/videoplay%3F')!=-1&amp;&amp;(q=getQuery(src,'videoUrl')))return decodeURL(q);if(url.indexOf('metacafe.com/watch/')!=-1&amp;&amp;(q=getJson(flv,'mediaURL')))return q+'%3F__gda__='+getJson(flv,'value');if(url.indexOf('dailymotion.com/')!=-1&amp;&amp;(q=getJson(flv,'hqURL')||getJson(flv,'sdURL')))return q;if(url.indexOf('www.break.com/')!=-1&amp;&amp;(q=getQuery(flv,'videoPath')))return q+'%3F'+getQuery(flv,'icon');if(url.indexOf('my-hit.ru/film/')!=-1&amp;&amp;(q=getLink(flv)))return q+'%3Fstart=0&amp;id='+getQuery(flv,'id');return getURL(getLink(flv)||decodeURL(getLink(src)),src)};var createLink=function(url,txt){var oLnk=document.createElement('a');oLnk.setAttribute('href',url);oLnk.setAttribute('style','display:inline;margin:0;padding:0;font:14px Times New Roman;text-decoration:underline;text-transform:none;');oLnk.appendChild(document.createTextNode(txt));return oLnk};var showLink=function(oEle,src,flv){var cName='ujs_downlink';var p=oEle.previousSibling;if(p&amp;&amp;p.className==cName){oEle.parentNode.removeChild(p);return};if(src){var oDiv=document.createElement('div');oDiv.setAttribute('style','display:block;position:static;float:none;margin:0;padding:0;width:auto;height:auto;font:14px Times New Roman;color:%23555;z-index:999;');oDiv.className=cName;oDiv.appendChild(createLink(src,'Download'));var v=getVideo(flv,src);if(v){oDiv.appendChild(document.createTextNode(' ('));oDiv.appendChild(createLink(v,'Video'));oDiv.appendChild(document.createTextNode(')'))};oEle.parentNode.insertBefore(oDiv,oEle)}};var getParam=function(e,n){var v='',r=new RegExp('^('+n+')$','i');var param=e.getElementsByTagName('param');for(var i=0,p;p=param[i];i++){if(r.test(p.getAttribute('name'))){v=p.getAttribute('value');break}};return v};var searchEmbed=function(w){if(!w)return;var obj=w.document.getElementsByTagName('object');for(var i=0,oi;oi=obj[i];i++){if(oi.parentNode)showLink(oi,oi.getAttribute('data')||oi.getAttribute('src')||getParam(oi,'movie|data|src|code|filename|url')||(oi.getElementsByTagName('embed').length&amp;&amp;oi.getElementsByTagName('embed')[0].getAttribute('src')),getParam(oi,'flashvars'))};var em=w.document.getElementsByTagName('embed');for(var i=0,ei;ei=em[i];i++){if(ei.parentNode&amp;&amp;ei.parentNode.nodeName.toLowerCase()!='object')showLink(ei,ei.getAttribute('src'),ei.getAttribute('flashvars'))};for(var j=0,f;f=w.frames[j];j++){try{arguments.callee(f)}catch(e){}}};searchEmbed(window)})()">Get flash</a> - Создаёт перед каждой флэшкой ссылку для скачивания, включая флэшки во фреймах. Также показывает ссылку на флэш-видео, если она явно задана, как например, на <a class="simple" href="http://www.world-art.ru/">world-art.ru</a> или <a class="simple" href="http://break.com/">break.com</a>. Дополнительно поддерживаются <a class="simple" href="http://www.youtube.com/">youtube.com</a>, <a class="simple" href="http://video.google.com/">video.google.com</a>, <a class="simple" href="http://www.metacafe.com/">metacafe.com</a> и <a class="simple" href="http://www.dailymotion.com/">dailymotion.com</a>. Второе нажатие на кнопку уберёт ссылки.
<br><a class="button" href="javascript:(function(){var q='  ',C={img:1,br:1,link:1,input:1,hr:1,meta:1},u=false,v=0,D=1,g=window.document,m=window.location,w='resizable=yes,scrollbars=yes,location=no',h='&lt;/span&gt;&lt;/li&gt;';var x=function(a){return'&lt;span class=%5C'tag%5C'&gt;&amp;lt;'+a+''};var y=function(a){return(a%3F'/':'')+'&amp;gt;&lt;/span&gt;'};var z=function(a,b){if(b||C[a.toLowerCase()])return'';return'&lt;span class=%5C'tag%5C'&gt;&amp;lt;/'+a+'&amp;gt;&lt;/span&gt;'};var j=function(){var a=v.toString();while(a.length&lt;3)a='0'+a;return'&lt;li class=%5C'line'+(D&amp;&amp;((v++)&amp;1)%3F' dark%5C'':'%5C'')+'&gt;&lt;span&gt;'};var n=function(a){return a.replace(/&lt;/g,'&amp;lt;').replace(/&gt;/g,'&amp;gt;')};var E=function(a){var b=a.doctype,c='';if(b){c=j()+x('!DOCTYPE')+' &lt;span class=%5C'attrDoc%5C'&gt;'+b.nodeName+(b.publicId%3F' PUBLIC %5C''+b.publicId+'%5C'':'')+(b.systemId%3F'&lt;/span&gt;&lt;/span&gt;'+h+j()+'&lt;span class=%5C'tag%5C'&gt;&lt;span class=%5C'attrDoc%5C'&gt;'+q+'%5C''+b.systemId+'%5C'':'')+'&lt;/span&gt;'+y()+h}return c};var F=function(a){var b=a.attributes,c=null,d='';for(var f=0;c=b[f];f++){if(c.specified&amp;&amp;c.value){d+=' &lt;span class=%5C'attrTitle%5C'&gt;'+c.name+'&lt;/span&gt;=&lt;span class=%5C'attrValue%5C'&gt;%5Cx22'+n(c.value.replace(/%5Ct/g,q))+'%5Cx22&lt;/span&gt; '}}return d};var r=function(a){return n(a.nodeValue.replace(/[%5Cn%5Ct%5Cr%5Cu00A0]+ */g,'').replace(/ +/g,' '))};var G=function(a){var b=0,c='';while(b&lt;a){c+=q;b++}return c};var A=function(a,b,c){var d='',f=G(b++);switch(a.nodeType){case 1:{var i=a.childNodes,k=null;var s=(i.length==0)||(i.length==1&amp;&amp;i[0].nodeType==3);var t=u&amp;&amp;i.length==0;var l=j()+f+x(a.nodeName)+F(a)+y(t);if(!s)l+=h;for(var B=0;k=i[B];B++){l+=A(k,b,!s&amp;&amp;k.nodeType==3)}if(s){l+=(a.nodeName.toLowerCase()=='textarea'%3Fn(a.value):'')+z(a.nodeName,t)+h}else{l+=j()+f+z(a.nodeName,t)+h}return l}case 3:{if((d=r(a))&amp;&amp;c){return j()+f+d+h}else{return d}}case 4:{d=r(a);return j()+f+'&lt;span class=%5C'cdata%5C'&gt;&amp;lt;![CDATA[&lt;/span&gt;'+d+'&lt;span class=%5C'cdata%5C'&gt;]]&amp;gt;&lt;/span&gt;'+h}case 8:{d=r(a);return j()+f+'&lt;span class=%5C'comment%5C'&gt;&amp;lt;!--'+d+'--&amp;gt;&lt;/span&gt;'+h}}return a.nodeType};var H=function(a){var b,c='';if(a){var d=a.getSelection().getRangeAt(0),f=d.commonAncestorContainer;if(f.nodeType==3||f.nodeType==4)f=f.parentNode;b=f.cloneNode(false);b.appendChild(d.cloneContents());var i=d.startContainer,k=d.endContainer;if(i!=f.firstChild||(i.nodeType==3&amp;&amp;d.startOffset!=0))b.insertBefore(g.createTextNode('%5Cu2026'),b.firstChild);if(k!=f.lastChild||(k.nodeType==3&amp;&amp;d.endOffset!=k.nodeValue.length))b.appendChild(g.createTextNode('%5Cu2026'))}else{c=E(g);b=g.documentElement};c+=A(b,0);return c};var I=function(a){if(a&amp;&amp;a.getSelection){if(a.getSelection().toString())return a;for(var b=0,c,d;c=a.frames[b];b++){try{if(d=arguments.callee(c))return d}catch(e){}}}};var o=I(window);if(o){g=o.document;m=o.location;w+=',width=800,height=500,left=100,top=100'};u=/[a-z]/.test(g.documentElement.nodeName);var J='&lt;!DOCTYPE html PUBLIC&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Snapshot: '+((g.getElementsByTagName('title').length&amp;&amp;n(g.getElementsByTagName('title')[0].text))||(m.protocol+'//'+m.host+m.pathname))+'&lt;/title&gt;&lt;style type=%5C'text/css%5C'&gt;body{padding:0 5px;margin:0;font-family:sans-serif;font-size:.7em;background-color:%23FFF;color:%23000;}%23content{white-space:pre-wrap}ol{color:%23999;}span{color:%23000}.tag{color:%2305F}.attrTitle{color:%23E00}.attrValue{color:%23C0C}.attrDoc{color:%23800080}.comment{color:%23008000}.cdata{color:%2363D}.line{margin:0;padding:0}.dark{background-color:%23FAFAFA}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;ol id=%5C'content%5C'&gt;'+H(o)+'&lt;/ol&gt;&lt;/body&gt;&lt;/html&gt;';var p=window.open('about:blank','_blank',w);p.document.write(J);p.document.onkeydown=function(a){if(a.keyCode==27)p.close()};p.document.close()})()">Source</a> - Показывает исходный код страницы или выделения. Основано на liveSource.js by <b>aleto</b>.
<br><a class="button" href="javascript:(function(){var formatSize=function(h){if(!h||isNaN(h=parseInt(h)))return'неизвестно';var kb=1024,mb=kb*kb,gb=mb*kb,add=' ('+h+' byte)';if(h&lt;kb)return h+' B';if(h&lt;mb)return(h/kb).toFixed(1)+' KiB'+add;if(h&lt;gb)return(h/mb).toFixed(1)+' MiB'+add;return(h/gb).toFixed(1)+' GiB'+add};var formatDate=function(h){return h?new Date(h).toLocaleString():'неизвестно'};var responseTime=function(s){return Math.round((new Date()-s)/100)/10+' сек'};var getInfo=function(u,s){var jsc=('js'+Math.random()).replace('.','n'),ele=document.documentElement.appendChild(document.createElement('script'));window[jsc]=function(o){alert(o.ok&amp;&amp;o.headers?'Файл: '+u+'%5Cn%5CnВремя отклика: '+responseTime(s)+'%5Cn%5CnРазмер: '+formatSize(o.headers['content-length'])+'%5CnДата: '+formatDate(o.headers['last-modified'])+'%5Cn%5CnСтатус: '+o['status_code']+(o.headers['server']?'%5CnСервер: '+o.headers['server']:'')+(o.headers['content-type']?'%5CnТип: '+o.headers['content-type']:''):'Информация недоступна.');ele.parentNode.removeChild(ele);delete window[jsc]};ele.src='http://json-head.appspot.com/?url='+encodeURIComponent(u)+'&amp;callback='+jsc};var getLink=function(){var ele,range,tmp,sel=window.getSelection(),str=sel.toString();if(str){range=sel.getRangeAt(0);ele=range.commonAncestorContainer;if(ele.nodeType==1){tmp=document.createElement('div');tmp.appendChild(range.cloneContents());ele=tmp.getElementsByTagName('a')[0]}else{while(ele.nodeName.toLowerCase()!='a'&amp;&amp;ele.parentNode)ele=ele.parentNode}};return(ele&amp;&amp;ele.href)||str.replace(/^%5Cs+|%5Cs+$/g,'')};var reqTimeout,notRun=true,url=getLink(),start=new Date();if(!/^https?:/i.test(url)){alert('Протокол не поддерживается:%5Cn%5Cn'+url);return};try{var req=new XMLHttpRequest();req.open('HEAD',url+'?',true);req.onreadystatechange=function(){if(this.readyState==4){clearTimeout(reqTimeout);if(this.status||this.getAllResponseHeaders()){alert('Файл: '+url+'%5Cn%5CnВремя отклика: '+responseTime(start)+'%5Cn%5CnРазмер: '+formatSize(this.getResponseHeader('Content-Length'))+'%5CnДата: '+formatDate(this.getResponseHeader('Last-Modified'))+'%5Cn%5CnЗаголовки:%5CnStatus: '+this.status+' '+this.statusText+'%5Cn'+this.getAllResponseHeaders())}else{notRun=getInfo(url,start)}}};req.send(null);reqTimeout=setTimeout(function(){req.abort()},10000)}catch(e){if(notRun)getInfo(url,start)}})()">GetFileSize</a> - Показывает размер файла и другую информацию о выделенной <a class="simple" href="">ссылке</a>.
<br><a class="button" href="javascript:(function(){var night=function(w){(function(d){var css='html{background:#333 !important}html *{background:none !important;color:#bbb !important;border-color:#333 !important;border-width:0 !important}html a,html a *{color:#5c8599 !important;text-decoration:underline !important}html a:visited,html a:visited *,html a:active,html a:active *{color:#525f66 !important}html a:hover,html a:hover *{color:#cef !important;background:#023 !important}html input,html select,html button,html textarea{background:#4d4c40 !important;border:1px solid #5c5a46 !important;border-top-color:#474531 !important;border-bottom-color:#7a7967 !important}html input[type=button],html input[type=submit],html input[type=reset],html input[type=image],html button{border-top-color:#7a7967 !important;border-bottom-color:#474531 !important}html input:focus,html select:focus,html option:focus,html button:focus,html textarea:focus{background:#5c5b3e !important;color:#fff !important;border-color:#474100 #665d00 #7a7849 !important;outline:2px solid #041d29 !important}html input[type=button]:focus,html input[type=submit]:focus,html input[type=reset]:focus,html input[type=image]:focus,html button:focus{border-color:#7a7849 #665d00 #474100 !important}html input[type=radio]{background:none !important;border-color:#333 !important;border-width:0 !important}html img[src],html input[type=image]{opacity:.5}html img[src]:hover,html input[type=image]:hover{opacity:1}html,html body{scrollbar-base-color:#4d4c40 !important;scrollbar-face-color:#5c5b3e !important;scrollbar-shadow-color:#5c5b3e !important;scrollbar-darkshadow-color:#474531 !important;scrollbar-track-color:#4d4c40 !important;scrollbar-arrow-color:#000 !important;scrollbar-3dlight-color:#7a7967 !important}';var s=d.getElementsByTagName('style');for(var i=0,si;si=s[i];i++){if(si.innerHTML==css){si.parentNode.removeChild(si);return}};var heads=d.getElementsByTagName('head');if(heads.length){var node=d.createElement('style');node.type='text/css';node.appendChild(d.createTextNode(css));heads[0].appendChild(node)}})(w.document);for(var i=0,f;f=w.frames[i];i++){try{arguments.callee(f)}catch(e){}}};night(window)})();">Night</a> - Выключает в браузере свет <a class="simple" href="http://usercss.ru/styles/night/">©</a>.
<br><a class="button" href="javascript:void(open('data:text/html;base64,PGh0bWw+PGhlYWQ+PHRpdGxlPkNoZXNzPC90aXRsZT48bWV0YSBuYW1lPSJhdXRob3IiIGNvbnRlbnQ9Ik9zY2FyIFRvbGVkbyBHLiI+PG1ldGEgbmFtZT0ic2l0ZSIgY29udGVudD0iaHR0cDovL25hbm9jaGVzcy4xMTBtYi5jb20vY2hlc3M0Lmh0bWwiPjwvaGVhZD48Ym9keT48c2NyaXB0PnZhciBCLGkseSx1LGIsST1bXSxHPTEyMCx4PTEwLHo9MTUsTT0xZTQsbD1bNSwzLDQsNiwyLDQsMyw1LDEsMSwxLDEsMSwxLDEsMSw5LDksOSw5LDksOSw5LDksMTMsMTEsMTIsMTQsMTAsMTIsMTEsMTMsMCw5OSwwLDMwNiwyOTcsNDk1LDg0NiwtMSwwLDEsMiwyLDEsMCwtMSwtMSwxLC0xMCwxMCwtMTEsLTksOSwxMSwxMCwyMCwtOSwtMTEsLTEwLC0yMCwtMjEsLTE5LC0xMiwtOCw4LDEyLDE5LDIxXTtmdW5jdGlvbiBYKHcsYyxoLGUsUyxzKXt2YXIgdCxvLEwsRSxkLE89ZSxOPS1NKk0sSz03OC1oPDx4LHAsZyxuLG0sQSxxLHIsQyxKLGE9eT8teDp4O3lePTg7RysrO2Q9d3x8cyYmcz49aCYmWCgwLDAsMCwyMSwwLDApPk07ZG97aWYobz1JW3A9T10pe3E9byZ6Xnk7aWYocTw3KXtBPXEtLSYyPzg6NDtDPW8tOSZ6P1s1Myw0Nyw2MSw1MSw0Nyw0N11bcV06NTc7ZG97cj1JW3ArPWxbQ11dO2lmKCF3fHA9PXcpe2c9cXxwK2EtUz8wOlM7aWYoIXImKCEhcXxBPDN8fCEhZyl8fChyKzEmel55KT45JiZxfEE+Mil7aWYobT0hKHItMiY3KSlyZXR1cm4geV49OCxJW0ctLV09TyxLO0o9bj1vJno7RT1JW3AtYV0mejt0PXF8RS03P246KG4rPTIsNl55KTt3aGlsZShuPD10KXtMPXI/bFtyJjd8MzJdLWgtcTowO2lmKHMpTCs9KDEtcT9sWyhwLXAleCkveCszN10tbFsoTy1PJXgpL3grMzddK2xbcCV4KzM4XSoocT8xOjIpLWxbTyV4KzM4XSsobyYxNikvMjohIW0qOSkrKCFxPyEoSVtwLTFdXm4pKyEoSVtwKzFdXm4pK2xbbiY3fDMyXS05OSshIWcqOTkrKEE8Mik6MCkrIShFXnleOSk7aWYocz5ofHwxPHMmcz09aCYmTD56fGQpe0lbcF09bixJW09dPW0/KElbZ109SVttXSxJW21dPTApOmc/SVtnXT0wOjA7TC09WChzPmh8ZD8wOnAsTC1OLGgrMSxJW0crMV0sSj1xfEE+MT8wOnAscyk7aWYoIShofHxzLTF8Qi1PfGktbnxwLWJ8TDwtTSkpcmV0dXJuIFcoKSxHLS0sdT1KO0o9cS0xfEE8N3x8bXx8IXN8ZHxyfG88enx8WCgwLDAsMCwyMSwwLDApPk07SVtPXT1vO0lbcF09cjttPyhJW21dPUlbZ10sSVtnXT0wKTpnP0lbZ109OV55OjB9aWYoTD5OfHxzPjEmJkw9PU4mJiFoJiZNYXRoLnJhbmRvbSgpPC41KXtJW0ddPU87aWYocz4xKXtpZihoJiZjLUw8MClyZXR1cm4geV49OCxHLS0sTDtpZighaClpPW4sQj1PLGI9cH1OPUx9bis9Snx8KGc9cCxtPXA8Tz9nLTM6ZysyLElbbV08enxJW20rTy1wXXx8SVtwKz1wLU9dKT8xOjB9fX19d2hpbGUoIXImcT4yfHwocD1PLHF8QT4yfG8+eiYhciYmKytDKi0tQSkpfX19d2hpbGUoKytPPjk4P089MjA6ZS1PKTtyZXR1cm4geV49OCxHLS0sTitNKk0mJk4+LUsrMTkyNHxkP046MH1CPWk9eT11PTA7d2hpbGUoQisrPDEyMClJW0ItMV09QiV4P0IveCV4PDJ8QiV4PDI/NzpCL3gmND8wOmxbaSsrXXwxNjo3O2ZvcihhPSI8dGFibGUgY2VsbHNwYWNpbmc9MCBhbGlnbj1jZW50ZXIgYm9yZGVyPTA+IixCPTA7Qjw4O0IrKylmb3IoYSs9Ijx0cj4iLGk9MjE7aTwyOTtpKyspYSs9Ijx0ZCB3aWR0aD02MCBoZWlnaHQ9NjAgb25jbGljaz1ZKCIrKEIqeCtpKSsiKSBpZD1vIisoQip4K2kpKyIgc3R5bGU9J2xpbmUtaGVpZ2h0OjUwcHg7Zm9udC1zaXplOjUwcHg7Ym9yZGVyOjJweCBzb2xpZCAiKyIjZTBlMGYwJyBiZ2NvbG9yPSMiKyhpK0ImMT8iZjBmIjoiYzBjIikrIjBmMCBhbGlnbj1jZW50ZXI+IjthKz0iPHRyPjx0ZCBjb2xzcGFuPTggYWxpZ249Y2VudGVyPjxzZWxlY3QgaWQ9dCBzdHlsZT0nZm9udC1zaXplOjIwcHgnPjxvcHRpb24+JiM5ODE5OzxvcHRpb24+Ijtkb2N1bWVudC53cml0ZShhKyImIzk4MjA7PG9wdGlvbj4mIzk4MjE7PG9wdGlvbj4mIzk4MjI7PC9zZWxlY3Q+PC90YWJsZT4iKTtmdW5jdGlvbiBXKCl7Qj1iO2ZvcihwPTIxO3A8OTk7cCs9cCV4LTg/MTozKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibyIrcCkuaW5uZXJIVE1MPSJceGEwXHUyNjVmXHUyNjVhXHUyNjVlXHUyNjVkXHUyNjVjXHUyNjViICBcdTI2NTlcdTI2NTRcdTI2NThcdTI2NTdcdTI2NTZcdTI2NTUiLmNoYXJBdChJW3BdJnopO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvIitwKS5zdHlsZS5ib3JkZXJDb2xvcj1wPT1CPyJyZWQiOiIjZTBlMGYwIn19VygpO2Z1bmN0aW9uIFkocyl7aT0oSVtzXV55KSZ6O2lmKGk+OCl7Yj1zO1coKX1lbHNlIGlmKEImJmk8OSl7Yj1zO2k9SVtCXSZ6O2lmKChpJjcpPT0xJihiPDI5fGI+OTApKWk9MTQtZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInQiKS5zZWxlY3RlZEluZGV4Xnk7WCgwLDAsMCwyMSx1LDEpO2lmKHkpd2luZG93LnNldFRpbWVvdXQoIlgoMCwwLDAsMjEsdSwyLypwbHkqLyksWCgwLDAsMCwyMSx1LDEpIiwyNTApfX08L3NjcmlwdD48L2JvZHk+PC9odG1sPgo=','_blank','width=650,height=550,left=100,top=100'))">Chess</a> - Шахматы <a class="simple" href="http://nanochess.110mb.com/">©</a>.
<br><a class="button" href="javascript:(function(){var docEles=[];var tempBank='';var windowWidth=450;var background='url(data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGeYUxB9wAAACBjSFJNAAB6JQAAgIMAAPoBAACA5gAAdTEAAOpcAAA6lwAAF25E0P0BAAAAPUlEQVR42mLcdeAKA24AEEBMDHgBQAARkAYIIALSAAFEQBoggAhIAwQQAWmAACIgDRBABKQBAoiANECAAQDTLgJiYYMOJQAAAABJRU5ErkJggg%3D%3D)'; var currentEle='';var currentEleStyle=false;var shiftKey=false;var win={};var showItEle='';var isXHTML=/html\:/.test(document.getElementsByTagName('body')[0].nodeName);function createNewEle(ele,doc){if(isXHTML){return(doc?doc:window).document.createElementNS('http://www.w3.org/1999/xhtml',ele)}else{return(doc?doc:window).document.createElement(ele)}}; function showIt(key){showItEle=document.getElementsByTagName('*')[key];var ele=showItEle;var x=ele.offsetLeft,y=ele.offsetTop;while(ele.offsetParent){ele=ele.offsetParent;x+=ele.offsetLeft; y+=ele.offsetTop};tempBank=window.getComputedStyle(showItEle,null).getPropertyValue('background-color'); showItEle.style.backgroundColor='#99f';setTimeout(function(){showItEle.style.backgroundColor=tempBank},600); window.scrollTo(x-150,y-150)}var styleProp=[['azimuth','undefined'],['background-attachment','scroll'],['background-color','transparent'],['background-image','none'],['background-position','0px 0px'],['background-repeat','repeat'],['border-collapse','separate'],['border-spacing','0px',true],['border-top','0px'],['border-right','0px'],['border-bottom','0px'],['border-left','0px'],['bottom','0px',true],['caption-side','top'],['clear','none'],['clip','rect(0px, 0px, 0px, 0px)'],['color','rgb(0, 0, 0)'],['content','none'],['counter-increment','none'],['counter-reset','none'],['cue-after','undefined'],['cue-before','undefined'],['cue','undefined'],['cursor','default'],['direction','ltr'],['display','doIt'],['elevation','undefined'],['empty-cells','hide'],['float','none'],['font-family','Times New Roman'],['font-size','16px',true],['font-style','normal'],['font-variant','normal'],['font-weight','400',true],['height','0px',true],['left','0px',true],['letter-spacing','0px',true],['line-height','normal'],['list-style-image','none'],['list-style-position','outside'],['list-style-type','disc'],['list-style','disc outside none'],['margin-top','0px',true],['margin-right','0px',true],['margin-bottom','0px',true],['margin-left','0px',true],['max-height','0px',true],['max-width','0px',true],['min-height','0px',true],['min-width','0px',true],['orphans','2'],['outline-color','invert'],['outline-style','none'],['outline-width','3px',true],['outline','3px',true],['overflow','visible'],['padding-top','0px',true],['padding-right','0px',true],['padding-bottom','0px',true],['padding-left','0px',true],['page-break-after','auto'],['page-break-before','auto'],['page-break-inside','auto'],['pause-after','undefined'],['pause-before','undefined'],['pause','undefined'],['pitch-range','undefined'],['pitch','undefined'],['play-during','undefined'],['position','static'],['quotes','none'],['richness','undefined'],['right','0px',true],['speak-header','undefined'],['speak-numeral','undefined'],['speak-punctuation','undefined'],['speak','undefined'],['speech-rate','undefined'],['stress','undefined'],['table-layout','auto'],['text-align','left'],['text-decoration','none'],['text-indent','0px',true],['text-transform','none'],['top','0px',true],['unicode-bidi','normal'],['vertical-align','baseline'],['visibility','visible'],['voice-family','undefined'],['volume','undefined'],['white-space','normal'],['widows','2'],['width','0px',true],['word-spacing','0px',true],['z-index','auto']]; function getStylesEle(key){var ele=document.getElementsByTagName('*')[key];if(currentEle.style)currentEle.style.backgroundImage=''; var temp0=window.getComputedStyle(ele,null);var output='computed Style Propertys:\n';for(i=0;i<styleProp.length;i++){var temp=temp0.getPropertyValue(styleProp[i][0]);if(temp){if(styleProp[i][2]){{if(temp!=styleProp[i][1])output+='\t'+styleProp[i][0]+' : '+temp+'\n'}}else{{if(temp.indexOf(styleProp[i][1])!=0)output+='\t'+styleProp[i][0]+' : '+temp+'\n'}}}}if(currentEle&&currentEle!=document.documentElement&&!/body/i.test(currentEle.nodeName)&&shiftKey)currentEle.style.backgroundImage=background; return output};var errorOutput='';function showErr(){void(window.open('data:text/plain;charset=utf-8,'+escape(errorOutput),'_blank',''))}; function output(from,lastFrom){var a,b=win.document.createElement('ul'),b0='',i,cur,temp=[],fromPart2;fromPart2=from.replace(/^.*\.([^\.]*$)/,'$1'); if((/string|number/.test(typeof(eval(lastFrom))))||fromPart2=='null'||/function/.test(fromPart2)){return null}else{cur=eval(from)}; function addOutput(text){b.appendChild(win.document.createElement('li')).appendChild(win.document.createTextNode(text))}; if(/object|function/.test(typeof cur)){if(cur==null){addOutput('null');return b};if(/function/.test(cur)){addOutput(cur);return b};for(a in cur)b0+=a;if(b0.length>0){for(a in cur){if(/^[0-9]*$/.test(a)){temp.push('['+a+']')}else{temp.push(a)}};temp.sort();for(i=0;i<temp.length; i++)addOutput(temp[i])}else{if(cur.length>0){for(var i=0;i<cur.length;i++)addOutput('['+i+']')}}}else{if(cur||cur==0){addOutput(cur)}else{b=null}}; return b};function setSourceIndex(){var arr=document.getElementsByTagName('*'),ele,i;for(i=0;ele=arr[i];i++)ele.sourceIndex=i};if(!document.documentElement.sourceIndex)setSourceIndex(); function createDOMTree(node,toEle){if(/3|8/.test(node.nodeType)){var kind='';if(node.nodeType==8)kind='#comment: ';if(!/^[\u0009\u000A\u00A0\u000D\u000B\u0020]*$/.test(node.data)){toEle.appendChild(win.document.createElement('p')).appendChild(win.document.createElement('span')).appendChild(win.document.createTextNode(kind+node.nodeValue))}}if(/1|9/.test(node.nodeType)){var newEle=toEle.appendChild(win.document.createElement('div')); var getCSPEle=newEle.appendChild(win.document.createElement('span'));getCSPEle.appendChild(win.document.createTextNode('get computed Styles')); getCSPEle.className='csp';var attrs='',attrsProv;if(node.attributes&&node.attributes.length>0){for(var z=0;z<node.attributes.length;z++){if(node.attributes[z])attrs+=node.attributes[z].name+' : '+((attrsProv=node.attributes[z].value).length>0?attrsProv:node.getAttribute(node.attributes[z].name))+'\u000A'}}newEle.id=node.sourceIndex; var newEleName=newEle.appendChild(win.document.createElement('h2'));newEle.appendChild(win.document.createElement('pre')).appendChild(win.document.createTextNode('')); newEleName.appendChild(win.document.createTextNode(node.nodeName));if(node.childNodes.length> 0){var toggle=newEleName.appendChild(win.document.createElement('span'));toggle.className='toggle'; toggle.appendChild(win.document.createTextNode('\u2192'))}if(attrs.length>0)newEle.appendChild(win.document.createElement('pre')).appendChild(win.document.createTextNode(attrs))}}function makeLevel(ele,arrKey){var childs,child,i; if(typeof arrKey=='number'){childs=document.getElementsByTagName('*')[arrKey].childNodes}else{childs=arrKey.childNodes}; for(i=0;child=childs[i];i++)createDOMTree(child,ele)}function showTree(ele){var arr=[ele.sourceIndex],i;while(ele.parentNode&&ele!=document.documentElement){ele=ele.parentNode; arr.push(parseInt(ele.sourceIndex))};arr.reverse();var toggle;var newTree=win.document.getElementById('undefined');if((toggle=newTree.getElementsByTagName('h2')[0].getElementsByTagName('span')[0]))toggle.firstChild.nodeValue='\u2193'; if(win.document.getElementById('0'))newTree.removeChild(win.document.getElementById('0'));createDOMTree(document.documentElement,newTree); for(i=0;i<arr.length;i++){makeLevel(win.document.getElementById(arr[i]),arr[i]);if((toggle=win.document.getElementById(arr[i]).getElementsByTagName('h2')[0].getElementsByTagName('span')[0]))toggle.firstChild.nodeValue='\u2193'}; var eleTar=win.document.getElementById(arr[arr.length-1]);var y=eleTar.offsetTop;while(eleTar.offsetParent){eleTar=eleTar.offsetParent;y+=eleTar.offsetTop}; win.scrollTo(0,y-200);win.document.getElementById(arr[arr.length-1]).style.backgroundColor='#99f'; win.setTimeout('document.getElementById('+arr[arr.length-1]+').style.backgroundColor=\u0022transparent\u0022; ',600)}function charm(){var maxDeep=0;var bankCounts=[];function count(eleName){var isIn=false;for(var c=0;c<bankCounts.length;c++){if(bankCounts[c][0]==eleName){isIn=true;bankCounts[c][1]++}}if(!isIn)bankCounts.push([eleName,1])}; function createDOMTree2(node,colorDeepCurrent){if(node.nodeType==1){colorDeepCurrent++;if(maxDeep<colorDeepCurrent)maxDeep=colorDeepCurrent; var k,arr=node.childNodes,child;count(node.nodeName);for(k=0;child=arr[k];k++)createDOMTree2(child,colorDeepCurrent)}}createDOMTree2(document.documentElement,0); function createDoc1(){win=window.open('','','top='+window.innerHeight*0.05+',height='+window.innerHeight*0.9+',width='+windowWidth+',resizable=yes,scrollbars=yes'); win.document.open();win.document.write(''+'<!DOCTYPE html PUBLIC \u0022-//W3C//DTD XHTML 1.0 Transitional//EN\u0022'+'\u0022http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\u0022> '+'<html xmlns=\u0022http://www.w3.org/1999/xhtml\u0022><head></head><body></body></html>'+'');win.document.close()}; function createDoc2(){win=window.open(location.href,'','top='+window.innerHeight*0.05+',height='+window.innerHeight*0.9+',width='+windowWidth+',resizable=yes,scrollbars=yes'); win.clearChild=function(){var i,ele;for(i=0;i<arguments.length;i++){ele=this.document.getElementsByTagName(arguments[i])[0]; while(ele.firstChild)ele.removeChild(ele.firstChild)}};win.appNewChild=function(){var i;for(i=0;i<arguments.length;i++){this.document.documentElement.appendChild(this.document.createElement(arguments[i]))}}; win.clearChild('head','body','html');win.appNewChild('head','body')};if(document.documentElement.parentNode.childNodes[5]){createDoc2()}else{createDoc1()}; win.document.getElementsByTagName('head')[0].appendChild(win.document.createElement('title')).appendChild(win.document.createTextNode('DOM tree for: '+location.href)); var bodyEle=win.document.getElementsByTagName('body')[0];bodyEle.appendChild(win.document.createElement('h1')).appendChild(win.document.createTextNode('DOM tree for: '+document.title)); bodyEle.appendChild(win.document.createElement('h3')).appendChild(win.document.createTextNode('address: '+location.href)); var winStyle=''+'body {padding:0 5px 5px 5px;margin:0;font-family:\u0022Lucida sans unicode\u0022;'+'font-size:11px;background-color:#26267F;color:rgb(190,190,190);}'+'h1, h3 {padding:5px;margin:0;font-weight:normal;}'+'h2, h4 {margin:0;padding:0px;font-size:11px;}'+'h4 {margin-left:5px;}'+'p {margin:5px;padding:0px;}'+'#tree p {margin:5px 0px;}'+'h1 + h3 + p + p {padding-bottom:7px}'+'h1, h2 {color:rgb(210,210,210)}'+'#tree {padding:0px;margin:-7px 0px 0px -15px;border:0px solid;clear:both;}'+'pre {white-space:pre-wrap;margin:0;padding:1px 0;font-family:\u0022Lucida sans unicode\u0022;font-weight:normal;}'+'div {padding:3px 2px 2px 3px;margin:5px 0px 0px 15px;border:1px solid rgb(170,170,210);cursor:pointer;'+'border-right-color:#000;border-bottom-color:#000;}'+'span {background-color:rgb(210,210,210); color:#333;font-weight:normal;padding:0 5px}'+'.toggle {background-color:transparent;cursor:pointer;padding:3px 10px;font-weight:bold;color:rgb(190,190,190);}'+'.toggle:hover {background-color:#1E1E66;color:#fff}'+'.csp {float:right;background-color:transparent;color:#26267F;}'+'.csp:hover {color:rgb(190,190,190)}'+'ul {padding:0;margin:0;list-style:none;padding-left:20px;}'+'#featTree {padding:2px 5px 20px 5px;position:relative;}'+'#featTree #featTreeContol {display:block;position:absolute;right:0;top:2px;}'+'#featTreeContol, #featTreeContol * {padding:0;margin:0;}'+'li{margin:0;padding:0;cursor:pointer;}'+'';function setStyle(string,doc){var ele=createNewEle('link',(doc?doc:false));ele.rel='stylesheet';ele.type='text/css';ele.href='data:text/css; charset=utf-8,'+escape(string);(doc?doc:window).document.getElementsByTagName('head')[0].appendChild(ele)}setStyle(winStyle,win); win.tree=function(e){if(win.opener==null)win.close();var ele=e.target;if(/toggle/.test(ele.className)){var toToggle=ele.parentNode.parentNode;if(ele.firstChild.nodeValue=='\u2192'){ele.firstChild.nodeValue='\u2193'; if(toToggle.id!='undefined'){makeLevel(toToggle,(toToggle.id-=0))}else{makeLevel(toToggle,document.documentElement.parentNode)}}else{ele.firstChild.nodeValue='\u2192'; var arr=toToggle.getElementsByTagName('div'),runner,m;while(arr[0])toToggle.removeChild(arr[0]); arr=toToggle.getElementsByTagName('p');while(arr[0])toToggle.removeChild(arr[0])}}else{var getCSP=/csp/.test(ele.className); var eleOrgTarg=ele;while(ele.parentNode&&!/div/i.test(ele.nodeName))ele=ele.parentNode;if(getCSP){if(/clear/.test(eleOrgTarg.firstChild.nodeValue)){eleOrgTarg.firstChild.nodeValue='get computed Styles'; ele.getElementsByTagName('pre')[0].firstChild.nodeValue=''}else{ele.getElementsByTagName('pre')[0].firstChild.nodeValue=getStylesEle(ele.id); eleOrgTarg.firstChild.nodeValue='clear computed Styles'}}else{showIt(ele.id)}}};for(var c=0;c<bankCounts.length;c++){bankCounts[c][0]=bankCounts[c].join(': ');bankCounts[c].pop()};bodyEle.appendChild(win.document.createElement('p')).appendChild(win.document.createTextNode('max deep of a nested Element: '+maxDeep)); bodyEle.appendChild(win.document.createElement('p')).appendChild(win.document.createTextNode(' | '+bankCounts.join(' | ')+' | ')); bodyEle.appendChild(win.document.createElement('h4')).appendChild(win.document.createTextNode('functions, objects and propertys:')); var feat,feat1,tempFeat;bodyEle.appendChild(feat=win.document.createElement('ul')).appendChild(feat1=win.document.createElement('li')).appendChild(win.document.createTextNode('window')); feat.id='featTree';feat.onclick=function(e){var ele=e.target;if(/li/i.test(ele.nodeName)){var tempEle;if(ele.getElementsByTagName('li')[0]){if(win.document.getElementById('check').checked){var arrLi=ele.getElementsByTagName('li'),tempArr=[],eleLi,i; for(i=0;eleLi=arrLi[i];i++)if(!eleLi.getElementsByTagName('ul')[0])tempArr.push(eleLi);for(i=0; i<tempArr.length;i++)win.getFeat(tempArr[i])}else{ele.removeChild(ele.getElementsByTagName('ul')[0])}}else{win.getFeat(ele)}}}; feat1=feat1.appendChild(win.document.createElement('p'));feat1.id='featTreeContol';tempFeat=feat1.appendChild(win.document.createElement('label')); tempFeat.appendChild(win.document.createTextNode('open subfolders: '));tempFeat=tempFeat.appendChild(win.document.createElement('input'));tempFeat.type='checkbox'; tempFeat.id='check';win.getFeat=function(ele){var tempDefNew=ele.firstChild.nodeValue;var tempDef='';var tempEle=ele;while(/li/i.test(tempEle.parentNode.parentNode)){tempDef=tempEle.parentNode.parentNode.firstChild.nodeValue+'.'+tempDef; tempEle=tempEle.parentNode.parentNode};ele.appendChild(output((tempDef+tempDefNew).replace(/\.\[/,'['),tempDef.replace(/\.$/,'').replace(/\.\[/,'[')))}; var ele=win.document.createElement('div');ele.id='tree';createDOMTree(document.documentElement.parentNode,ele,0); bodyEle.appendChild(ele);win.document.getElementById('tree').onclick=win.tree;document.onclick=function(e){if(typeof win.document!='undefined'){var ele=e.target; if(e.stopPropagation())e.stopPropagation();if(ele.style&&!/body/i.test(ele.nodeName)){if(currentEleStyle){ele.setAttribute('style',currentEleStyle); currentEleStyle=false}else{ele.style.backgroundImage='';ele.removeAttribute('style')}};showTree(ele); win.focus();return false}};document.onmouseover=function(e){if(typeof win.document!='undefined'&&shiftKey){if(e.target!=currentEle){if(currentEle.style&&!/body/i.test(currentEle.nodeName)){if(currentEleStyle){currentEle.setAttribute('style',currentEleStyle); currentEleStyle=false}else{currentEle.style.backgroundImage='';currentEle.removeAttribute('style')}}currentEle=e.target; if(currentEle!=document.documentElement&&!/body/i.test(currentEle.nodeName)){currentEleStyle=currentEle.getAttribute('style'); currentEle.style.backgroundImage=background}}}else{if(currentEle&&currentEle.style){currentEle.style.backgroundImage=''; currentEle=false}}};document.onkeydown=function(e){if(e.keyCode==16)shiftKey=true};document.onkeyup=function(e){if(shiftKey)shiftKey=false}; win.document.onkeydown=function(e){if(e.keyCode==16)shiftKey=true};win.document.onkeyup=function(e){if(shiftKey)shiftKey=false}}; charm()})()">DOM console</a> от <a class="simple" href="http://aleto.ch/webTools/webBMs.html">aleto</a> с небольшими исправлениями.
<hr>
<H3 id="firefox">Кнопки для Firefox:</H3>
<span style="font-size:smaller;">Необходимо расширение <a class="simple" href="https://addons.mozilla.org/en-US/firefox/addon/2707">Custom buttons</a>.</span>
<br><br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EAllow%20copy/context%20menu%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACHElEQVR4AZXBT0hTARwH8N+b/yCXeSiYeGh0cYQQBE5UaOFpUw8mXrooKIiSKJtuOQcbW2ksWHP0TDSnBp1Mx0BiQWMN3J/3hnO9ScyYGmoGgiShjJbDb5eCCLPt86HfDg93SxYXX7QbDPety8tCMeXq9PS4eGnpwRO5XAS1Wu/g+Z18ylUy+byvq4tQVVUAo9Fq5fldhnKxtjajXlgQwWQiVFdfgMViN/P8dh5lSxCcmnCYQTRK6Okh1NSIYTY/fhQKbRdSNjjOqQmFGBwcEKamCB0dhLq6QlgstofB4Kd8+p9AwKnx+RhkMoRwmOBwEIaGCEqlGDabzRKLbRXReYJBp8bjYQAQUimCXk/Qagnd3YSKCkJvr3qC59+XxeOCiM7CcTOaSIRBOk2YnSVUVhIkEhHq68sgk13KSKXS7xMT0/c2NjZK6Szr69Nqj4dgNBKam6+BZQkqFYO2Nt0Pt/td++QkK+e4kDQaXc2nvwGpvFjMpmtoIDQ2tn50udymnZ3LKZeLUFsrT3u9m9fpPOn015K5uVFWobhxwrK+W8nksVgQ2jZXVhi0thIGBoyOQGDrIv3L3t5WAceFb3u94Tv0Szz+eiASkZzMzxNaWmTfRkZeKigXicSHq37/3c9+P6Gzk9Dfr50ZH38loWzt72/nJRJvDcPDV1BeTlAqVZs63ehNysXR0Zciu/3Z06am9jeDg/q+sbGxUvrDT/sZDTsp21mGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/*Initialization%20Code*/%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B%28function%28w%29%7B%0A%20%20%20%20%20%20%20%20var%20arr%20%3D%20%5B%27contextmenu%27%2C%27copy%27%2C%27cut%27%2C%27paste%27%2C%27mousedown%27%2C%27mouseup%27%2C%27beforeunload%27%2C%27beforeprint%27%5D%3B%0A%20%20%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20x%3B%20x%20%3D%20arr%5Bi%5D%3B%20i++%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28w%5B%27on%27%20+%20x%5D%29w%5B%27on%27%20+%20x%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20w.addEventListener%28x%2C%20function%28e%29%7Be.stopPropagation%28%29%7D%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20for%28var%20j%20%3D%200%2C%20f%3B%20f%20%3D%20w.frames%5Bj%5D%3B%20j++%29%7Btry%7Barguments.callee%28f%29%7Dcatch%28e%29%7B%7D%7D%0A%7D%29%28content%29%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Allow copy/context menu</a> - На некоторых сайтах заблокировано контекстное меню или копирование текста, или даже нельзя закрыть страницу. Эта кнопка решает подобные проблемы  (&asymp; расширению RightToClick).
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EGoogle%20search%20for%20site%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAACXBIWXMAAC4jAAAuIwF4pT92AAACg0lEQVR42o3S62vNYQDA8eeF8kIu2Q42W5uxYbmN3Ce3uWYRGZlcU0rxgleSKJSovVCKFyjeEHHizIhELjmzsUNn1tzWYdvZnLNz+Z3n9/wuz/P1wmvl2+dP+IrBe3vrGteubpy//s7m2vsrljdt2Hx/fm1waW1oY3WoZkPTolWP1q57sHDqwyXVoZrqUI2YXv9Zuv2Al7MNsX6MBz8lXd9/ZyCVUo4GCa4i7bybViYC26UCBUloz3D8Snzb/rsTFgQLZ74eNCdYtavp0O2BZ99SFllUd2uFEIG97w0qgXyeY+WRcN6sx1/7iYMPvfC2naJ55yfPOJJMQpa2EYNF6fawIaZg3+nP42df6nMwxFwzgK+VBp+WL9lw5JNNFicbmTRcFO/vyXmcvPR99MILHzscGxTdKWxFl00aG88FnxxpTbylUohxW3ttOHQ5XjQvRA5812DhmhSkAcvywGDZJHD95vxhYuKmaBJddvBR0bagJo5WuGCDDz7kXKPxkRZ9ON7XMSNF/u6uBFTUNxetuYdySUmDlfE1NgaFdj0MGk0c1REtnS7G7mjLwrKDnaLsovIstLbTABb0Il92xsJ9TqSH8MeMJv5mvBBluzpy9B+9ERXlT481vEkiHcDDIF+0mqq5wUDlrfJZjWcaPvjajkwoECV1NtCjKJ32avjIq0/asfEMYCXwcTw+/CJQcuL6zRZDrDW/QBTs7DRYHj9+dPuTKs4NGXXjbENHj4NPdoBsAu5GXJFXd6vxhSEWLRkqAgciAyA1UvNL6i2HnxSWN+RNuZZX9WrU4mfDKpuLlz3Yc+rmTymBtpJiMbc+SgZDjH8kXY0PCqTsLC8Uf6f9T18KxR9B9jJLjNhjDAAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/*Initialization%20Code*/%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B%28function%28%29%7Bvar%20getSel%3Dfunction%28w%29%7Bvar%20s%2Cd%3Dw.document%3Bif%28d.selection%29%7Bvar%20r%3Dd.selection.createRange%28%29%3Bs%3Dr%3Fr.text%3A%27%27%7Delse%7Bs%3Dd.getSelection%28%29.toString%28%29%3Bif%28%21s%29%7Bvar%20e%2Ct%3Dd.getElementsByTagName%28%27textarea%27%29%2Cu%3Dd.getElementsByTagName%28%27input%27%29%2Ci%3Dt.length%3Bwhile%28e%3D%28i%3E0%29%3Ft%5B--i%5D%3Au%5B-i--%5D%29try%7Bif%28e.offsetHeight%3E0%26%26%28s%3De.value.substring%28e.selectionStart%2Ce.selectionEnd%29%29%29break%7Dcatch%28x%29%7B%7D%7D%7D%3Bif%28%21s%29for%28var%20i%3D0%2Cf%3Bf%3Dw.frames%5Bi%5D%3Bi++%29%7Btry%7Bif%28s%3Darguments.callee%28f%29%29break%7Dcatch%28x%29%7B%7D%7D%3Breturn%20s%7D%3Bvar%20w%3Dcontent%2Cs%3Dw.prompt%28%27%u041F%u043E%u0438%u0441%u043A%20%u043D%u0430%20%u044D%u0442%u043E%u043C%20%u0441%u0430%u0439%u0442%u0435%20%u0441%20%u043F%u043E%u043C%u043E%u0449%u044C%u044E%20Google%27%2CgetSel%28w%29%29%3Bif%28s%29%7Bw.open%28%27http%3A//www.google.com/search%3Fas_q%3D%27+encodeURIComponent%28s%29+%27%26as_sitesearch%3D%27+w.location.hostname%29%7D%7D%29%28%29%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Google</a> - Поиск <a class="simple" href="http://www.google.ru/">Google</a> по текущему сайту для выделенного или набранного текста.
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EUP%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAdTAAAOpgAAA6lwAAF2+XqZnUAAAB2ElEQVR4nGL8//8/AzkAIICY0AUYJzLyA3E9IY0AAYSiEaQJSB0wlTJpALLn49MIEEAsaPwD+faZBoZqKgxrDoklADUz/M//n4hNI0AAwTWCbEg0jzEQlmZneP7rKUOonSsDGwM7SPMBoOaF6BoBAogJpslC2TRBQpqf4cvPLww/fv1kePbrMYOXhQ2DpojGAqB8PLpGgABiAgrmm6oYJjjpWwE1fQVq+sXwHagRpPkv82+GHt8WBi0RTZBme2SNAAHEyDCBYT+ULeCl72YgLSnEwMnKxiDFJc1QsbL9A1D8AlT+AtDJhTCNAAHEAuQ4Qp1rz8jIcABkEwh8//MTptgRW+AABBBKqH7+9YWB6zcrmP2D7ScDDzuPAjZNQEvOAwQQPB6BJh+8/OgaAwsTK8OP378YXn17zaAvo6OAHjAwPkAAodj4/suHBfdfPkkQ5RcE841VdBk+fPsIChgHIPcBEINckADCAAHEiJxWYSnHTtvSQJhfgIGFmYlBmleagesfL4MYqyTDorNLGc49O78AlCgAAogRPZFDNU9QEJVNkBKUZBDhE2L49u07w+VH1xlefnnVANTUCFIHEEAYGpEMkAdSBlB8gAESwh9h8gABhFMjIQAQYADQGKKCjfSDsAAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E2%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bvar%20btn%20%3D%20this%3B%0A%0Avar%20opt%20%3D%20%7B%0A%09delay%3A%20500%2C%0A%09timerId%3A%200%2C%0A%09isPressed%3A%20false%2C%0A%09longClick%3A%20function%28%29%7B%0A%09%09goUp%28false%29%3B%0A%09%7D%2C%0A%09stdClick%3A%20function%28%29%7B%0A%09%09goUp%28true%29%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20mouseDown%28e%29%7B%0A%09if%28e.button%20%3D%3D%200%29%7B%0A%09%09opt.isPressed%20%3D%20true%3B%0A%09%09opt.timerId%20%3D%20setTimeout%28function%28%29%7B%0A%09%09%09if%28opt.isPressed%29%7B%0A%09%09%09%09opt.isPressed%20%3D%20false%3B%0A%09%09%09%09var%20k%20%3D%20%22_transitionTimer%22%3B%0A%09%09%09%09if%28k%20in%20btn%29clearInterval%28btn%5Bk%5D%29%3B%0A%09%09%09%09var%20stl%20%3D%20btn.style%3B%0A%09%09%09%09stl.setProperty%28%22transition%22%2C%20%22opacity%20150ms%20ease-in-out%22%2C%20%22important%22%29%3B%0A%09%09%09%09btn%5Bk%5D%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09stl.setProperty%28%22opacity%22%2C%20%220.5%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09btn%5Bk%5D%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09stl.opacity%20%3D%20%22%22%3B%0A%09%09%09%09%09%09btn%5Bk%5D%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09stl.transition%20%3D%20%22%22%3B%0A%09%09%09%09%09%09%09delete%20btn%5Bk%5D%3B%0A%09%09%09%09%09%09%7D%2C%20150%29%3B%0A%09%09%09%09%09%7D%2C%20150%29%3B%0A%09%09%09%09%7D%2C%200%29%3B%0A%09%09%09%09opt.longClick%28%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%20opt.delay%29%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20mouseUp%28e%29%7B%0A%09if%28e.button%20%3D%3D%200%29%7B%0A%09%09clearTimeout%28opt.timerId%29%3B%0A%09%09if%28opt.isPressed%29%7B%0A%09%09%09opt.isPressed%20%3D%20false%3B%0A%09%09%09opt.stdClick%28%29%3B%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Afunction%20mouseOut%28e%29%7B%0A%09if%28e.button%20%3D%3D%200%29%7B%0A%09%09opt.isPressed%20%3D%20false%3B%0A%09%7D%0A%7D%3B%0A%0Abtn.addEventListener%28%27mousedown%27%2C%20mouseDown%2C%20false%29%3B%0Abtn.addEventListener%28%27mouseup%27%2C%20mouseUp%2C%20false%29%3B%0Abtn.addEventListener%28%27mouseout%27%2C%20mouseOut%2C%20false%29%3B%0A%0Abtn.onDestroy%20%3D%20function%28%29%7B%0A%20%20%20%20btn.removeEventListener%28%27mousedown%27%2C%20mouseDown%2C%20false%29%3B%0A%09btn.removeEventListener%28%27mouseup%27%2C%20mouseUp%2C%20false%29%3B%0A%09btn.removeEventListener%28%27mouseout%27%2C%20mouseOut%2C%20false%29%3B%0A%7D%3B%0A%0A%0Afunction%20goUp%28step%29%7B%0A%09var%20loc%20%3D%20content.location%3B%0A%09if%20%28loc.protocol%20%3D%3D%20%27about%3A%27%29%20return%3B%0A%0A%09var%20p%20%3D%20loc.protocol%20+%20%27//%27%2C%20h%20%3D%20loc.host%20+%20%27/%27%3B%0A%09if%20%28loc.href%20%3D%3D%20p%20+%20h%29%20%7B%0A%09%09var%20a%20%3D%20h.split%28%27.%27%29%2C%20l%20%3D%20a.length%2C%20n%20%3D%202%3B%0A%09%09if%20%28l%20%3E%202%29%20%7B%0A%09%09%09if%20%28a%5B0%5D%20%3D%3D%20%27www%27%29%20%7Ba.shift%28%29%3B%20l--%7D%3B%0A%09%09%09if%20%28/%5E%28co%7Ccom%7Cnet%7Corg%7Cedu%7Cgov%7Cmil%7Cint%29%24/i.test%28a%5Bl%20-%202%5D%29%29%20n++%0A%09%09%7D%0A%09%09if%20%28l%20%3E%20n%29%20%7B%0A%09%09%09h%20%3D%20%28n%20%3D%3D%203%20%3F%20a%5Bl%20-%203%5D%20+%20%27.%27%20%3A%20%27%27%29%20+%20a%5Bl%20-%202%5D%20+%20%27.%27%20+%20a%5Bl%20-%201%5D%0A%09%09%7D%20else%20%7B%0A%09%09%09p%20%3D%20%27http%3A//www.google.com/search%3Fsourceid%3Dopera%26q%3Drelated%3A%27%20+%20p%0A%09%09%7D%0A%09%7D%20else%20if%20%28step%29%20%7B%0A%09%09h%20%3D%20loc.host%20+%20loc.pathname.replace%28/%5B%5E%5C/%5D+%5C/%3F%24/%2C%20%27%27%29%0A%09%7D%3B%0A%09loc.href%20%3D%20p%20+%20h%3B%0A%7D%3B%0A%0A%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*CODE*/%0A%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5BAlt+UP%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Up</a> - Перенаправляет на уровень вверх или, при зажатии, на самый верх (а если вы уже наверху, то на список похожих страниц). (&asymp; расширению Uppity/Navigate Up).
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ECopy%20links%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkBJREFUeJydku1Lk1EYxp8/p28F9a36EGESUguliHBIyOYLKM7yZQ3LNF8oZaZirdwsl6JO02nLdG463WaaL1tZGmhqWGYzBCFwzxa/tkccbYw+eODicO7rvq/7Ovc5AiDEovzFD66Ur5KkWYmguPk71tldYnOjDrpXPuT1Izx06yifTiXPmcLAdiFqlwydbYHC5k1yG9eJK1DTtYlC30bXtwLqF+XkuvPJGEvlpjMBo6eT91+DOBaDFLdskVW3SpRAt2Mb+SMDz1cz6d5USfvdGRmTYiX51lQsSy7m1/YFqu0dZBv1ESeSQFJxyJ4tnZYvSjo2cjD7Chja0WDbvY3WXcvHjT9MLQexfghwZ/iJ5PBiRe++gGVym8tVU6jd58kaOUXrWibG9Wxy7IkUTlxAM5orFY9+CtA/F6DNJZLRW8K1RgsVxjUEbdc6yoZlZN1HSDGdpmkpjSJXIs+mnZTZayRn4c4D8wE634roHSLaN34K2n9z6ZYHQXl/AZXBR5nFQ5M9NAtzAhnWk5hnA/TM/OKp08vLdwHa3SKGUHHDsJ/rphIUg2c5nu5CSK/ykqX7SWX/HnVDfsoGxyU3D2wTkl2jU6RlXERn90t8Ud84eWNnqPVe5WiaA6G69TPJ91bQmPYo7fORbDoRmowQhXBhbOzGawXJ6imEntENzqk90p0OyNj1n9j+Mx6TD6Hq3IkkxnaLh0heeG82L5NUOhdFxOscj498ZZV25vAODlDyeP5wM/gXTs9WvG5CvFgYfwFzo6tZMWWyMgAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/*Initialization%20Code*/%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bvar%20win%20%3D%20document.commandDispatcher.focusedWindow.top%20%3D%3D%20content%20%3F%20document.commandDispatcher.focusedWindow%20%3A%20content%2C%20doc%20%3D%20win.document%3B%0Avar%20sel%20%3D%20doc%2C%20winSel%20%3D%20win.getSelection%28%29%3B%0Aif%28winSel.toString%28%29%29%7B%0A%09sel%20%3D%20doc.createElement%28%27div%27%29%3B%0A%09sel.appendChild%28winSel.getRangeAt%280%29.cloneContents%28%29%29%3B%0A%7D%3B%0Avar%20str%20%3D%20%27%27%2C%20links%20%3D%20sel.getElementsByTagName%28%27a%27%29%3B%0Afor%28var%20i%20%3D%200%2C%20lnk%3B%20lnk%20%3D%20links%5Bi%5D%3B%20i++%29%7Bif%28lnk.href%29str%20+%3D%20lnk.href%20+%20%27%5Cr%5Cn%27%7D%3B%0AgClipboard.write%28str%29%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Copy links</a> - Копирует ссылки из выделенного текста, а если ничего не выделено, то и вообще все ссылки, в буфер обмена (&asymp; расширению Multi Links).
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ESave%20snapshot%20to%20html%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACaUlEQVR4AX3BTWvcVRTA4d+592am/5lp0qSxtEtRxI0oVmipuBFEEDfd1IUvCz+RO3du/QAqCgUjxULdWKFV8AUkapg0pplM5uX/cu85x7RQlDb4PPL62++8ubq68cLZjXPnY2hnKYk4JxMgZ/fpvHe6bo72tr745OO0trb+4pVLb1x7/92rFzfXIQr/a1kbX34T2Lrx2d350Uefpq4znc6y/b0Ho8oZVII5J4oC81qZTAL1YhmAXnK12LUqB1O40Br9fkQLT3DAIjQNLBsw1wBIKmahbkucTKFtjdxFioI7T4gRcnG0tJgVASSVUmKXS6hrJXeQC+QC5iD8h0NaAS2Cu6FFAxCCqkZVDWYKIjwiPEZ4SBzMCmo5AJJULWIau7ZlZ6zMZhV1q5g5j0sxcP+gpl4qZhqAmLTkBBbNnZvfjTk8zBxMWprWcAd3HhJxhoNEVSWGowsE0QBI6nIOajnEFEkp8Orl8wxHQ4QCKCJOjByL/PLbnB/u7DIYRFRLAELKucSmzuHPnTmT/TFX33qK61vbLGp479qzbG70eGR9NXHj258Yjc7h5gEIIecS6yaHxaJlWS9ZLjPf3x5z89Yuh9PMA/cnsLsPh9NMFMetYFYCEII7vRh7vapaReQUm2d6fPjBZV678hxrp3s80O9DFJBwin5/QFWtEWMvATGpFp8e3bOd8W0O9u/w1deZiy8/zysvLfj19xk//mzMF4W2c7b/2NPtv+52Kk11eHSPYyKD1bOXzMozpbRPSwjkpgiChJWAZ8UViBwTQSSnldjgVsXUm5Wm+Vz41xDoAwIETuaAAy3QAf4PtuhVEPpvXZEAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/*Initialization%20Code*/%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bvar%20saveToFile%20%3D%20function%20%28fileContent%2C%20fileName%29%20%7B%0A%09var%20uc%20%3D%20Components.classes%5B%27@mozilla.org/intl/scriptableunicodeconverter%27%5D.createInstance%28Components.interfaces.nsIScriptableUnicodeConverter%29%3B%0A%09uc.charset%20%3D%20%27utf-8%27%3B%0A%09fileContent%20%3D%20uc.ConvertFromUnicode%28fileContent%29%3B%0A%0A%09var%20nsIFilePicker%20%3D%20Components.interfaces.nsIFilePicker%3B%0A%09var%20fp%20%3D%20Components.classes%5B%27@mozilla.org/filepicker%3B1%27%5D.createInstance%28nsIFilePicker%29%3B%0A%09fp.init%28window%2C%20%27%27%2C%20fp.modeSave%29%3B%0A%09fp.defaultString%20%3D%20fileName%3B%0A%09fp.appendFilters%28fp.filterHTML%29%3B%0A%09fp.appendFilters%28fp.filterAll%29%3B%0A%09if%28fp.show%28%29%20%3D%3D%20fp.returnCancel%29%20return%3B%0A%09var%20stream%20%3D%20Components.classes%5B%27@mozilla.org/network/file-output-stream%3B1%27%5D.createInstance%28Components.interfaces.nsIFileOutputStream%29%3B%0A%09stream.init%28fp.file%2C%200x02%20%7C%200x08%20%7C%200x20%2C%200x1B6%2C%200%29%3B%0A%09stream.write%28fileContent%2C%20fileContent.length%29%3B%0A%09stream.close%28%29%3B%0A%7D%3B%0Avar%20resolveURL%20%3D%20function%20%28url%2C%20base%29%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20var%20ioService%20%3D%20Components.classes%5B%27@mozilla.org/network/io-service%3B1%27%5D.getService%28Components.interfaces.nsIIOService%29%3B%0A%20%20%20%20%20%20%20%20var%20baseURI%20%3D%20ioService.newURI%28base%2C%20null%2C%20null%29%3B%0A%20%20%20%20%20%20%20%20var%20absURI%20%3D%20ioService.newURI%28url%2C%20null%2C%20baseURI%29%3B%0A%20%20%20%20%20%20%20%20return%20absURI.spec%3B%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%7D%0A%7D%3B%0A%0Avar%20getSelWin%20%3D%20function%20%28w%29%20%7B%0A%20%20%20%20if%20%28w.getSelection%28%29.toString%28%29%29%20return%20w%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20f%2C%20r%3B%20f%20%3D%20w.frames%5Bi%5D%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28r%20%3D%20getSelWin%28f%29%29%20return%20r%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%28e%29%20%7B%7D%0A%20%20%20%20%7D%0A%7D%3B%0Avar%20encodeImg%20%3D%20function%20%28src%2C%20obj%29%20%7B%0A%20%20%20%20var%20canvas%2C%20img%2C%20ret%20%3D%20src%3B%0A%20%20%20%20if%20%28/%5Ehttps%3F%3A%5C/%5C//.test%28src%29%29%20%7B%0A%20%20%20%20%20%20%20%20canvas%20%3D%20doc.createElement%28%27canvas%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28%21obj%20%7C%7C%20obj.nodeName.toLowerCase%28%29%20%21%3D%20%27img%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20img%20%3D%20doc.createElement%28%27img%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20img.src%20%3D%20src%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20img%20%3D%20obj%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20if%20%28img.complete%29%20try%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.width%20%3D%20img.width%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.height%20%3D%20img.height%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.getContext%28%272d%27%29.drawImage%28img%2C%200%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ret%20%3D%20canvas.toDataURL%28%28/%5C.jpe%3Fg/i.test%28src%29%20%3F%20%27image/jpeg%27%20%3A%20%27image/png%27%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20if%20%28img%20%21%3D%20obj%29%20img.src%20%3D%20%27about%3Ablank%27%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20return%20ret%3B%0A%7D%3B%0Avar%20toSrc%20%3D%20function%20%28obj%29%20%7B%0A%20%20%20%20var%20strToSrc%20%3D%20function%20%28str%29%20%7B%0A%20%20%20%20%20%20%20%20var%20chr%2C%20ret%20%3D%20%27%27%2C%20i%20%3D%200%2C%20meta%20%3D%20%7B%27%5Cb%27%3A%20%27%5C%5Cb%27%2C%20%27%5Ct%27%3A%20%27%5C%5Ct%27%2C%20%27%5Cn%27%3A%20%27%5C%5Cn%27%2C%20%27%5Cf%27%3A%20%27%5C%5Cf%27%2C%20%27%5Cr%27%3A%20%27%5C%5Cr%27%2C%20%27%5Cx22%27%20%3A%20%27%5C%5C%5Cx22%27%2C%20%27%5C%5C%27%3A%20%27%5C%5C%5C%5C%27%7D%3B%0A%20%20%20%20%20%20%20%20while%20%28chr%20%3D%20str.charAt%28i++%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ret%20+%3D%20meta%5Bchr%5D%20%7C%7C%20chr%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20return%20%27%5Cx22%27%20+%20ret%20+%20%27%5Cx22%27%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20arrToSrc%20%3D%20function%20%28arr%29%20%7B%0A%20%20%20%20%20%20%20%20var%20ret%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20arr.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ret%5Bi%5D%20%3D%20toSrc%28arr%5Bi%5D%29%20%7C%7C%20%27null%27%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20return%20%27%5B%27%20+%20ret.join%28%27%2C%27%29%20+%20%27%5D%27%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20objToSrc%20%3D%20function%20%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20var%20val%2C%20ret%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20prop%20in%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Object.prototype.hasOwnProperty.call%28obj%2C%20prop%29%20%26%26%20%28val%20%3D%20toSrc%28obj%5Bprop%5D%29%29%29%20ret.push%28strToSrc%28prop%29%20+%20%27%3A%20%27%20+%20val%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20return%20%27%7B%27%20+%20ret.join%28%27%2C%27%29%20+%20%27%7D%27%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20switch%20%28Object.prototype.toString.call%28obj%29.slice%288%2C%20-1%29%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27Array%27%3A%20return%20arrToSrc%28obj%29%3B%0A%20%20%20%20%20%20%20%20case%20%27Boolean%27%3A%0A%20%20%20%20%20%20%20%20case%20%27Function%27%3A%0A%20%20%20%20%20%20%20%20case%20%27RegExp%27%3A%20return%20obj.toString%28%29%3B%0A%20%20%20%20%20%20%20%20case%20%27Date%27%3A%20return%20%27new%20Date%28%27%20+%20obj.getTime%28%29%20+%20%27%29%27%3B%0A%20%20%20%20%20%20%20%20case%20%27Math%27%3A%20return%20%27Math%27%3B%0A%20%20%20%20%20%20%20%20case%20%27Number%27%3A%20return%20isFinite%28obj%29%20%3F%20String%28obj%29%20%3A%20%27null%27%3B%0A%20%20%20%20%20%20%20%20case%20%27Object%27%3A%20return%20objToSrc%28obj%29%3B%0A%20%20%20%20%20%20%20%20case%20%27String%27%3A%20return%20strToSrc%28obj%29%3B%0A%20%20%20%20%20%20%20%20default%3A%20return%20obj%20%3F%20%28obj.nodeType%20%3D%3D%201%20%26%26%20obj.id%20%3F%20%27document.getElementById%28%27%20+%20strToSrc%28obj.id%29%20+%20%27%29%27%20%3A%20%27%7B%7D%27%29%20%3A%20%27null%27%3B%0A%20%20%20%20%7D%0A%7D%3B%0A%0Avar%20mainWin%20%3D%20document.commandDispatcher.focusedWindow.top%20%3D%3D%20content%20%3F%20document.commandDispatcher.focusedWindow%20%3A%20content%3B%0Avar%20selWin%20%3D%20getSelWin%28mainWin%29%2C%20win%20%3D%20selWin%20%7C%7C%20mainWin%2C%20doc%20%3D%20win.document%2C%20loc%20%3D%20win.location%3B%0Avar%20ele%2C%20pEle%2C%20clone%2C%20reUrl%20%3D%20/%28url%5C%28%5Cx22%29%28.+%3F%29%28%5Cx22%5C%29%29/g%3B%0A%0Aif%20%28selWin%29%20%7B%0A%20%20%20%20var%20rng%20%3D%20win.getSelection%28%29.getRangeAt%280%29%3B%0A%20%20%20%20pEle%20%3D%20rng.commonAncestorContainer%3B%0A%20%20%20%20ele%20%3D%20rng.cloneContents%28%29%3B%0A%7D%20else%20%7B%0A%20%20%20%20pEle%20%3D%20doc.documentElement%3B%0A%20%20%20%20ele%20%3D%20%28doc.body%20%7C%7C%20doc.getElementsByTagName%28%27body%27%29%5B0%5D%29.cloneNode%28true%29%3B%0A%7D%3B%0Awhile%20%28pEle%29%20%7B%0A%20%20%20%20if%20%28pEle.nodeType%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20clone%20%3D%20pEle.cloneNode%28false%29%3B%0A%20%20%20%20%20%20%20%20clone.appendChild%28ele%29%3B%0A%20%20%20%20%20%20%20%20ele%20%3D%20clone%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20pEle%20%3D%20pEle.parentNode%0A%7D%3B%0Avar%20sel%20%3D%20doc.createElement%28%27div%27%29%3B%0Asel.appendChild%28ele%29%3B%0A%0Afor%20%28var%20el%2C%20all%20%3D%20sel.getElementsByTagName%28%27*%27%29%2C%20i%20%3D%20all.length%3B%20i--%3B%29%20%7B%0A%20%20%20%20el%20%3D%20all%5Bi%5D%3B%0A%20%20%20%20if%20%28el.style%20%26%26%20el.style.backgroundImage%29%20el.style.backgroundImage%20%3D%20el.style.backgroundImage.replace%28reUrl%2C%20function%20%28a%2C%20prev%2C%20url%2C%20next%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21/%5E%5Ba-z%5D+%3A/.test%28url%29%29%20url%20%3D%20resolveURL%28url%2C%20loc.href%29%3B%0A%20%20%20%20%20%20%20%20return%20prev%20+%20encodeImg%28url%29%20+%20next%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20switch%20%28el.nodeName.toLowerCase%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27link%27%3A%0A%20%20%20%20%20%20%20%20case%20%27style%27%3A%0A%20%20%20%20%20%20%20%20case%20%27script%27%3A%20el.parentNode.removeChild%28el%29%3B%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27a%27%3A%20%0A%20%20%20%20%20%20%20%20case%20%27area%27%3A%20if%20%28el.hasAttribute%28%27href%27%29%20%26%26%20el.getAttribute%28%27href%27%29.charAt%280%29%20%21%3D%20%27%23%27%29%20el.href%20%3D%20el.href%3B%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27img%27%3A%0A%20%20%20%20%20%20%20%20case%20%27input%27%3A%20if%20%28el.hasAttribute%28%27src%27%29%29%20el.src%20%3D%20encodeImg%28el.src%2C%20el%29%3B%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27audio%27%3A%0A%20%20%20%20%20%20%20%20case%20%27video%27%3A%0A%20%20%20%20%20%20%20%20case%20%27embed%27%3A%0A%20%20%20%20%20%20%20%20case%20%27frame%27%3A%0A%20%20%20%20%20%20%20%20case%20%27iframe%27%3A%20if%20%28el.hasAttribute%28%27src%27%29%29%20el.src%20%3D%20el.src%3B%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27object%27%3A%20if%20%28el.hasAttribute%28%27data%27%29%29%20el.data%20%3D%20el.data%3B%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27form%27%3A%20if%20%28el.hasAttribute%28%27action%27%29%29%20el.action%20%3D%20el.action%3B%20break%3B%0A%20%20%20%20%7D%0A%7D%3B%0A%0Avar%20head%20%3D%20ele.insertBefore%28doc.createElement%28%27head%27%29%2C%20ele.firstChild%29%3B%0Avar%20meta%20%3D%20doc.createElement%28%27meta%27%29%3B%0Ameta.httpEquiv%20%3D%20%27content-type%27%3B%0Ameta.content%20%3D%20%27text/html%3B%20charset%3Dutf-8%27%3B%0Ahead.appendChild%28meta%29%3B%0Avar%20title%20%3D%20doc.getElementsByTagName%28%27title%27%29%5B0%5D%3B%0Aif%20%28title%29%20head.appendChild%28title.cloneNode%28true%29%29%3B%0A%0Ahead.copyScript%20%3D%20function%20%28unsafeWin%29%20%7B%0A%20%20%20%20if%20%28%27%24%27%20in%20unsafeWin%29%20return%3B%0A%20%20%20%20var%20f%20%3D%20doc.createElement%28%27iframe%27%29%3B%0A%20%20%20%20f.src%20%3D%20%27about%3Ablank%27%3B%0A%20%20%20%20f.setAttribute%28%27style%27%2C%20%27position%3Afixed%3Bleft%3A0%3Btop%3A0%3Bvisibility%3Ahidden%3Bwidth%3A0%3Bheight%3A0%3B%27%29%3B%0A%20%20%20%20doc.documentElement.appendChild%28f%29%3B%0A%20%20%20%20var%20str%2C%20script%20%3D%20doc.createElement%28%27script%27%29%3B%0A%20%20%20%20script.type%20%3D%20%27text/javascript%27%3B%0A%20%20%20%20for%20%28var%20name%20in%20unsafeWin%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28name%20in%20f.contentWindow%20%7C%7C%20%21/%5E%5Ba-zA-Z_%24%5D%5B0-9a-zA-Z_%24%5D*%24/.test%28name%29%29%20continue%3B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20toSrc%28unsafeWin%5Bname%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21/%5C%7B%5Cs*%5C%5Bnative%20code%5C%5D%5Cs*%5C%7D/.test%28str%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20script.appendChild%28doc.createTextNode%28%27var%20%27%20+%20name%20+%20%27%20%3D%20%27%20+%20str.replace%28/%3C%5C/%28script%3E%29/ig%2C%20%27%3C%5C%5C/%241%27%29%20+%20%27%3B%5Cn%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%7D%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20f.parentNode.removeChild%28f%29%3B%0A%20%20%20%20if%20%28script.childNodes.length%29%20this.nextSibling.appendChild%28script%29%3B%0A%7D%3B%0Ahead.copyScript%28win.wrappedJSObject%20%7C%7C%20win%29%3B%0A%0Ahead.copyStyle%20%3D%20function%20%28s%29%20%7B%0A%20%20%20%20if%20%28%21s%29%20return%3B%0A%20%20%20%20var%20style%20%3D%20doc.createElement%28%27style%27%29%3B%0A%20%20%20%20style.type%20%3D%20%27text/css%27%3B%0A%20%20%20%20if%20%28s.media%20%26%26%20s.media.mediaText%29%20style.media%20%3D%20s.media.mediaText%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20rule%3B%20rule%20%3D%20s.cssRules%5Bi%5D%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28rule.type%20%21%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%28%21rule.selectorText%20%7C%7C%20rule.selectorText.indexOf%28%27%3A%27%29%20%21%3D%20-1%29%20%7C%7C%20%28%21sel.querySelector%20%7C%7C%20sel.querySelector%28rule.selectorText%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20css%20%3D%20%21rule.cssText%20%3F%20%27%27%20%3A%20rule.cssText.replace%28reUrl%2C%20function%20%28a%2C%20prev%2C%20url%2C%20next%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21/%5E%5Ba-z%5D+%3A/.test%28url%29%29%20url%20%3D%20resolveURL%28url%2C%20s.href%20%7C%7C%20loc.href%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28rule.type%20%3D%3D%201%20%26%26%20rule.style%20%26%26%20rule.style.backgroundImage%29%20url%20%3D%20encodeImg%28url%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20prev%20+%20url%20+%20next%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20style.appendChild%28doc.createTextNode%28css%20+%20%27%5Cn%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.copyStyle%28rule.styleSheet%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20catch%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28s.ownerNode%29%20style%20%3D%20s.ownerNode.cloneNode%28false%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20this.appendChild%28style%29%3B%0A%7D%3B%0Avar%20sheets%20%3D%20doc.styleSheets%3B%0Afor%20%28var%20j%20%3D%200%3B%20j%20%3C%20sheets.length%3B%20j++%29%20head.copyStyle%28sheets%5Bj%5D%29%3B%0Ahead.appendChild%28doc.createTextNode%28%27%5Cn%27%29%29%3B%0A%0Avar%20doctype%20%3D%20%27%27%2C%20dt%20%3D%20doc.doctype%3B%0Aif%20%28dt%20%26%26%20dt.name%29%20%7B%0A%20%20%20%20doctype%20+%3D%20%27%3C%21DOCTYPE%20%27%20+%20dt.name%3B%0A%20%20%20%20if%20%28dt.publicId%29%20doctype%20+%3D%20%27%20PUBLIC%20%5Cx22%27%20+%20dt.publicId%20+%20%27%5Cx22%27%3B%0A%20%20%20%20if%20%28dt.systemId%29%20doctype%20+%3D%20%27%20%5Cx22%27%20+%20dt.systemId%20+%20%27%5Cx22%27%3B%0A%20%20%20%20doctype%20+%3D%20%27%3E%5Cn%27%3B%0A%7D%3B%0Avar%20fileName%20%3D%20selWin%20%3F%20win.getSelection%28%29.toString%28%29%20%3A%20%28title%20%26%26%20title.text%20%3F%20title.text%20%3A%20loc.pathname.split%28%27/%27%29.pop%28%29%29%3B%0AfileName%20%3D%20fileName.replace%28/%5B%3A%5C%5C%5C/%3C%3E%3F*%7C%22%5D+/g%2C%20%27_%27%29.replace%28/%5Cs+/g%2C%20%27%20%27%29.slice%280%2C%20100%29.replace%28/%5E%5Cs+%7C%5Cs+%24/g%2C%20%27%27%29%3B%0AfileName%20+%3D%20%28function%20%28%29%20%7B%0A%20%20%20%20var%20d%20%3D%20new%20Date%28%29%2C%20z%20%3D%20function%28n%29%7Breturn%20%28n%20%3C%2010%20%3F%20%270%27%20%3A%20%27%27%29%20+%20n%7D%3B%0A%20%20%20%20return%20%27_%27%20+%20d.getFullYear%28%29%20+%20z%28d.getMonth%28%29%20+%201%29%20+%20z%28d.getDate%28%29%29%20+%20%27_%27%20+%20z%28d.getHours%28%29%29%20+%20z%28d.getMinutes%28%29%29%20+%20z%28d.getSeconds%28%29%29%3B%0A%7D%29%28%29%3B%0Aif%28%21/%5C.html%3F%24/.test%28fileName%29%29fileName%20+%3D%20%27.html%27%3B%0A%0AsaveToFile%28doctype%20+%20sel.innerHTML%20+%20%27%5Cn%3C%21--%20This%20document%20saved%20from%20%27%20+%20%28loc.protocol%20%21%3D%20%27data%3A%27%20%3F%20loc.href%20%3A%20%27data%3Auri%27%29%20+%20%27%20--%3E%27%2C%20fileName%29%3B%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Save snapshot</a> - Сохраняет выделенную часть страницы или её всю, если ничего не выделено, одним файлом в html с картинками.
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3Eext%20menu%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bcustombuttons-stdicon-1%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bvar%20itemsArr%20%3D%20%5B%0A%20%20%20%20%5B%22%u0418%u0441%u043A%u0430%u0442%u044C%20%u0441%u0442%u0440%u0430%u043D%u0438%u0446%u0443%20%u0432%20%u043A%u044D%u0448%u0435%20Google%22%2C%20function%28%29%7Bwindow.open%28%27http%3A//www.google.com/search%3Fq%3Dcache%3A%27+location.href%29%7D%5D%2C%0A%20%20%20%20%5B%22%u0418%u0441%u043A%u0430%u0442%u044C%20%u0441%u0442%u0440%u0430%u043D%u0438%u0446%u0443%20%u043D%u0430%20Archive.org%22%2C%20function%28%29%7Bwindow.open%28%27http%3A//web.archive.org/web/*/%27+location.href%29%7D%5D%2C%0A%20%20%20%20%2C%0A%20%20%20%20%5B%22%u0418%u0441%u043A%u0430%u0442%u044C%20%u043B%u043E%u0433%u0438%u043D%20%u043D%u0430%20BugMeNot.com%22%2C%20function%28%29%7Bwindow.open%28%27http%3A//www.bugmenot.com/view/%27+location.hostname%2C%27BugMeNot_%27+location.hostname%2C%27width%3D500%2Cheight%3D400%2Cleft%3D100%2Ctop%3D100%2Cscrollbars%3Dyes%2Clocation%3Dno%27%29%7D%5D%2C%0A%20%20%20%20%5B%22%u041F%u0440%u043E%u0432%u0435%u0440%u0438%u0442%u044C%20%u0441%20%u043F%u043E%u043C%u043E%u0449%u044C%u044E%20Dr.Web%20Online%22%2C%20function%28%29%7Bwindow.open%28%27http%3A//online.drweb.com/result%3Furl%3D%27+escape%28location.href%29%2C%27DrWeb_%27+location.href%2C%27width%3D640%2Cheight%3D400%2Cleft%3D200%2Ctop%3D100%2Cscrollbars%3Dyes%2Clocation%3Dno%27%29%7D%5D%2C%0A%20%20%20%20%5B%22%u041F%u0440%u043E%u0432%u0435%u0440%u0438%u0442%u044C%20%u0434%u043E%u0441%u0442%u0443%u043F%u043D%u043E%u0441%u0442%u044C%20%u0441%u0430%u0439%u0442%u0430%22%2C%20function%28%29%7Bwindow.open%28%27http%3A//downforeveryoneorjustme.com/%27+location.hostname%2C%27DownForMe_%27+location.hostname%2C%27width%3D600%2Cheight%3D400%2Cleft%3D100%2Ctop%3D100%2Cscrollbars%3Dyes%2Clocation%3Dno%27%29%7D%5D%2C%0A%20%20%20%20%2C%0A%20%20%20%20%5B%22%u041F%u043E%u0438%u0441%u043A%20%u043F%u043E%20%u0442%u0435%u043A%u0443%u0449%u0435%u043C%u0443%20%u0441%u0430%u0439%u0442%u0443%22%2C%20function%28%29%7Bvar%20getSel%3Dfunction%28w%29%7Bvar%20s%2Cd%3Dw.document%3Bif%28d.selection%29%7Bvar%20r%3Dd.selection.createRange%28%29%3Bs%3Dr%3Fr.text%3A%27%27%7Delse%7Bs%3Dd.getSelection%28%29.toString%28%29%3Bif%28%21s%29%7Bvar%20e%2Ct%3Dd.getElementsByTagName%28%27textarea%27%29%2Cu%3Dd.getElementsByTagName%28%27input%27%29%2Ci%3Dt.length%3Bwhile%28e%3D%28i%3E0%29%3Ft%5B--i%5D%3Au%5B-i--%5D%29try%7Bif%28e.offsetHeight%3E0%26%26%28s%3De.value.substring%28e.selectionStart%2Ce.selectionEnd%29%29%29break%7Dcatch%28x%29%7B%7D%7D%7D%3Bif%28%21s%29for%28var%20j%3D0%2Cf%3Bf%3Dw.frames%5Bj%5D%3Bj++%29%7Btry%7Bif%28s%3DgetSel%28f%29%29break%7Dcatch%28x%29%7B%7D%7D%3Breturn%20s%7D%3Bvar%20w%3Dwindow%2Cs%3Dw.prompt%28%27%u041F%u043E%u0438%u0441%u043A%20%u043D%u0430%20%u044D%u0442%u043E%u043C%20%u0441%u0430%u0439%u0442%u0435%20%u0441%20%u043F%u043E%u043C%u043E%u0449%u044C%u044E%20Google%27%2CgetSel%28w%29%29%3Bif%28s%29%7Bw.open%28%27http%3A//www.google.com/search%3Fas_q%3D%27+encodeURIComponent%28s%29+%27%26as_sitesearch%3D%27+w.location.hostname%29%7D%7D%5D%2C%0A%20%20%20%20%5B%22%u0421%u0433%u0435%u043D%u0435%u0440%u0438%u0440%u043E%u0432%u0430%u0442%u044C/%u043F%u043E%u043A%u0430%u0437%u0430%u0442%u044C%20%u043F%u0430%u0440%u043E%u043B%u044C%22%2C%20function%28%29%7Bvar%20getRandomPass%3Dfunction%28d%29%7Bvar%20chars%3D%27abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890%27%3Bvar%20ret%3D%27%27%2Clen%3Dd%3E%3D3%3Fd%3A3%2Cbuf%3Dnew%20Uint8Array%28len%29%3Bcrypto.getRandomValues%28buf%29%3Bfor%28var%20i%3D0%3Bi%3Clen%3Bi++%29ret+%3Dchars.charAt%28buf%5Bi%5D*chars.length%3E%3E8%29%3Breturn/%5E%28%3F%3D.*%5Cd%29%28%3F%3D.*%5Ba-z%5D%29%28%3F%3D.*%5BA-Z%5D%29.+%24/.test%28ret%29%3Fret%3AgetRandomPass%28len%29%7D%3Bvar%20findPassEle%3Dfunction%28p%29%7Bvar%20c%2Cs%3D%27%27%2Cr%3Dfalse%2Cf%3Ddocument.getElementsByTagName%28%27form%27%29%3Bfor%28var%20i%3D0%3Bi%3Cf.length%3Bi++%29%7Bc%3Df%5Bi%5D.elements%3Bfor%28var%20j%3D0%2Ce%3Be%3Dc%5Bj%5D%3Bj++%29%7Bif%28e.type%3D%3D%27password%27%29%7Br%3Dtrue%3Bif%28p%29%7Be.value%3Dp%3Be.focus%28%29%7Delse%20if%28e.value%29s+%3D%27%5Cn%5Cn%27+e.value%7D%7D%7D%3Breturn%20r%3Fs%3Anull%7D%3Bvar%20s%3DfindPassEle%28%29%3Bif%28s%29%7Balert%28%27%u041D%u0430%20%u044D%u0442%u043E%u0439%20%u0441%u0442%u0440%u0430%u043D%u0438%u0446%u0435%20%u0443%u0436%u0435%20%u0438%u043C%u0435%u0435%u0442%u0441%u044F%20%u043F%u0430%u0440%u043E%u043B%u044C%3A%27+s%29%7Delse%7BfindPassEle%28prompt%28%27%u041F%u0430%u0440%u043E%u043B%u044C%20%u0441%u0433%u0435%u043D%u0435%u0440%u0438%u0440%u043E%u0432%u0430%u043D%27+%28s%3D%3Dnull%3F%27%3A%27%3A%27.%20%u0412%u0441%u0442%u0430%u0432%u0438%u0442%u044C%3F%27%29%2CgetRandomPass%2812%29%29%29%7D%7D%5D%2C%0A%20%20%20%20%5B%22%u041F%u043E%u043A%u0430%u0437%u0430%u0442%u044C%20%u0441%u0441%u044B%u043B%u043A%u0438%20%u043D%u0430%20Flash/Video%22%2C%20function%28%29%7Bvar%20getVideo%3Dfunction%28flashvars%2Csrc%29%7Bvar%20getLink%3Dfunction%28s%29%7Bvar%20a%3Ds.match%28/%5B%5E%5Cs%5Cx22%3D%26%3F%5D+%5C.%5B%5E%5Cs%5Cx22%3D%26%3F%5C/%5D*%28flv%7Cmp4%29/i%29%3Breturn%20a%3Fa%5B0%5D%3A%27%27%7D%3Bvar%20getQuery%3Dfunction%28s%2Cq%29%7Bvar%20a%3Ds.match%28new%20RegExp%28%27%28%5E%7C%5B%26%3F%5D%29%27+q+%27%3D%28%5B%5E%26%5D+%29%27%29%29%3Breturn%20a%3Fa%5B2%5D%3A%27%27%7D%3Bvar%20getJson%3Dfunction%28s%2Cq%29%7Bvar%20a%3Ds.match%28new%20RegExp%28%27%5Cx22%27+q+%27%5Cx22%3A%5C%5Cs*%28%5Cx22.+%3F%5Cx22%29%27%29%29%3Breturn%20a%3Feval%28a%5B1%5D%29%3A%27%27%7D%3Bvar%20getURL%3Dfunction%28f%2Cs%29%7Breturn%20f.match%28/%5E%28%5Cw+%3A%5C/%5C/%7C%5C/%7C%24%29/%29%3Ff%3As.replace%28/%5B%23%3F%5D.*%24/%2C%27%27%29.replace%28/%5B%5E%5C/%5D*%24/%2Cf%29%7D%3Bvar%20decodeURL%3Dfunction%28s%29%7Btry%7Breturn%20decodeURIComponent%28s%29%7Dcatch%28e%29%7Breturn%20unescape%28s%29%7D%7D%3Bvar%20q%3D%27%27%2Curl%3Dlocation.href%2Cflv%3DdecodeURL%28flashvars%29%3Bif%28url.indexOf%28%27youtube.com/watch%3F%27%29%21%3D-1%26%26%28q%3DgetQuery%28flv%2C%27url%27%29%29%29return%20decodeURL%28q%29+%27%26signature%3D%27+getQuery%28flv%2C%27sig%27%29+%27%26title%3D%27+encodeURIComponent%28document.title%29%3Bif%28url.indexOf%28%27video.google.com/videoplay%3F%27%29%21%3D-1%26%26%28q%3DgetQuery%28src%2C%27videoUrl%27%29%29%29return%20decodeURL%28q%29%3Bif%28url.indexOf%28%27metacafe.com/watch/%27%29%21%3D-1%26%26%28q%3DgetJson%28flv%2C%27mediaURL%27%29%29%29return%20q+%27%3F__gda__%3D%27+getJson%28flv%2C%27value%27%29%3Bif%28url.indexOf%28%27dailymotion.com/%27%29%21%3D-1%26%26%28q%3DgetJson%28flv%2C%27hqURL%27%29%7C%7CgetJson%28flv%2C%27sdURL%27%29%29%29return%20q%3Bif%28url.indexOf%28%27www.break.com/%27%29%21%3D-1%26%26%28q%3DgetQuery%28flv%2C%27videoPath%27%29%29%29return%20q+%27%3F%27+getQuery%28flv%2C%27icon%27%29%3Bif%28url.indexOf%28%27my-hit.ru/film/%27%29%21%3D-1%26%26%28q%3DgetLink%28flv%29%29%29return%20q+%27%3Fstart%3D0%26id%3D%27+getQuery%28flv%2C%27id%27%29%3Breturn%20getURL%28getLink%28flv%29%7C%7CdecodeURL%28getLink%28src%29%29%2Csrc%29%7D%3Bvar%20createLink%3Dfunction%28url%2Ctxt%29%7Bvar%20oLnk%3Ddocument.createElement%28%27a%27%29%3BoLnk.setAttribute%28%27href%27%2Curl%29%3BoLnk.setAttribute%28%27style%27%2C%27display%3Ainline%3Bmargin%3A0%3Bpadding%3A0%3Bfont%3A14px%20Times%20New%20Roman%3Btext-decoration%3Aunderline%3Btext-transform%3Anone%3B%27%29%3BoLnk.appendChild%28document.createTextNode%28txt%29%29%3Breturn%20oLnk%7D%3Bvar%20showLink%3Dfunction%28oEle%2Csrc%2Cflv%29%7Bvar%20cName%3D%27ujs_downlink%27%3Bvar%20p%3DoEle.previousSibling%3Bif%28p%26%26p.className%3D%3DcName%29%7BoEle.parentNode.removeChild%28p%29%3Breturn%7D%3Bif%28src%29%7Bvar%20oDiv%3Ddocument.createElement%28%27div%27%29%3BoDiv.setAttribute%28%27style%27%2C%27display%3Ablock%3Bposition%3Astatic%3Bfloat%3Anone%3Bmargin%3A0%3Bpadding%3A0%3Bwidth%3Aauto%3Bheight%3Aauto%3Bfont%3A14px%20Times%20New%20Roman%3Bcolor%3A%23555%3Bz-index%3A999%3B%27%29%3BoDiv.className%3DcName%3BoDiv.appendChild%28createLink%28src%2C%27Download%27%29%29%3Bvar%20v%3DgetVideo%28flv%2Csrc%29%3Bif%28v%29%7BoDiv.appendChild%28document.createTextNode%28%27%20%28%27%29%29%3BoDiv.appendChild%28createLink%28v%2C%27Video%27%29%29%3BoDiv.appendChild%28document.createTextNode%28%27%29%27%29%29%7D%3BoEle.parentNode.insertBefore%28oDiv%2CoEle%29%7D%7D%3Bvar%20getParam%3Dfunction%28e%2Cn%29%7Bvar%20v%3D%27%27%2Cr%3Dnew%20RegExp%28%27%5E%28%27+n+%27%29%24%27%2C%27i%27%29%3Bvar%20param%3De.getElementsByTagName%28%27param%27%29%3Bfor%28var%20i%3D0%2Cp%3Bp%3Dparam%5Bi%5D%3Bi++%29%7Bif%28r.test%28p.getAttribute%28%27name%27%29%29%29%7Bv%3Dp.getAttribute%28%27value%27%29%3Bbreak%7D%7D%3Breturn%20v%7D%3Bvar%20searchEmbed%3Dfunction%28w%29%7Bif%28%21w%29return%3Bvar%20obj%3Dw.document.getElementsByTagName%28%27object%27%29%3Bfor%28var%20i%3D0%2Coi%3Boi%3Dobj%5Bi%5D%3Bi++%29%7Bif%28oi.parentNode%29showLink%28oi%2Coi.getAttribute%28%27data%27%29%7C%7Coi.getAttribute%28%27src%27%29%7C%7CgetParam%28oi%2C%27movie%7Cdata%7Csrc%7Ccode%7Cfilename%7Curl%27%29%7C%7C%28oi.getElementsByTagName%28%27embed%27%29.length%26%26oi.getElementsByTagName%28%27embed%27%29%5B0%5D.getAttribute%28%27src%27%29%29%2CgetParam%28oi%2C%27flashvars%27%29%29%7D%3Bvar%20em%3Dw.document.getElementsByTagName%28%27embed%27%29%3Bfor%28var%20i%3D0%2Cei%3Bei%3Dem%5Bi%5D%3Bi++%29%7Bif%28ei.parentNode%26%26ei.parentNode.nodeName.toLowerCase%28%29%21%3D%27object%27%29showLink%28ei%2Cei.getAttribute%28%27src%27%29%2Cei.getAttribute%28%27flashvars%27%29%29%7D%3Bfor%28var%20j%3D0%2Cf%3Bf%3Dw.frames%5Bj%5D%3Bj++%29%7Btry%7Barguments.callee%28f%29%7Dcatch%28e%29%7B%7D%7D%7D%3BsearchEmbed%28window%29%7D%5D%2C%0A%20%20%20%20%2C%0A%20%20%20%20%5B%22%u0418%u043D%u0444%u043E%u0440%u043C%u0430%u0446%u0438%u044F%20%u043E%20%u0441%u0442%u0440%u0430%u043D%u0438%u0446%u0435%22%2C%20function%28%29%7Bvar%20meta%3D%27%27%2Cscripts%3D%27%27%2Cembed%3D%27%27%2Ciframes%3D%27%27%2Ccookies%3D%27%27%3Bvar%20corrUrl%3Dfunction%28url%29%7Bif%28%21url%29return%27%27%3Bvar%20q%3Durl.indexOf%28%27%3F%27%29+1%3Breturn%28%28q%26%26url.length%3E50%29%3Furl.slice%280%2Cq%3E50%3Fq%3A50%29+%27%5Cu2026%27%3Aurl%29+%27%5Cn%27%7D%3Bvar%20fullUrl%3Dfunction%28url%29%7Bvar%20a%3Ddocument.createElement%28%27a%27%29%3Ba.href%3Durl%3Breturn%20url%3FcorrUrl%28a.href%29%3A%27%27%7D%3Bvar%20m%3Ddocument.getElementsByTagName%28%27meta%27%29%3Bfor%28var%20i%3D0%2Cmi%3Bmi%3Dm%5Bi%5D%3Bi++%29%7Bmeta+%3D%28mi.name%3Fmi.name+%27%3A%20%27%3A%28mi.httpEquiv%3Fmi.httpEquiv+%27%3A%20%27%3A%27%27%29%29+mi.content+%27%5Cn%27%7D%3Bvar%20s%3Ddocument.getElementsByTagName%28%27script%27%29%3Bfor%28var%20i%3D0%2Csi%3Bsi%3Ds%5Bi%5D%3Bi++%29%7Bif%28si.src%29scripts+%3DcorrUrl%28si.src%29%7D%3Bvar%20e%3Ddocument.getElementsByTagName%28%27embed%27%29%3Bvar%20o%3Ddocument.getElementsByTagName%28%27object%27%29%3Bfor%28var%20i%3D0%2Cei%3Bei%3De%5Bi%5D%3Bi++%29%7Bembed+%3DfullUrl%28ei.getAttribute%28%27src%27%29%29%7D%3Bfor%28var%20i%3D0%2Coi%3Boi%3Do%5Bi%5D%3Bi++%29%7Bvar%20src%3Doi.getAttribute%28%27data%27%29%7C%7Coi.getAttribute%28%27src%27%29%7C%7Coi.getAttribute%28%27source%27%29%3Bif%28%21src%29%7Bvar%20params%3Doi.getElementsByTagName%28%27param%27%29%3Bfor%28var%20j%3D0%2Cp%3Bp%3Dparams%5Bj%5D%3Bj++%29%7Bif%28p.hasAttribute%28%27name%27%29%26%26p.getAttribute%28%27name%27%29.match%28/%5E%28movie%7Cdata%7Csrc%7Ccode%7Cfilename%7Curl%7Csource%29%24/i%29%29%7Bsrc%3Dp.getAttribute%28%27value%27%29%3Bbreak%7D%7D%7D%3Bvar%20lnk%3DfullUrl%28src%29%3Bif%28embed.indexOf%28lnk%29%3D%3D-1%29embed+%3Dlnk%7D%3Bvar%20f%3Ddocument.getElementsByTagName%28%27iframe%27%29%3Bfor%28var%20i%3D0%2Cfi%3Bfi%3Df%5Bi%5D%3Bi++%29%7Bif%28fi.src%29iframes+%3DcorrUrl%28fi.src%29%7D%3Bvar%20c%3Ddocument.cookie.split%28%27%3B%27%29%3Bfor%28var%20i%3D0%2Cci%3Bci%3Dc%5Bi%5D%3Bi++%29%7Bwhile%28ci.charAt%280%29%3D%3D%27%20%27%29ci%3Dci.slice%281%29%3Bif%28ci.length%3E40%29ci%3Dci.slice%280%2C40%29+%27%5Cu2026%27%3Bcookies+%3Dci+%27%5Cn%27%7D%3Bvar%20lastmod%3D%28Date.parse%28document.lastModified%29%3D%3D0%29%3F%27%27%3Adocument.lastModified%3Bvar%20mode%3Ddocument.getElementsByTagName%28%27HTmL%27%29.length%3D%3D0%3F%27Really%20strict%27%3A%28document.compatMode%3D%3D%27CSS1Compat%27%3F%27Normal%20strict%27%3A%27Quirks%27%29%3Bvar%20title%3Ddocument.title%7C%7C%28document.getElementsByTagName%28%27title%27%29%5B0%5D%26%26document.getElementsByTagName%28%27title%27%29%5B0%5D.text%29%7C%7C%27%27%3Bif%28meta%29meta%3D%27%5CnMeta-%u0434%u0430%u043D%u043D%u044B%u0435%3A%5Cn%27+meta%3Bif%28scripts%29scripts%3D%27%5Cn%u0421%u043A%u0440%u0438%u043F%u0442%u044B%3A%5Cn%27+scripts%3Bif%28embed%29embed%3D%27%5Cn%u0412%u0441%u0442%u0440%u043E%u0435%u043D%u043D%u044B%u0435%20%u043E%u0431%u044A%u0435%u043A%u0442%u044B%3A%5Cn%27+embed%3Bif%28iframes%29iframes%3D%27%5CnIframes%3A%5Cn%27+iframes%3Bif%28cookies%29cookies%3D%27%5CnCookies%3A%5Cn%27+cookies%3Balert%28%27%u0418%u0434%u0435%u043D%u0442%u0438%u0444%u0438%u043A%u0430%u0446%u0438%u044F%20%u0431%u0440%u0430%u0443%u0437%u0435%u0440%u0430%3A%20%27+navigator.userAgent+%27%5Cn%5Cn%u0417%u0430%u0433%u043E%u043B%u043E%u0432%u043E%u043A%3A%20%27+title+%27%5Cn%5Cn%u0410%u0434%u0440%u0435%u0441%3A%20%27+location.href+%27%5Cn%5Cn%u0420%u0435%u0444%u0435%u0440%u0440%u0435%u0440%3A%20%27+document.referrer+%27%5Cn%5Cn%u0414%u0430%u0442%u0430%20%u043F%u043E%u0441%u043B%u0435%u0434%u043D%u0435%u0433%u043E%20%u0438%u0437%u043C%u0435%u043D%u0435%u043D%u0438%u044F%3A%20%27+lastmod+%27%5Cn%5Cn%u0420%u0435%u0436%u0438%u043C%20%u043E%u0442%u043E%u0431%u0440%u0430%u0436%u0435%u043D%u0438%u044F%3A%20%27+mode+%27%20mode%5Cn%27+meta+scripts+embed+iframes+cookies%29%7D%5D%2C%0A%20%20%20%20%5B%22%u0418%u0441%u0445%u043E%u0434%u043D%u044B%u0439%20%u043A%u043E%u0434%20%28snapshot%29%22%2C%20function%28%29%7Bvar%20q%3D%27%20%20%27%2CC%3D%7Bimg%3A1%2Cbr%3A1%2Clink%3A1%2Cinput%3A1%2Chr%3A1%2Cmeta%3A1%7D%2Cu%3Dfalse%2Cv%3D0%2CD%3D1%2Cg%3Dwindow.document%2Cm%3Dwindow.location%2Cw%3D%27resizable%3Dyes%2Cscrollbars%3Dyes%2Clocation%3Dno%27%2Ch%3D%27%3C/span%3E%3C/li%3E%27%3Bvar%20x%3Dfunction%28a%29%7Breturn%27%3Cspan%20class%3D%5C%27tag%5C%27%3E%26lt%3B%27+a+%27%27%7D%3Bvar%20y%3Dfunction%28a%29%7Breturn%28a%3F%27/%27%3A%27%27%29+%27%26gt%3B%3C/span%3E%27%7D%3Bvar%20z%3Dfunction%28a%2Cb%29%7Bif%28b%7C%7CC%5Ba.toLowerCase%28%29%5D%29return%27%27%3Breturn%27%3Cspan%20class%3D%5C%27tag%5C%27%3E%26lt%3B/%27+a+%27%26gt%3B%3C/span%3E%27%7D%3Bvar%20j%3Dfunction%28%29%7Bvar%20a%3Dv.toString%28%29%3Bwhile%28a.length%3C3%29a%3D%270%27+a%3Breturn%27%3Cli%20class%3D%5C%27line%27+%28D%26%26%28%28v++%29%261%29%3F%27%20dark%5C%27%27%3A%27%5C%27%27%29+%27%3E%3Cspan%3E%27%7D%3Bvar%20n%3Dfunction%28a%29%7Breturn%20a.replace%28/%3C/g%2C%27%26lt%3B%27%29.replace%28/%3E/g%2C%27%26gt%3B%27%29%7D%3Bvar%20E%3Dfunction%28a%29%7Bvar%20b%3Da.doctype%2Cc%3D%27%27%3Bif%28b%29%7Bc%3Dj%28%29+x%28%27%21DOCTYPE%27%29+%27%20%3Cspan%20class%3D%5C%27attrDoc%5C%27%3E%27+b.nodeName+%28b.publicId%3F%27%20PUBLIC%20%5C%27%27+b.publicId+%27%5C%27%27%3A%27%27%29+%28b.systemId%3F%27%3C/span%3E%3C/span%3E%27+h+j%28%29+%27%3Cspan%20class%3D%5C%27tag%5C%27%3E%3Cspan%20class%3D%5C%27attrDoc%5C%27%3E%27+q+%27%5C%27%27+b.systemId+%27%5C%27%27%3A%27%27%29+%27%3C/span%3E%27+y%28%29+h%7Dreturn%20c%7D%3Bvar%20F%3Dfunction%28a%29%7Bvar%20b%3Da.attributes%2Cc%3Dnull%2Cd%3D%27%27%3Bfor%28var%20f%3D0%3Bc%3Db%5Bf%5D%3Bf++%29%7Bif%28c.specified%26%26c.value%29%7Bd+%3D%27%20%3Cspan%20class%3D%5C%27attrTitle%5C%27%3E%27+c.name+%27%3C/span%3E%3D%3Cspan%20class%3D%5C%27attrValue%5C%27%3E%5Cx22%27+n%28c.value.replace%28/%5Ct/g%2Cq%29%29+%27%5Cx22%3C/span%3E%20%27%7D%7Dreturn%20d%7D%3Bvar%20r%3Dfunction%28a%29%7Breturn%20n%28a.nodeValue.replace%28/%5B%5Cn%5Ct%5Cr%5Cu00A0%5D+%20*/g%2C%27%27%29.replace%28/%20+/g%2C%27%20%27%29%29%7D%3Bvar%20G%3Dfunction%28a%29%7Bvar%20b%3D0%2Cc%3D%27%27%3Bwhile%28b%3Ca%29%7Bc+%3Dq%3Bb++%7Dreturn%20c%7D%3Bvar%20A%3Dfunction%28a%2Cb%2Cc%29%7Bvar%20d%3D%27%27%2Cf%3DG%28b++%29%3Bswitch%28a.nodeType%29%7Bcase%201%3A%7Bvar%20i%3Da.childNodes%2Ck%3Dnull%3Bvar%20s%3D%28i.length%3D%3D0%29%7C%7C%28i.length%3D%3D1%26%26i%5B0%5D.nodeType%3D%3D3%29%3Bvar%20t%3Du%26%26i.length%3D%3D0%3Bvar%20l%3Dj%28%29+f+x%28a.nodeName%29+F%28a%29+y%28t%29%3Bif%28%21s%29l+%3Dh%3Bfor%28var%20B%3D0%3Bk%3Di%5BB%5D%3BB++%29%7Bl+%3DA%28k%2Cb%2C%21s%26%26k.nodeType%3D%3D3%29%7Dif%28s%29%7Bl+%3D%28a.nodeName.toLowerCase%28%29%3D%3D%27textarea%27%3Fn%28a.value%29%3A%27%27%29+z%28a.nodeName%2Ct%29+h%7Delse%7Bl+%3Dj%28%29+f+z%28a.nodeName%2Ct%29+h%7Dreturn%20l%7Dcase%203%3A%7Bif%28%28d%3Dr%28a%29%29%26%26c%29%7Breturn%20j%28%29+f+d+h%7Delse%7Breturn%20d%7D%7Dcase%204%3A%7Bd%3Dr%28a%29%3Breturn%20j%28%29+f+%27%3Cspan%20class%3D%5C%27cdata%5C%27%3E%26lt%3B%21%5BCDATA%5B%3C/span%3E%27+d+%27%3Cspan%20class%3D%5C%27cdata%5C%27%3E%5D%5D%26gt%3B%3C/span%3E%27+h%7Dcase%208%3A%7Bd%3Dr%28a%29%3Breturn%20j%28%29+f+%27%3Cspan%20class%3D%5C%27comment%5C%27%3E%26lt%3B%21--%27+d+%27--%26gt%3B%3C/span%3E%27+h%7D%7Dreturn%20a.nodeType%7D%3Bvar%20H%3Dfunction%28a%29%7Bvar%20b%2Cc%3D%27%27%3Bif%28a%29%7Bvar%20d%3Da.getSelection%28%29.getRangeAt%280%29%2Cf%3Dd.commonAncestorContainer%3Bif%28f.nodeType%3D%3D3%7C%7Cf.nodeType%3D%3D4%29f%3Df.parentNode%3Bb%3Df.cloneNode%28false%29%3Bb.appendChild%28d.cloneContents%28%29%29%3Bvar%20i%3Dd.startContainer%2Ck%3Dd.endContainer%3Bif%28i%21%3Df.firstChild%7C%7C%28i.nodeType%3D%3D3%26%26d.startOffset%21%3D0%29%29b.insertBefore%28g.createTextNode%28%27%5Cu2026%27%29%2Cb.firstChild%29%3Bif%28k%21%3Df.lastChild%7C%7C%28k.nodeType%3D%3D3%26%26d.endOffset%21%3Dk.nodeValue.length%29%29b.appendChild%28g.createTextNode%28%27%5Cu2026%27%29%29%7Delse%7Bc%3DE%28g%29%3Bb%3Dg.documentElement%7D%3Bc+%3DA%28b%2C0%29%3Breturn%20c%7D%3Bvar%20I%3Dfunction%28a%29%7Bif%28a%26%26a.getSelection%29%7Bif%28a.getSelection%28%29.toString%28%29%29return%20a%3Bfor%28var%20b%3D0%2Cc%2Cd%3Bc%3Da.frames%5Bb%5D%3Bb++%29%7Btry%7Bif%28d%3Darguments.callee%28c%29%29return%20d%7Dcatch%28e%29%7B%7D%7D%7D%7D%3Bvar%20o%3DI%28window%29%3Bif%28o%29%7Bg%3Do.document%3Bm%3Do.location%3Bw+%3D%27%2Cwidth%3D800%2Cheight%3D500%2Cleft%3D100%2Ctop%3D100%27%7D%3Bu%3D/%5Ba-z%5D/.test%28g.documentElement.nodeName%29%3Bvar%20J%3D%27%3C%21DOCTYPE%20html%20PUBLIC%3E%3Chtml%3E%3Chead%3E%3Ctitle%3ESnapshot%3A%20%27+%28%28g.getElementsByTagName%28%27title%27%29.length%26%26n%28g.getElementsByTagName%28%27title%27%29%5B0%5D.text%29%29%7C%7C%28m.protocol+%27//%27+m.host+m.pathname%29%29+%27%3C/title%3E%3Cstyle%20type%3D%5C%27text/css%5C%27%3Ebody%7Bpadding%3A0%205px%3Bmargin%3A0%3Bfont-family%3Asans-serif%3Bfont-size%3A.7em%3Bbackground-color%3A%23FFF%3Bcolor%3A%23000%3B%7D%23content%7Bwhite-space%3Apre-wrap%7Dol%7Bcolor%3A%23999%3B%7Dspan%7Bcolor%3A%23000%7D.tag%7Bcolor%3A%2305F%7D.attrTitle%7Bcolor%3A%23E00%7D.attrValue%7Bcolor%3A%23C0C%7D.attrDoc%7Bcolor%3A%23800080%7D.comment%7Bcolor%3A%23008000%7D.cdata%7Bcolor%3A%2363D%7D.line%7Bmargin%3A0%3Bpadding%3A0%7D.dark%7Bbackground-color%3A%23FAFAFA%7D%3C/style%3E%3C/head%3E%3Cbody%3E%3Col%20id%3D%5C%27content%5C%27%3E%27+H%28o%29+%27%3C/ol%3E%3C/body%3E%3C/html%3E%27%3Bvar%20p%3Dwindow.open%28%27about%3Ablank%27%2C%27_blank%27%2Cw%29%3Bp.document.write%28J%29%3Bp.document.onkeydown%3Dfunction%28a%29%7Bif%28a.keyCode%3D%3D27%29p.close%28%29%7D%3Bp.document.close%28%29%7D%5D%2C%0A%20%20%20%20%2C%0A%20%20%20%20%5B%22%u0428%u0430%u0445%u043C%u0430%u0442%u044B%22%2C%20function%28%29%7Bwindow.open%28%27data%3Atext/html%3Bbase64%2CPGh0bWw+PGhlYWQ+PHRpdGxlPkNoZXNzPC90aXRsZT48bWV0YSBuYW1lPSJhdXRob3IiIGNvbnRlbnQ9Ik9zY2FyIFRvbGVkbyBHLiI+PG1ldGEgbmFtZT0ic2l0ZSIgY29udGVudD0iaHR0cDovL25hbm9jaGVzcy4xMTBtYi5jb20vY2hlc3M0Lmh0bWwiPjwvaGVhZD48Ym9keT48c2NyaXB0PnZhciBCLGkseSx1LGIsST1bXSxHPTEyMCx4PTEwLHo9MTUsTT0xZTQsbD1bNSwzLDQsNiwyLDQsMyw1LDEsMSwxLDEsMSwxLDEsMSw5LDksOSw5LDksOSw5LDksMTMsMTEsMTIsMTQsMTAsMTIsMTEsMTMsMCw5OSwwLDMwNiwyOTcsNDk1LDg0NiwtMSwwLDEsMiwyLDEsMCwtMSwtMSwxLC0xMCwxMCwtMTEsLTksOSwxMSwxMCwyMCwtOSwtMTEsLTEwLC0yMCwtMjEsLTE5LC0xMiwtOCw4LDEyLDE5LDIxXTtmdW5jdGlvbiBYKHcsYyxoLGUsUyxzKXt2YXIgdCxvLEwsRSxkLE89ZSxOPS1NKk0sSz03OC1oPDx4LHAsZyxuLG0sQSxxLHIsQyxKLGE9eT8teDp4O3lePTg7RysrO2Q9d3x8cyYmcz49aCYmWCgwLDAsMCwyMSwwLDApPk07ZG97aWYobz1JW3A9T10pe3E9byZ6Xnk7aWYocTw3KXtBPXEtLSYyPzg6NDtDPW8tOSZ6P1s1Myw0Nyw2MSw1MSw0Nyw0N11bcV06NTc7ZG97cj1JW3ArPWxbQ11dO2lmKCF3fHA9PXcpe2c9cXxwK2EtUz8wOlM7aWYoIXImKCEhcXxBPDN8fCEhZyl8fChyKzEmel55KT45JiZxfEE+Mil7aWYobT0hKHItMiY3KSlyZXR1cm4geV49OCxJW0ctLV09TyxLO0o9bj1vJno7RT1JW3AtYV0mejt0PXF8RS03P246KG4rPTIsNl55KTt3aGlsZShuPD10KXtMPXI/bFtyJjd8MzJdLWgtcTowO2lmKHMpTCs9KDEtcT9sWyhwLXAleCkveCszN10tbFsoTy1PJXgpL3grMzddK2xbcCV4KzM4XSoocT8xOjIpLWxbTyV4KzM4XSsobyYxNikvMjohIW0qOSkrKCFxPyEoSVtwLTFdXm4pKyEoSVtwKzFdXm4pK2xbbiY3fDMyXS05OSshIWcqOTkrKEE8Mik6MCkrIShFXnleOSk7aWYocz5ofHwxPHMmcz09aCYmTD56fGQpe0lbcF09bixJW09dPW0/KElbZ109SVttXSxJW21dPTApOmc/SVtnXT0wOjA7TC09WChzPmh8ZD8wOnAsTC1OLGgrMSxJW0crMV0sSj1xfEE+MT8wOnAscyk7aWYoIShofHxzLTF8Qi1PfGktbnxwLWJ8TDwtTSkpcmV0dXJuIFcoKSxHLS0sdT1KO0o9cS0xfEE8N3x8bXx8IXN8ZHxyfG88enx8WCgwLDAsMCwyMSwwLDApPk07SVtPXT1vO0lbcF09cjttPyhJW21dPUlbZ10sSVtnXT0wKTpnP0lbZ109OV55OjB9aWYoTD5OfHxzPjEmJkw9PU4mJiFoJiZNYXRoLnJhbmRvbSgpPC41KXtJW0ddPU87aWYocz4xKXtpZihoJiZjLUw8MClyZXR1cm4geV49OCxHLS0sTDtpZighaClpPW4sQj1PLGI9cH1OPUx9bis9Snx8KGc9cCxtPXA8Tz9nLTM6ZysyLElbbV08enxJW20rTy1wXXx8SVtwKz1wLU9dKT8xOjB9fX19d2hpbGUoIXImcT4yfHwocD1PLHF8QT4yfG8+eiYhciYmKytDKi0tQSkpfX19d2hpbGUoKytPPjk4P089MjA6ZS1PKTtyZXR1cm4geV49OCxHLS0sTitNKk0mJk4+LUsrMTkyNHxkP046MH1CPWk9eT11PTA7d2hpbGUoQisrPDEyMClJW0ItMV09QiV4P0IveCV4PDJ8QiV4PDI/NzpCL3gmND8wOmxbaSsrXXwxNjo3O2ZvcihhPSI8dGFibGUgY2VsbHNwYWNpbmc9MCBhbGlnbj1jZW50ZXIgYm9yZGVyPTA+IixCPTA7Qjw4O0IrKylmb3IoYSs9Ijx0cj4iLGk9MjE7aTwyOTtpKyspYSs9Ijx0ZCB3aWR0aD02MCBoZWlnaHQ9NjAgb25jbGljaz1ZKCIrKEIqeCtpKSsiKSBpZD1vIisoQip4K2kpKyIgc3R5bGU9J2xpbmUtaGVpZ2h0OjUwcHg7Zm9udC1zaXplOjUwcHg7Ym9yZGVyOjJweCBzb2xpZCAiKyIjZTBlMGYwJyBiZ2NvbG9yPSMiKyhpK0ImMT8iZjBmIjoiYzBjIikrIjBmMCBhbGlnbj1jZW50ZXI+IjthKz0iPHRyPjx0ZCBjb2xzcGFuPTggYWxpZ249Y2VudGVyPjxzZWxlY3QgaWQ9dCBzdHlsZT0nZm9udC1zaXplOjIwcHgnPjxvcHRpb24+JiM5ODE5OzxvcHRpb24+Ijtkb2N1bWVudC53cml0ZShhKyImIzk4MjA7PG9wdGlvbj4mIzk4MjE7PG9wdGlvbj4mIzk4MjI7PC9zZWxlY3Q+PC90YWJsZT4iKTtmdW5jdGlvbiBXKCl7Qj1iO2ZvcihwPTIxO3A8OTk7cCs9cCV4LTg/MTozKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibyIrcCkuaW5uZXJIVE1MPSJceGEwXHUyNjVmXHUyNjVhXHUyNjVlXHUyNjVkXHUyNjVjXHUyNjViICBcdTI2NTlcdTI2NTRcdTI2NThcdTI2NTdcdTI2NTZcdTI2NTUiLmNoYXJBdChJW3BdJnopO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvIitwKS5zdHlsZS5ib3JkZXJDb2xvcj1wPT1CPyJyZWQiOiIjZTBlMGYwIn19VygpO2Z1bmN0aW9uIFkocyl7aT0oSVtzXV55KSZ6O2lmKGk+OCl7Yj1zO1coKX1lbHNlIGlmKEImJmk8OSl7Yj1zO2k9SVtCXSZ6O2lmKChpJjcpPT0xJihiPDI5fGI+OTApKWk9MTQtZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInQiKS5zZWxlY3RlZEluZGV4Xnk7WCgwLDAsMCwyMSx1LDEpO2lmKHkpd2luZG93LnNldFRpbWVvdXQoIlgoMCwwLDAsMjEsdSwyLypwbHkqLyksWCgwLDAsMCwyMSx1LDEpIiwyNTApfX08L3NjcmlwdD48L2JvZHk+PC9odG1sPgo%3D%27%2C%27_blank%27%2C%27width%3D600%2Cheight%3D550%2Cleft%3D200%2Ctop%3D100%27%29%7D%5D%0A%5D%3B%0Avar%20contextMenu%20%3D%20document.getElementById%28%22contentAreaContextMenu%22%29%3B%0Avar%20nextEleMenu%20%3D%20contextMenu.children%5B%27context-inspect%27%5D%3B%0A%0Avar%20menuId%20%3D%20%22context-ext-addon%22%3B%0Avar%20menuItem%2C%20menuPopup%2C%20menu%20%3D%20document.getElementById%28menuId%29%3B%0Aif%20%28menu%29%20%7B%0A%20%20%20%20contextMenu.removeChild%28menu%29%3B%0A%7D%3B%0AmenuPopup%20%3D%20document.createElement%28%22menupopup%22%29%3B%0Amenu%20%3D%20document.createElement%28%22menu%22%29%3B%0Amenu.setAttribute%28%22id%22%2C%20menuId%29%3B%0Amenu.setAttribute%28%22label%22%2C%20%22%u0414%u043E%u043F%u043E%u043B%u043D%u0438%u0442%u0435%u043B%u044C%u043D%u043E%22%29%3B%0A%0Afor%20%28var%20i%20%3D%200%3B%20i%20%3C%20itemsArr.length%3B%20i++%29%20%7B%0A%20%20%20%20if%20%28itemsArr%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20menuItem%20%3D%20document.createElement%28%22menuitem%22%29%3B%0A%20%20%20%20%20%20%20%20menuItem.setAttribute%28%22label%22%2C%20itemsArr%5Bi%5D%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20menuItem.addEventListener%28%22command%22%2C%20%28function%28f%29%7Breturn%20function%28%29%7Bcontent.location.href%20%3D%20%22javascript%3A%28%22%20+%20encodeURI%28f%29%20+%20%22%29%28%29%22%7D%7D%29%28itemsArr%5Bi%5D%5B1%5D.toString%28%29%29%2C%20false%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20menuItem%20%3D%20document.createElement%28%22menuseparator%22%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20menuPopup.appendChild%28menuItem%29%3B%0A%7D%3B%0Amenu.appendChild%28menuPopup%29%3B%0AcontextMenu.insertBefore%28menu%2C%20nextEleMenu%29%3B%0A%0AaddDestructor%28function%28%29%7BcontextMenu.removeChild%28menu%29%7D%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*CODE*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Ext menu</a> - Раздел «Дополнительно» в контекстном меню, аналогичный оперному из расширенного меню. Туда можно добавить практически любой букмарклет.
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EGoogle%20translate%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQtJREFUKM9VkSFOhFEQg799/CjEihWAwKDgIFwAyWHgLDjuAGfZgMCQDQkG8abtQ/z8u9A0k4rOTCez2u0GB0gCsLELbCuxLduJy0zAZgOQBBqQALEbtOQoyRgjSZLt9nOaJyf5K2zPjr01SWst8ermZtzd5euLhCQ2Y9iOHXssIvZYr1f39x/T87Ourtr7O3ZUyK6KlN5HVRaOqlxcNGACJKRItigdHFXpFdXoPVWRGmSac0suRYWUWhz7zt5/BXh65Pi6Hr7rI/IopZyqpSqldLsq9onPX3iabuHYr6o3pCVHP2Sa11nIzZdnMAmOSpyejiocVEhtjrwc15L5l4HVDgReCGTR+V9n/AAByma0J+vVwwAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/*Initialization%20Code*/%0A%0Avar%20btn%20%3D%20this%3B%0A%0Abtn.lastClick%20%3D%20%7B%0A%20%20%20%20X%3A%200%2C%0A%20%20%20%20Y%3A%200%0A%7D%3B%0AaddEventListener%28%22mouseup%22%2C%20function%28e%29%20%7B%0A%20%20%20%20if%20%28e%20%26%26%20e.button%20%3D%3D%200%20%26%26%20e.view.top%20%3D%3D%20content%29%20%7B%0A%20%20%20%20%20%20%20%20var%20lc%20%3D%20btn.lastClick%3B%0A%20%20%20%20%20%20%20%20lc.X%20%3D%20e.clientX%3B%0A%20%20%20%20%20%20%20%20lc.Y%20%3D%20e.clientY%3B%0A%20%20%20%20%7D%0A%7D%2C%20false%29%3B%0A%0Avar%20safeHTMLParser%20%3D%20function%28code%2C%20base%29%20%7B%0A%20%20%20%20var%20gUnescapeHTML%20%3D%20Cc%5B%22@mozilla.org/feed-unescapehtml%3B1%22%5D.getService%28Ci.nsIScriptableUnescapeHTML%29%3B%0A%20%20%20%20var%20doc%20%3D%20document.implementation.createDocument%28xhtmlns%2C%20%22html%22%2C%20null%29%3B%0A%20%20%20%20var%20body%20%3D%20document.createElementNS%28xhtmlns%2C%20%22body%22%29%3B%0A%20%20%20%20doc.documentElement.appendChild%28body%29%3B%0A%20%20%20%20body.appendChild%28gUnescapeHTML.parseFragment%28code%2C%20false%2C%20base%20%3F%20makeURI%28base%29%20%3A%20null%2C%20body%29%29%3B%0A%20%20%20%20return%20doc%3B%0A%7D%3B%0A%0Avar%20createWindow%20%3D%20function%28text%2C%20status%2C%20title%2C%20id%2C%20pos%2C%20size%29%7B%0A%20%20%20%20var%20win%20%3D%20document.commandDispatcher.focusedWindow.top%20%3D%3D%20content%20%3F%20document.commandDispatcher.focusedWindow%20%3A%20content%3B%0A%09var%20doc%20%3D%20win.document%2C%20wId%20%3D%20%27ujs_window%27+%28id%20%7C%7C%20%27%27%29%2C%20w%20%3D%20doc.getElementById%28wId%29%3B%0A%09var%20keyDown%20%3D%20function%28e%29%7Bif%28%21e.shiftKey%20%26%26%20%21e.ctrlKey%20%26%26%20%21e.altKey%20%26%26%20e.keyCode%20%3D%3D%2027%29doc.getElementById%28wId%29.closeWin%28%29%7D%3B%0A%09if%28w%29w.closeWin%28%29%3B%0A%09w%20%3D%20doc.createElement%28%27div%27%29%3B%0A%09w.setAttribute%28%27style%27%2C%20%27position%3Afixed%3Bdisplay%3Ablock%3Bvisibility%3Ahidden%3Bleft%3A0%3Btop%3A0%3Bwidth%3Aauto%3Bheight%3Aauto%3Bborder%3A1px%20solid%20gray%3Bpadding%3A3px%3Bmargin%3A0%3Bz-index%3A99999%3Boverflow%3Ahidden%3Bcursor%3Amove%3B%27+%28typeof%20w.style.borderRadius%20%3D%3D%3D%20%27string%27%20%3F%20%27background-color%3A%23f3f5f7%3Bpadding-top%3A4px%3Bborder-radius%3A4px%3Bbox-shadow%3A0%200%2012px%20rgba%280%2C0%2C0%2C.4%29%3B%27%20%3A%20%27background%3A-o-skin%28%22Window%20Skin%22%29%3B%27%29%29%3B%0A%09w.id%20%3D%20wId%3B%0A%09w.closeWin%20%3D%20function%28%29%7B%0A%09%09doc.removeEventListener%28%27keydown%27%2C%20keyDown%2C%20false%29%3B%0A%09%09this.parentNode.removeChild%28this%29%3B%0A%09%7D%3B%0A%09w.addEle%20%3D%20function%28str%2C%20style%29%7B%0A%09%09var%20ele%20%3D%20doc.createElement%28%27div%27%29%3B%0A%09%09ele.setAttribute%28%27style%27%2C%20style%29%3B%0A%09%09if%28str%29%7B%0A%09%09%09ele.innerHTML%20%3D%20str%3B%0A%09%09%09for%28var%20el%2C%20all%20%3D%20ele.getElementsByTagName%28%27*%27%29%2C%20i%20%3D%20all.length%3B%20i--%3B%29%7B%0A%09%09%09%09el%20%3D%20all%5Bi%5D%3B%0A%09%09%09%09if%28/%5E%28script%7Cframe%7Ciframe%7Capplet%7Cembed%7Cobject%29%24/i.test%28el.nodeName%29%29%7B%0A%09%09%09%09%09el.parentNode.removeChild%28el%29%3B%0A%09%09%09%09%7Delse%7B%0A%09%09%09%09%09for%28var%20att%20%3D%20el.attributes%2C%20j%20%3D%20att.length%3B%20j--%3B%29%7B%0A%09%09%09%09%09%09if%28/%5Eon%5Ba-z%5D+%24/i.test%28att%5Bj%5D.name%29%29att%5Bj%5D.value%20%3D%20%27%27%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%3B%0A%09%09return%20this.appendChild%28ele%29%3B%0A%09%7D%3B%0A%09var%20img%20%3D%20doc.createElement%28%27div%27%29%3B%0A%09img.setAttribute%28%27style%27%2C%20%27display%3Ablock%3Bfloat%3Aright%3Bwidth%3A18px%3Bheight%3A18px%3Bpadding%3A0%3Bmargin%3A0%3Bborder%3Anone%3Bcursor%3Apointer%3Bbackground-image%3Aurl%28%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAAZElEQVR42mNgGNyAGQixsVGU/AdCXjCbHczmxKaMFywlAlWiw6DAwIZNmQhYGqJEDWoqFiAGVmKKTwk73CRJ/Ep0GIyhbsPpO4hbIG4TwKaMk0EZ7hYBBk1cvmNDEmbDrmSwAADE8h10+qICXwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII%3D%22%29%3Bbackground%3A-o-skin%28%22Caption%20Close%20Button%20Skin%22%29%3B%27%29%3B%0A%09img.title%20%3D%20%28win.navigator.language.indexOf%28%27ru%27%29%20%3D%3D%200%29%20%3F%20%27%5Cu0417%5Cu0430%5Cu043A%5Cu0440%5Cu044B%5Cu0442%5Cu044C%27%20%3A%20%27Close%27%3B%0A%09img.addEventListener%28%27click%27%2C%20function%28%29%7Bthis.parentNode.closeWin%28%29%7D%2C%20false%29%3B%0A%09w.appendChild%28img%29%3B%0A%09w.addEle%28title%2C%20%27display%3Atable%3Bcolor%3A%23000%3Bfont%3A16px%20Times%20New%20Roman%3Bwidth%3Aauto%3Bheight%3Aauto%3Bpadding%3A0%3Bmargin%3A0%202px%3Bcursor%3Atext%3B%27%29%3B%0A%09var%20cnt%20%3D%20w.addEle%28text%2C%20%27display%3Ablock%3Bborder%3A1px%20solid%20%23aaa%3Bmargin%3A2px%200%201px%200%3Bpadding%3A4px%3Bbackground-color%3A%23fafcfe%3Bcolor%3A%23000%3Bfont%3A14px%20Times%20New%20Roman%3Bwidth%3A240px%3Bheight%3A120px%3Boverflow%3Aauto%3Bcursor%3Atext%3B%27%29%3B%0A%09w.addEle%28status%2C%20%27display%3Atable%3Bcolor%3A%23555%3Bfont%3A10px%20Times%20New%20Roman%3Bwidth%3Aauto%3Bheight%3Aauto%3Bpadding%3A0%3Bmargin%3A0%202px%3Bcursor%3Atext%3B%27%29%3B%0A%09w.addEventListener%28%27mousedown%27%2C%20function%28e%29%7B%0A%09%09if%28e.target%20%3D%3D%20w%29%7B%0A%09%09%09e.preventDefault%28%29%3B%0A%09%09%09var%20grabX%20%3D%20e.clientX%2C%20grabY%20%3D%20e.clientY%2C%20origX%20%3D%20parseInt%28w.style.left%29%2C%20origY%20%3D%20parseInt%28w.style.top%29%3B%0A%09%09%09var%20mouseMove%20%3D%20function%28ev%29%7B%0A%09%09%09%09w.style.left%20%3D%20origX+ev.clientX-grabX+%27px%27%3B%0A%09%09%09%09w.style.top%20%3D%20origY+ev.clientY-grabY+%27px%27%3B%0A%09%09%09%7D%3B%0A%09%09%09doc.addEventListener%28%27mousemove%27%2C%20mouseMove%2C%20false%29%3B%0A%09%09%09doc.addEventListener%28%27mouseup%27%2C%20function%28%29%7Bdoc.removeEventListener%28%27mousemove%27%2C%20mouseMove%2C%20false%29%7D%2C%20false%29%3B%0A%09%09%7D%0A%09%7D%2C%20false%29%3B%0A%09doc.documentElement.appendChild%28w%29%3B%0A%0A%09if%28size%29%7B%0A%09%09cnt.style.height%20%3D%20size.height%3B%0A%09%09cnt.style.width%20%3D%20size.width%3B%0A%09%7Delse%7B%0A%09%09for%28var%20i%20%3D%203%3B%20i%20%3C%2010%3B%20i++%29%7B%0A%09%09%09if%28cnt.scrollHeight%20%3E%20cnt.offsetHeight%20%7C%7C%20cnt.scrollWidth%20%3E%20cnt.offsetWidth%29%7B%0A%09%09%09%09cnt.style.height%20%3D%2050*i+%27px%27%3B%0A%09%09%09%09cnt.style.width%20%3D%20100*i+%27px%27%3B%0A%09%09%09%7Delse%20break%3B%0A%09%09%7D%0A%09%7D%3B%0A%09var%20docEle%20%3D%20doc.compatMode%20%3D%3D%20%27CSS1Compat%27%20%3F%20doc.documentElement%20%3A%20doc.body%3B%0A%09var%20mX%20%3D%20docEle.clientWidth-w.offsetWidth%2C%20mY%20%3D%20docEle.clientHeight-w.offsetHeight%3B%0A%09if%28mX%20%3C%200%29%7Bcnt.style.width%20%3D%20parseInt%28cnt.style.width%29+mX+%27px%27%3B%20mX%20%3D%200%7D%3B%0A%09if%28mY%20%3C%200%29%7Bcnt.style.height%20%3D%20parseInt%28cnt.style.height%29+mY+%27px%27%3B%20mY%20%3D0%7D%3B%0A%09var%20hW%20%3D%20parseInt%28w.offsetWidth/2%29%3B%0A%09w.style.left%20%3D%20%28pos%20%26%26%20pos.X%20%3C%20mX+hW%20%3F%20%28pos.X%20%3E%20hW%20%3F%20pos.X-hW%20%3A%200%29%20%3A%20mX%29+%27px%27%3B%0A%09w.style.top%20%3D%20%28pos%20%26%26%20pos.Y+10%20%3C%20mY%20%3F%20pos.Y+10%20%3A%20mY%29+%27px%27%3B%0A%09w.style.visibility%20%3D%20%27visible%27%3B%0A%09doc.addEventListener%28%27keydown%27%2C%20keyDown%2C%20false%29%3B%0A%7D%3B%0A%0Avar%20getSel%20%3D%20function%20%28w%29%20%7B%0A%20%20%20%20var%20s%2C%20d%20%3D%20w.document%3B%0A%20%20%20%20if%20%28d.selection%29%20%7B%0A%20%20%20%20%20%20%20%20var%20r%20%3D%20d.selection.createRange%28%29%3B%0A%20%20%20%20%20%20%20%20s%20%3D%20r%20%3F%20r.text%20%3A%20%27%27%0A%20%20%20%20%7D%20else%20%7B%0A%09%09s%20%3D%20d.getSelection%28%29.toString%28%29%3B%0A%09%09if%20%28%21s%29%20%7B%0A%09%09%09var%20e%2C%20t%20%3D%20d.getElementsByTagName%28%27textarea%27%29%2C%20u%20%3D%20d.getElementsByTagName%28%27input%27%29%2C%20i%20%3D%20t.length%3B%0A%09%09%09while%28e%20%3D%20%28i%20%3E%200%29%20%3F%20t%5B--i%5D%20%3A%20u%5B-i--%5D%29try%7B%0A%09%09%09%09if%20%28e.offsetHeight%20%3E%200%20%26%26%20%28s%20%3D%20e.value.substring%28e.selectionStart%2C%20e.selectionEnd%29%29%29%20break%0A%09%09%09%7Dcatch%28x%29%7B%7D%0A%09%09%7D%0A%09%7D%3B%0A%20%20%20%20if%20%28%21s%29%20for%20%28var%20j%20%3D%200%2C%20f%3B%20f%20%3D%20w.frames%5Bj%5D%3B%20j++%29%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s%20%3D%20getSel%28f%29%29%20break%0A%20%20%20%20%20%20%20%20%7D%20catch%28x%29%20%7B%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20return%20s%0A%7D%3B%0A%0Avar%20ujs_google_translate%20%3D%20function%20%28dir%29%7B%0A%20%20%20%20var%20win%20%3D%20content%2C%20lng%20%3D%20win.navigator.language.slice%280%2C%202%29%2C%20txt%20%3D%20getSel%28win%29%3B%0A%20%20%20%20if%20%28txt%29%20%7B%20%0A%20%20%20%20%20%20%20%20var%20xhr%20%3D%20new%20XMLHttpRequest%28%29%3B%0A%20%20%20%20%20%20%20%20var%20encTxt%20%3D%20%27text%3D%27%20+%20encodeURIComponent%28txt%29%2C%20post%20%3D%20encTxt.length%20%3E%201024%2C%20l%20%3D%20dir.split%28%27%7C%27%29%3B%0A%20%20%20%20%20%20%20%20var%20url%20%3D%20%27https%3A//translate.google.com/%3F%27%20+%20%28post%20%3F%20%27%27%20%3A%20encTxt%20+%20%27%26%27%29%20+%20%27sl%3D%27%20+%20l%5B0%5D%20+%20%27%26tl%3D%27%20+%20l%5B1%5D%20+%20%27%26hl%3D%27%20+%20lng%20+%20%27%26eotf%3D0%26ujs%3Dgtt%27%3B%0A%0A%20%20%20%20%20%20%20%20xhr.open%28post%20%3F%20%27POST%27%20%3A%20%27GET%27%2C%20url%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20if%28post%29xhr.setRequestHeader%28%27Content-Type%27%2C%20%27application/x-www-form-urlencoded%27%29%3B%0A%20%20%20%20%20%20%20%20xhr.onreadystatechange%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28xhr.readyState%20%3D%3D%204%20%26%26%20xhr.status%20%3D%3D%20200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20result%20%3D%20%27%27%2C%20status%20%3D%20%27%27%2C%20tmp%20%3D%20safeHTMLParser%28xhr.responseText%2C%20url%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20r%20%3D%20tmp.querySelector%28%27%23result_box%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28r%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20p%20%3D%20r.getElementsByTagName%28%27span%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20n%3B%20n%20%3D%20p%5Bi%5D%3B%20i++%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20n.setAttribute%28%27style%27%2C%20%27background-color%3Ainherit%3Bcolor%3Ainherit%3Bfont-size%3Ainherit%3Bfont-family%3ATimes%2Cserif%3B%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20r.innerHTML%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20otf%20%3D%20tmp.querySelector%28%27%23gt-otf-switch%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20getQuery%20%3D%20function%28s%2C%20q%29%7Bvar%20a%20%3D%20s.match%28new%20RegExp%28%27%28%5E%7C%5B%26%3F%5D%29%27+q+%27%3D%28%5B%5E%26%5D+%29%27%29%29%3B%20return%20a%20%3F%20a%5B2%5D%20%3A%20%27%27%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28otf%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%20%3D%20%28getQuery%28otf.href%2C%20%27sl%27%29+%27%20-%5Cu203A%20%27+getQuery%28otf.href%2C%20%27tl%27%29%29.toUpperCase%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20createWindow%28result%2C%20status%2C%20%27%3Ca%20href%3D%22%27+url.replace%28/%26/g%2C%27%26amp%3B%27%29+%27%22%20target%3D%22_blank%22%20style%3D%22display%3Ainline%3Bpadding%3A0%3Bmargin%3A0%3Btext-decoration%3Anone%3Bborder%3Anone%3Bcolor%3A%23009%3Bfont%3A16px%20Times%20New%20Roman%3B%22%3EGoogle%20Translate%3C/a%3E%27%2C%20%27_gt%27%2C%20btn.lastClick%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28x%29%7B%7D%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20xhr.send%28post%20%3F%20encTxt%20%3A%20null%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20win.open%28%27http%3A//translate.google.com/translate%3Fu%3D%27+escape%28win.location.href%29+%27%26hl%3D%27+lng+%27%26langpair%3D%27+dir+%27%26tbb%3D1%27%29%3B%0A%20%20%20%20%7D%3B%0A%7D%3B%0A%0A%0Abtn.onclick%20%3D%20function%28e%29%7Bif%28e.button%20%3D%3D%200%29ujs_google_translate%28%27auto%7Cru%27%29%7D%3B%0A%0Avar%20contextMenu%20%3D%20document.getElementById%28%22contentAreaContextMenu%22%29%3B%0Avar%20nextEleMenu%20%3D%20document.getElementById%28%22context-inspect%22%29%3B%0A%0Avar%20menuId%20%3D%20%22context-ext-google-translate%22%3B%0Avar%20menuItem%20%3D%20document.getElementById%28menuId%29%3B%0Aif%20%28menuItem%29%20%7B%0A%20%20%20%20contextMenu.removeChild%28menuItem.nextElementSibling%29%3B%0A%20%20%20%20contextMenu.removeChild%28menuItem.nextElementSibling%29%3B%0A%20%20%20%20contextMenu.removeChild%28menuItem%29%3B%0A%7D%3B%0A%0AmenuItem%20%3D%20document.createElement%28%22menuitem%22%29%3B%0AmenuItem.setAttribute%28%22id%22%2C%20menuId%29%3B%0AmenuItem.setAttribute%28%22label%22%2C%20%22%u041F%u0435%u0440%u0435%u0432%u0435%u0441%u0442%u0438%20%u043D%u0430%20%u0440%u0443%u0441%u0441%u043A%u0438%u0439%22%29%3B%0AmenuItem.setAttribute%28%22class%22%2C%20%22menuitem-iconic%22%29%3B%0AmenuItem.setAttribute%28%22image%22%2C%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAABnRSTlMAAAAAAABupgeRAAABBUlEQVR4Ac2RMU4DMRREB2MqihQpAkUaqnAduuQw4Sx03CGcJYIiDYqQ0lCsZ77535ZFcgAkRuPvV7zd/dLiz3N1PFb8hmRckrfELZrF9ONQ1B6Yz0MyM7S0O6zGkVprh/3+Kw/JzkHSpRpJKZkpr9fYbOx0cjVsCbWG31oHBM9mtt0q73ZcrdLhAMlYQKkUI22aqsNo8HKZAMQhvVaKSHWj2Q2aPU3mJQFY7nuHyvYFduP83WF3AJRfcPNYnr/Lp1G1uK4m9sno1LaUbnX/htf8BNzoneUD5NhjvLCMhURQSQ93QCZwXYjFwg3I0NZKrvoknQPMIHkt/jRAQKMeG2yX89/mB4EJbKbZxIhFAAAAAElFTkSuQmCC%22%29%3B%0AmenuItem.addEventListener%28%22command%22%2C%20function%28%29%7Bujs_google_translate%28%27auto%7Cru%27%29%7D%2C%20false%29%3B%0AcontextMenu.insertBefore%28menuItem%2C%20nextEleMenu%29%3B%0A%0AmenuItem%20%3D%20document.createElement%28%22menuitem%22%29%3B%0AmenuItem.setAttribute%28%22label%22%2C%20%22%u041F%u0435%u0440%u0435%u0432%u0435%u0441%u0442%u0438%20%u043D%u0430%20%u0430%u043D%u0433%u043B%u0438%u0439%u0441%u043A%u0438%u0439%22%29%3B%0AmenuItem.setAttribute%28%22class%22%2C%20%22menuitem-iconic%22%29%3B%0AmenuItem.setAttribute%28%22image%22%2C%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAABnRSTlMAAAAAAABupgeRAAAB5UlEQVR4AWOgPZg0c9+Oq2+qpx9LaQaiw4mNB27efbs2uXFNQh2Q4Zm9zSNth23MhqjGnXMC86vnHmUS4udxv7OvOd2yPE7PTlfCTk9GVVEoyJA7WI8dyPA0k3U1l+jJMV7CeThpTZeoKDdDUsvBPSff/V+6/P/Bvf///2+bdvU/EKRm/k9IBNIlfZe+LFrzvbsbyJ636pKkyQyQhoUb7tZNvPpw3/0/TfX/ISAm5n94BIiRm/n/xYsLd946ei4vajoiqDuRAejQf//+o4PQ0P9+fmhiQGVnrr1kXJNYG2zEzXDxDsPv3wy/fkFJoOTPn39+/fr/69e/37//AUX+/mXRkO458wWHDba2f8wswCyQ3N+/f//8/fP7z5+TV18w2Mdt6plzPiptx5Wr7/+/ffMzOR6kysjkt74hWMPfp06O+2dulZCeFZKwnkE4m8E8bN3i9aCQ+dxY96GrK6bkGJD9R1v3l6Y20NVW9kt+/v//ZdbcFwkxTVPPMQimM8XEqkb7a/zoqLxkH9v4zVyI5+///wyMmtKMmhJAnbLqQjHxaw5r2orOmZN5uj470Zahat6BKS7JzpmLBHXm8GhM5lCdcP7ai1ZpixZxk9NXXjKIFzOIFjAI54oY1vXuue5qmscw+AAAW0tKxtPoicEAAAAASUVORK5CYII%3D%22%29%3B%0AmenuItem.addEventListener%28%22command%22%2C%20function%28%29%7Bujs_google_translate%28%27auto%7Cen%27%29%7D%2C%20false%29%3B%0AcontextMenu.insertBefore%28menuItem%2C%20nextEleMenu%29%3B%0A%0AcontextMenu.insertBefore%28document.createElement%28%22menuseparator%22%29%2C%20nextEleMenu%29%3B%0A%0AaddEventListener%28%27keydown%27%2C%20function%20%28e%29%7B%0A%20if%28e.shiftKey%20%26%26%20%21e.ctrlKey%20%26%26%20e.altKey%20%26%26%20e.keyCode%20%3D%3D%2084%29ujs_google_translate%28%27auto%7Cru%27%29%3B%0A%7D%2C%20false%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*CODE*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Google-translate</a> - Версия google-translate.js в виде кнопки. Также добавляет пункты меню: «Перевести на русский» и «Перевести на английский».
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EQuote+%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAcElEQVR4nL2TUQoAIQhE+/JC3v/fW7U7C0JaisGiMFDWPCahISIDemtWpZ7Pp2Zb+Z6IZgCogQBg5nlMkEVfEwSAHxPYdWcCPwefqn8G/QkqoA0AoRkJl9W4mg0AwsFJMCGFN2+ATHjm+omuAQrxvQe3Gn9JVU+LzAAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/*Initialization%20Code*/%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bvar%20win%20%3D%20document.commandDispatcher.focusedWindow.top%20%3D%3D%20content%20%3F%20document.commandDispatcher.focusedWindow%20%3A%20content%2C%20doc%20%3D%20win.document%3B%0A%0Avar%20addText%20%3D%20function%20%28el%2C%20start%2C%20end%29%20%7B%0A%20%20%20%20if%20%28el.firstChild%29%20%7B%0A%20%20%20%20%20%20%20%20el.insertBefore%28doc.createTextNode%28start%29%2C%20el.firstChild%29%3B%0A%20%20%20%20%20%20%20%20el.appendChild%28doc.createTextNode%28end%29%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20el.parentNode.insertBefore%28doc.createTextNode%28start%29%2C%20el%29%3B%0A%20%20%20%20%7D%0A%7D%3B%0A%0Avar%20s%20%3D%20win.getSelection%28%29%3B%0Aif%20%28s%20%21%3D%20%27%27%29%20%7B%0A%20%20%20%20var%20rng%20%3D%20s.getRangeAt%280%29%2C%20sel%20%3D%20doc.createElement%28%27div%27%29%3B%0A%20%20%20%20sel.appendChild%28rng.cloneContents%28%29%29%3B%0A%20%20%20%20var%20ele%20%3D%20sel.getElementsByTagName%28%27*%27%29%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20e%3B%20e%20%3D%20ele%5Bi%5D%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20switch%20%28e.nodeName.toUpperCase%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27A%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Burl%3D%27%20+%20e.href%20+%20%27%5D%27%2C%20%27%5B/url%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27FONT%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.color%29%20addText%28e%2C%20%27%5Bcolor%3D%27%20+%20e.color%20+%20%27%5D%27%2C%20%27%5B/color%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27B%27%3A%0A%20%20%20%20%20%20%20%20case%20%27STRONG%27%3A%0A%20%20%20%20%20%20%20%20case%20%27H2%27%3A%0A%20%20%20%20%20%20%20%20case%20%27H3%27%3A%0A%20%20%20%20%20%20%20%20case%20%27H4%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Bb%5D%27%2C%20%27%5B/b%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27I%27%3A%0A%20%20%20%20%20%20%20%20case%20%27EM%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Bi%5D%27%2C%20%27%5B/i%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27U%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Bu%5D%27%2C%20%27%5B/u%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27PRE%27%3A%0A%20%20%20%20%20%20%20%20case%20%27CODE%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Bcode%5D%27%2C%20%27%5B/code%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27BLOCKQUOTE%27%3A%0A%20%20%20%20%20%20%20%20case%20%27Q%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Bquote%5D%27%2C%20%27%5B/quote%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27DIV%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.className%20%3D%3D%20%27code%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Bcode%5D%27%2C%20%27%5B/code%5D%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28e.className%20%3D%3D%20%27quote%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Bquote%5D%27%2C%20%27%5B/quote%5D%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27IMG%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20e.removeAttribute%28%27alt%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.removeAttribute%28%27title%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20addText%28e%2C%20%27%5Bimg%5D%27%20+%20e.src%20+%20%27%5B/img%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20cnt%20%3D%20rng.commonAncestorContainer%3B%0A%20%20%20%20if%20%28cnt.nodeType%20%21%3D%201%29%20cnt%20%3D%20cnt.parentNode%3B%0A%20%20%20%20cnt.appendChild%28sel%29%3B%0A%20%20%20%20s.removeAllRanges%28%29%3B%0A%20%20%20%20rng%20%3D%20doc.createRange%28%29%3B%0A%20%20%20%20rng.selectNodeContents%28sel%29%3B%0A%20%20%20%20s.addRange%28rng%29%3B%0A%20%20%20%20var%20txt%20%3D%20s.toString%28%29%3B%0A%20%20%20%20s.removeAllRanges%28%29%3B%0A%20%20%20%20cnt.removeChild%28sel%29%3B%0A%0A%20%20%20%20var%20prequote%20%3D%20function%28v%2Cc%29%7Bvar%20n%3D%27%27%2Cu%3D%27%27%3Bif%28win.location.hostname%3D%3D%27forum.ru-board.com%27%29%7Bwhile%28c.className%21%3D%27tpc%27%26%26c.parentNode%29%7Bc%3Dc.parentNode%7D%3Bif%28c.className%21%3D%27tpc%27%29return%3Bvar%20tn%3Dc.parentNode.parentNode.childNodes%5B1%5D.childNodes%5B0%5D.childNodes%5B1%5D%3Bn%3D%27%5Bb%5D%27+c.parentNode.firstChild.getElementsByTagName%28%27b%27%29%5B0%5D.textContent+%27%5B/b%5D%20%27%3Bu%3D%27%5Burl%3D%27+tn.childNodes%5B5%5D.href+%27%5D%5Bcolor%3D%23007777%5D%5Bsize%3D1%5D%5Bu%5D%27+tn.childNodes%5B7%5D.textContent.replace%28/%5E%20+/%2C%27%27%29.replace%28/%20+%24/%2C%27%27%29+%27%5B/u%5D%5B/size%5D%5B/color%5D%5B/url%5D%20%27%7D%3Bif%28%28win.wrappedJSObject%7C%7Cwin%29.smf_theme_url%29%7Bwhile%28%28c.className%7C%7C%27%27%29.indexOf%28%27windowbg%27%29%3D%3D-1%26%26c.parentNode%29%7Bc%3Dc.parentNode%7D%3Bvar%20dv%3Dc.getElementsByTagName%28%27div%27%29%3Bfor%28var%20i%3D0%2Cdi%3Bdi%3Ddv%5Bi%5D%3Bi++%29%7Bif%28di.className%3D%3D%27post%27%29%7Bc%3Ddi%3Bbreak%7D%7D%3Bif%28c.className%21%3D%27post%27%29return%3Bn%3D%27%5Bb%5D%27+c.parentNode.parentNode.getElementsByTagName%28%27a%27%29%5B0%5D.textContent+%27%5B/b%5D%20%27%3Bu%3D%27%5Burl%3D%27+c.parentNode.getElementsByTagName%28%27a%27%29%5B0%5D.href+%27%5D%5Bsize%3D1%5D%5Bu%5D%5B%3F%5D%5B/u%5D%5B/size%5D%5B/url%5D%20%27%7D%3Bif%28v.indexOf%28n%29%21%3D-1%29n%3D%27%27%3Bif%28v.indexOf%28u%29%21%3D-1%29u%3D%27%27%3Breturn%20n+u%7D%3B%0A%0A%20%20%20%20var%20pre%2C%20t%2C%20ts%20%3D%20doc.getElementsByTagName%28%27textarea%27%29%3B%0A%20%20%20%20for%20%28var%20i%20%3D%20ts.length%3B%20i--%3B%29%20%7B%0A%20%20%20%20%20%20%20%20t%20%3D%20ts%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28t.rows%20%3E%204%20%26%26%20t.offsetHeight%20%3E%200%29%20break%0A%20%20%20%20%7D%3B%0A%20%20%20%20if%20%28%21t%20%7C%7C%20t.offsetHeight%20%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20gClipboard.write%28txt%29%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20%28t.rows%20%3C%2015%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20len%20%3D%20t.rows%20+%20txt.split%28%27%5Cn%27%29.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20t.rows%20%3D%20%28len%20%3C%3D%2015%29%20%3F%20len%20%3A%2015%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20pre%20%3D%20prequote%28t.value%2C%20cnt%29%20%7C%7C%20%27%27%0A%20%20%20%20%20%20%20%20%7D%20catch%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20pre%20%3D%20%27%27%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20var%20tEnd%20%3D%20t.selectionEnd%2C%20tLen%20%3D%20t.value.length%3B%0A%20%20%20%20%20%20%20%20t.value%20%3D%20t.value.substring%280%2C%20tEnd%29%20+%20pre%20+%20%27%5Bquote%5D%27%20+%20txt%20+%20%27%5B/quote%5D%5Cn%27%20+%20t.value.substring%28tEnd%2C%20tLen%29%3B%0A%20%20%20%20%20%20%20%20tEnd%20+%3D%20t.value.length%20-%20tLen%3B%0A%20%20%20%20%20%20%20%20t.setSelectionRange%28tEnd%2C%20tEnd%29%3B%0A%20%20%20%20%20%20%20%20t.focus%28%29%0A%20%20%20%20%7D%0A%7D%20else%20%7B%0A%09ujs_bbcode_tag%28%27%5Bquote%5D%27%29%3B%0A%7D%3B%0A%0Afunction%20ujs_bbcode_tag%28tag%29%7B%0A%09var%20ts%3Dwin.getSelection%28%29.toString%28%29%3B%0A%09var%20et%3Ddoc.activeElement%3B%0A%09var%20en%3Det%20%26%26%20et.nodeName.toLowerCase%28%29%3B%0A%09var%20ta%3D%28en%3D%3D%27textarea%27%20%7C%7C%20%28en%3D%3D%27input%27%20%26%26%20et.type%3D%3D%27text%27%29%29%20%3F%20et%20%3A%20null%3B%3B%0A%09if%28%21ta%29for%28var%20t%3Ddoc.getElementsByTagName%28%27textarea%27%29%2C%20i%3Dt.length%3B%20i--%3B%29%7Bta%3Dt%5Bi%5D%3B%20if%28ta.rows%3E4%20%26%26%20ta.offsetHeight%3E0%29break%7D%3B%0A%09if%28%21ta%20%7C%7C%20ta.offsetHeight%3D%3D0%29return%3B%0A%0A%09var%20s%2C%20e_tag%3B%0A%09var%20s_tag%3Dtag%3B%0A%09var%20nStart%3Dta.selectionStart%3B%0A%09var%20nEnd%3Dta.selectionEnd%3B%0A%09var%20txt%3Dta.value.substring%28nStart%2C%20nEnd%29%3B%0A%09var%20s_txt%3Dta.value.substring%280%2C%20nStart%29%3B%0A%09var%20e_txt%3Dta.value.substring%28nEnd%2C%20ta.value.length%29%3B%0A%0A%09var%20al%3Darguments.length%3B%0A%09if%28al%3D%3D0%29return%20ts%20%7C%7C%20txt%3B%0A%09if%28al%3D%3D1%20%26%26%20typeof%20arguments%5B0%5D%3D%3D%27function%27%29%7B%0A%09%09var%20sel%3D%7Btext%3A%20txt%2C%20start%3A%200%2C%20end%3A%20nEnd-nStart%7D%3B%0A%09%09arguments%5B0%5D%28sel%29%3B%0A%09%09ta.value%3Ds_txt+sel.text+e_txt%3B%0A%09%09var%20len%3Dta.value.length-s_txt.length-e_txt.length+1%3B%0A%09%09ta.setSelectionRange%28nStart+sel.start+%28sel.start%3C0%20%3F%20len%20%3A%200%29%2C%20nStart+sel.end+%28sel.end%3C0%20%3F%20len%20%3A%200%29%29%3B%0A%09%09ta.focus%28%29%3B%0A%09%09return%3B%0A%09%7D%3B%0A%09if%28al%3D%3D2%20%26%26%20arguments%5B1%5D%21%3D%27%27%29%7B%0A%09%09e_tag%3Darguments%5B1%5D%3B%0A%09%7D%0A%09else%7B%0A%09%09e_tag%3Dtag.replace%28/%28%5E.%29%28%5B%5E%3D%20%5D*%29%28.*%29%28.%24%29/%2C%20%27%241/%242%244%27%29%3B%0A%09%7D%3B%0A%0A%09var%20stl%3Ds_tag.length%3B%0A%09var%20etl%3De_tag.length%3B%0A%09var%20lt%3Dstl+etl%3B%0A%0A%09if%28txt.indexOf%28s_tag%29%3D%3D0%20%26%26%20txt.lastIndexOf%28e_tag%29%3D%3D%28txt.length-etl%29%29%7B%0A%09%09s%3Ds_txt+txt.slice%28stl%2C%20-etl%29+e_txt%3B%0A%09%09nEnd-%3Dlt%3B%0A%09%7D%0A%09else%7B%0A%09%09if%28nStart%3D%3DnEnd%20%26%26%20s_txt.lastIndexOf%28s_tag%29%3D%3Ds_txt.length-stl%20%26%26%20e_txt.indexOf%28e_tag%29%3D%3D0%29%7B%0A%09%09%09s%3Ds_txt.slice%280%2C%20-stl%29+e_txt.slice%28etl%29%3B%0A%09%09%09nStart-%3Dstl%3B%0A%09%09%09nEnd%3DnStart%3B%0A%09%09%7D%0A%09%09else%7B%0A%09%09%09if%28ts%20%26%26%20ta%21%3Det%29%7B%0A%09%09%09%09s%3Ds_txt+txt+s_tag+ts+e_tag+e_txt%3B%0A%09%09%09%09nStart%3DnEnd%3B%0A%09%09%09%09nEnd+%3Dts.length%3B%0A%09%09%09%09txt%3Dts%3B%0A%09%09%09%7D%0A%09%09%09else%7B%0A%09%09%09%09s%3Ds_txt+s_tag+txt+e_tag+e_txt%3B%0A%09%09%09%7D%3B%0A%0A%09%09%09if%28txt.length%3D%3D0%20%26%26%20s_tag%21%3D%27%27%29%7B%0A%09%09%09%09nStart+%3Dstl%3B%0A%09%09%09%09nEnd%3DnStart%3B%0A%09%09%09%7D%0A%09%09%09else%7B%0A%09%09%09%09if%28s_tag.slice%28-4%2C%20-1%29%3D%3D%27%3D%22%22%27%20%7C%7C%20s_tag.slice%28-2%2C%20-1%29%3D%3D%27%3D%27%20%26%26%20s_tag.slice%28-1%29%21%3D%27%22%27%29%7B%0A%09%09%09%09%09nStart%3DnStart+stl-%28s_tag.slice%28-3%2C%20-1%29%3D%3D%27%22%22%27%20%3F%202%20%3A%201%29%3B%0A%09%09%09%09%09nEnd%3DnStart%3B%0A%09%09%09%09%7D%0A%09%09%09%09else%7B%0A%09%09%09%09%09nEnd+%3Dlt%3B%0A%09%09%09%09%09if%28s_tag%3D%3D%27%27%20%7C%7C%20s_tag.slice%28-1%29%3D%3D%27%22%27%20%7C%7C%20%28al%3D%3D2%20%26%26%20arguments%5B1%5D%3D%3D%27%27%29%29nStart%3DnEnd%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%3B%0A%0A%09ta.value%3Ds%3B%0A%09ta.setSelectionRange%28nStart%2C%20nEnd%29%3B%0A%09ta.focus%28%29%3B%0A%7D%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Quote+</a> - Копирует выделенный текст, с сохранением форматирования в bbcode и тегами [quote], в форму ответа или буфер обмена.
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EBBCode%20url%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkBJREFUeJydku1Lk1EYxp8/p28F9a36EGESUguliHBIyOYLKM7yZQ3LNF8oZaZirdwsl6JO02nLdG463WaaL1tZGmhqWGYzBCFwzxa/tkccbYw+eODicO7rvq/7Ovc5AiDEovzFD66Ur5KkWYmguPk71tldYnOjDrpXPuT1Izx06yifTiXPmcLAdiFqlwydbYHC5k1yG9eJK1DTtYlC30bXtwLqF+XkuvPJGEvlpjMBo6eT91+DOBaDFLdskVW3SpRAt2Mb+SMDz1cz6d5USfvdGRmTYiX51lQsSy7m1/YFqu0dZBv1ESeSQFJxyJ4tnZYvSjo2cjD7Chja0WDbvY3WXcvHjT9MLQexfghwZ/iJ5PBiRe++gGVym8tVU6jd58kaOUXrWibG9Wxy7IkUTlxAM5orFY9+CtA/F6DNJZLRW8K1RgsVxjUEbdc6yoZlZN1HSDGdpmkpjSJXIs+mnZTZayRn4c4D8wE634roHSLaN34K2n9z6ZYHQXl/AZXBR5nFQ5M9NAtzAhnWk5hnA/TM/OKp08vLdwHa3SKGUHHDsJ/rphIUg2c5nu5CSK/ykqX7SWX/HnVDfsoGxyU3D2wTkl2jU6RlXERn90t8Ud84eWNnqPVe5WiaA6G69TPJ91bQmPYo7fORbDoRmowQhXBhbOzGawXJ6imEntENzqk90p0OyNj1n9j+Mx6TD6Hq3IkkxnaLh0heeG82L5NUOhdFxOscj498ZZV25vAODlDyeP5wM/gXTs9WvG5CvFgYfwFzo6tZMWWyMgAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/*Initialization%20Code*/%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*CODE*/%0Avar%20win%20%3D%20document.commandDispatcher.focusedWindow.top%20%3D%3D%20content%20%3F%20document.commandDispatcher.focusedWindow%20%3A%20content%2C%20doc%20%3D%20win.document%3B%0A%0Avar%20re%20%3D%20/%28%3F%3A%28%3F%3Ahttps%3F%7Cftp%7Cmms%7Crtsp%29%3A%5C/%5C/%7C%28%3F%3Aopera%7Cabout%29%3A%5C/%3F%29%5B%5E%5Cs%3C%3E%5C%5B%5C%5D%5Cx22%5D+/i%3B%0Avar%20txt%20%3D%20ujs_bbcode_tag%28%29%20%7C%7C%20%27%27%3B%0Avar%20url%20%3D%20%28txt.match%28/%5E%5C%5Burl%3D%28.+%3F%29%5C%5D/%29%20%7C%7C%20%5B%5D%29%5B1%5D%20%7C%7C%20txt.replace%28/%5C%5B%5B%5E%5C/%5D.*%3F%5C%5D.*%3F%5C%5B%5C/.+%3F%5C%5D/g%2C%20%27%27%29.match%28re%29%20%7C%7C%20win.getSelection%28%29.toString%28%29.match%28re%29%20%7C%7C%20gClipboard.read%28%29.match%28re%29%20%7C%7C%20%27%27%3B%0Aujs_bbcode_tag%28%27%5Burl%3D%27%20+%20url%20+%20%27%5D%27%29%3B%0A%0Afunction%20ujs_bbcode_tag%28tag%29%7B%0A%09var%20ts%3Dwin.getSelection%28%29.toString%28%29%3B%0A%09var%20et%3Ddoc.activeElement%3B%0A%09var%20en%3Det%20%26%26%20et.nodeName.toLowerCase%28%29%3B%0A%09var%20ta%3D%28en%3D%3D%27textarea%27%20%7C%7C%20%28en%3D%3D%27input%27%20%26%26%20et.type%3D%3D%27text%27%29%29%20%3F%20et%20%3A%20null%3B%3B%0A%09if%28%21ta%29for%28var%20t%3Ddoc.getElementsByTagName%28%27textarea%27%29%2C%20i%3Dt.length%3B%20i--%3B%29%7Bta%3Dt%5Bi%5D%3B%20if%28ta.rows%3E4%20%26%26%20ta.offsetHeight%3E0%29break%7D%3B%0A%09if%28%21ta%20%7C%7C%20ta.offsetHeight%3D%3D0%29return%3B%0A%0A%09var%20s%2C%20e_tag%3B%0A%09var%20s_tag%3Dtag%3B%0A%09var%20nStart%3Dta.selectionStart%3B%0A%09var%20nEnd%3Dta.selectionEnd%3B%0A%09var%20txt%3Dta.value.substring%28nStart%2C%20nEnd%29%3B%0A%09var%20s_txt%3Dta.value.substring%280%2C%20nStart%29%3B%0A%09var%20e_txt%3Dta.value.substring%28nEnd%2C%20ta.value.length%29%3B%0A%0A%09var%20al%3Darguments.length%3B%0A%09if%28al%3D%3D0%29return%20ts%20%7C%7C%20txt%3B%0A%09if%28al%3D%3D1%20%26%26%20typeof%20arguments%5B0%5D%3D%3D%27function%27%29%7B%0A%09%09var%20sel%3D%7Btext%3A%20txt%2C%20start%3A%200%2C%20end%3A%20nEnd-nStart%7D%3B%0A%09%09arguments%5B0%5D%28sel%29%3B%0A%09%09ta.value%3Ds_txt+sel.text+e_txt%3B%0A%09%09var%20len%3Dta.value.length-s_txt.length-e_txt.length+1%3B%0A%09%09ta.setSelectionRange%28nStart+sel.start+%28sel.start%3C0%20%3F%20len%20%3A%200%29%2C%20nStart+sel.end+%28sel.end%3C0%20%3F%20len%20%3A%200%29%29%3B%0A%09%09ta.focus%28%29%3B%0A%09%09return%3B%0A%09%7D%3B%0A%09if%28al%3D%3D2%20%26%26%20arguments%5B1%5D%21%3D%27%27%29%7B%0A%09%09e_tag%3Darguments%5B1%5D%3B%0A%09%7D%0A%09else%7B%0A%09%09e_tag%3Dtag.replace%28/%28%5E.%29%28%5B%5E%3D%20%5D*%29%28.*%29%28.%24%29/%2C%20%27%241/%242%244%27%29%3B%0A%09%7D%3B%0A%0A%09var%20stl%3Ds_tag.length%3B%0A%09var%20etl%3De_tag.length%3B%0A%09var%20lt%3Dstl+etl%3B%0A%0A%09if%28txt.indexOf%28s_tag%29%3D%3D0%20%26%26%20txt.lastIndexOf%28e_tag%29%3D%3D%28txt.length-etl%29%29%7B%0A%09%09s%3Ds_txt+txt.slice%28stl%2C%20-etl%29+e_txt%3B%0A%09%09nEnd-%3Dlt%3B%0A%09%7D%0A%09else%7B%0A%09%09if%28nStart%3D%3DnEnd%20%26%26%20s_txt.lastIndexOf%28s_tag%29%3D%3Ds_txt.length-stl%20%26%26%20e_txt.indexOf%28e_tag%29%3D%3D0%29%7B%0A%09%09%09s%3Ds_txt.slice%280%2C%20-stl%29+e_txt.slice%28etl%29%3B%0A%09%09%09nStart-%3Dstl%3B%0A%09%09%09nEnd%3DnStart%3B%0A%09%09%7D%0A%09%09else%7B%0A%09%09%09if%28ts%20%26%26%20ta%21%3Det%29%7B%0A%09%09%09%09s%3Ds_txt+txt+s_tag+ts+e_tag+e_txt%3B%0A%09%09%09%09nStart%3DnEnd%3B%0A%09%09%09%09nEnd+%3Dts.length%3B%0A%09%09%09%09txt%3Dts%3B%0A%09%09%09%7D%0A%09%09%09else%7B%0A%09%09%09%09s%3Ds_txt+s_tag+txt+e_tag+e_txt%3B%0A%09%09%09%7D%3B%0A%0A%09%09%09if%28txt.length%3D%3D0%20%26%26%20s_tag%21%3D%27%27%29%7B%0A%09%09%09%09nStart+%3Dstl%3B%0A%09%09%09%09nEnd%3DnStart%3B%0A%09%09%09%7D%0A%09%09%09else%7B%0A%09%09%09%09if%28s_tag.slice%28-4%2C%20-1%29%3D%3D%27%3D%22%22%27%20%7C%7C%20s_tag.slice%28-2%2C%20-1%29%3D%3D%27%3D%27%20%26%26%20s_tag.slice%28-1%29%21%3D%27%22%27%29%7B%0A%09%09%09%09%09nStart%3DnStart+stl-%28s_tag.slice%28-3%2C%20-1%29%3D%3D%27%22%22%27%20%3F%202%20%3A%201%29%3B%0A%09%09%09%09%09nEnd%3DnStart%3B%0A%09%09%09%09%7D%0A%09%09%09%09else%7B%0A%09%09%09%09%09nEnd+%3Dlt%3B%0A%09%09%09%09%09if%28s_tag%3D%3D%27%27%20%7C%7C%20s_tag.slice%28-1%29%3D%3D%27%22%27%20%7C%7C%20%28al%3D%3D2%20%26%26%20arguments%5B1%5D%3D%3D%27%27%29%29nStart%3DnEnd%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%3B%0A%0A%09ta.value%3Ds%3B%0A%09ta.setSelectionRange%28nStart%2C%20nEnd%29%3B%0A%09ta.focus%28%29%3B%0A%7D%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">[url]</a> - Версия аналогичной оперной кнопки. Вставляет теги «[url=][/url]» в форму ответа. При наличии в буфере обмена или выделенном тексте ссылки, она также будет добавлена.
<br><a class="button" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ESave%20screenshot%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAADZklEQVR42u2Ua0hTYRjH/+c4NV1RrnkdKtHFrRwu3aarbFhQLbVh5kzTLJGiouhC4ZciIqxMysyIJKkPanSzO0WWklpRUK2srCgKy8ry0kalc9s5ved4jBFH8Et96oE/55znfZ7f87znvVD4S0b9B/9b8H1raxZ51Awn8fmzFlAUDdXkKYOubL1GdUIUXH2ujq05fgTq6CnQaeOQZk4ZCKIoMAwDt9sNl8sNLy8a/U4nHI5++Pr48DFPXr7FdK2aEgVfbbjnbrx5ldbrtAgKlEOlUsLR7+LH+hwO9Pb1QREajMKtRTh9/goqy3dBFjAGoSEheP/F1pNkmCoTBd9ofsBGTwzHSKkUXzs7ceueFZ877QBNw0ciQaJeDUVIIJIs65CYtRHzgtqhVEaRJgLx7PV7EPCQHbOGWBWZMoOzF68hIUGHiLBgfqytvQMnL9RhenwMRvnS6OruQmR4OJLN6fyv2n/wMCwps8TBtdcaWZNRh4ctrRjhJ8Wr5y0oLj2Ezx/eYVdRESLHK3G5rhHp842w93RBo1EjVj8D2hg10nIKsDzDJA6uqr3OLjbPxoPHLxA1IRLzzJkYrcmFs/cTWq+UoampCTv2lGFZjgU/7d2ImxqDuIREHmxatBSrcs3i4IqaS2y+xYSGu1ZEKoKxekMhNOZ1CIiORXn6JLSSLbZ2y3YsXpRGitmg18ZCa5jJg+cuzMGavDRxcGnlGbYg04Snr96RBfRHc1MjiveWICgsAutX5SNIMQ6HKo4hNysDrj4bDPFa6AxGHmxMtmDTikxxcFF5FZufMQcMcdfffkQSlJCNHsUv5os3bThw+CjCwsfBGB8NQsYMQzx00wbA2qQF2LY+Txy8taSSzU5NRKBcTrZZD+rvWNH28Qu8JV78QsqDFVCOj0CoXArG7eLjxsoCBha+7j52bi4QB6/Ysptdm2eGk5wqGUn4/sOBrm92tHd0w2azw9eb288MaIrlTyFDZsJtNc6arW9RUVwoDk7NWplNAquHc1f8aSP8/Jecqtz3+57583bjvr2IuAvAl8hPeJcIY4PxrCA3kYOolzv1RE7Bxw4Gcon+gryJaMEnEQpRHoVZj0YYIpcA5Ar8IPrJ+QYTxhJJhQ5pAeYJHMpYDzgjdM3BOz079hPgnl0OB+wJ/93xLyKXMSb9Lwg+AAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bvar%20btn%20%3D%20this%3B%0A%0Avar%20opt%20%3D%20%7B%0A%09delay%3A%20500%2C%0A%09timerId%3A%200%2C%0A%09isPressed%3A%20false%2C%0A%09longClick%3A%20function%28%29%7B%0A%09%09saveScreenshot%28true%29%3B%0A%09%7D%2C%0A%09stdClick%3A%20function%28%29%7B%0A%09%09saveScreenshot%28false%29%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20mouseDown%28e%29%7B%0A%09if%28e.button%20%3D%3D%200%29%7B%0A%09%09opt.isPressed%20%3D%20true%3B%0A%09%09opt.timerId%20%3D%20setTimeout%28function%28%29%7B%0A%09%09%09if%28opt.isPressed%29%7B%0A%09%09%09%09opt.isPressed%20%3D%20false%3B%0A%09%09%09%09var%20k%20%3D%20%22_transitionTimer%22%3B%0A%09%09%09%09if%28k%20in%20btn%29clearInterval%28btn%5Bk%5D%29%3B%0A%09%09%09%09var%20stl%20%3D%20btn.style%3B%0A%09%09%09%09stl.setProperty%28%22transition%22%2C%20%22opacity%20150ms%20ease-in-out%22%2C%20%22important%22%29%3B%0A%09%09%09%09btn%5Bk%5D%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09stl.setProperty%28%22opacity%22%2C%20%220.5%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09btn%5Bk%5D%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09stl.opacity%20%3D%20%22%22%3B%0A%09%09%09%09%09%09btn%5Bk%5D%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09stl.transition%20%3D%20%22%22%3B%0A%09%09%09%09%09%09%09delete%20btn%5Bk%5D%3B%0A%09%09%09%09%09%09%7D%2C%20150%29%3B%0A%09%09%09%09%09%7D%2C%20150%29%3B%0A%09%09%09%09%7D%2C%200%29%3B%0A%09%09%09%09opt.longClick%28%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%20opt.delay%29%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20mouseUp%28e%29%7B%0A%09if%28e.button%20%3D%3D%200%29%7B%0A%09%09clearTimeout%28opt.timerId%29%3B%0A%09%09if%28opt.isPressed%29%7B%0A%09%09%09opt.isPressed%20%3D%20false%3B%0A%09%09%09opt.stdClick%28%29%3B%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Afunction%20mouseOut%28e%29%7B%0A%09if%28e.button%20%3D%3D%200%29%7B%0A%09%09opt.isPressed%20%3D%20false%3B%0A%09%7D%0A%7D%3B%0A%0Abtn.addEventListener%28%27mousedown%27%2C%20mouseDown%2C%20false%29%3B%0Abtn.addEventListener%28%27mouseup%27%2C%20mouseUp%2C%20false%29%3B%0Abtn.addEventListener%28%27mouseout%27%2C%20mouseOut%2C%20false%29%3B%0A%0Abtn.onDestroy%20%3D%20function%28%29%7B%0A%20%20%20%20btn.removeEventListener%28%27mousedown%27%2C%20mouseDown%2C%20false%29%3B%0A%09btn.removeEventListener%28%27mouseup%27%2C%20mouseUp%2C%20false%29%3B%0A%09btn.removeEventListener%28%27mouseout%27%2C%20mouseOut%2C%20false%29%3B%0A%7D%3B%0A%0A%0Afunction%20saveScreenshot%28all%29%7B%0A%09var%20win%20%3D%20content%2C%20doc%20%3D%20win.document%2C%20docEle%20%3D%20%28doc.compatMode%20%3D%3D%20%22CSS1Compat%22%29%20%3F%20doc.documentElement%20%3A%20doc.body%3B%0A%09var%20canvas%20%3D%20document.createElementNS%28%22http%3A//www.w3.org/1999/xhtml%22%2C%20%22canvas%22%29%3B%0A%09canvas.width%20%3D%20Math.min%28%28all%20%26%26%20docEle.scrollWidth%20%3E%20docEle.clientWidth%29%20%3F%20docEle.scrollWidth%20%3A%20docEle.clientWidth%2C%2016384%29%3B%0A%09canvas.height%20%3D%20Math.min%28%28all%20%26%26%20docEle.scrollHeight%20%3E%20docEle.clientHeight%29%20%3F%20docEle.scrollHeight%20%3A%20docEle.clientHeight%2C%2016384%29%3B%0A%09var%20context%20%3D%20canvas.getContext%28%222d%22%29%3B%0A%09context.drawWindow%28win%2C%20all%20%3F%200%20%3A%20win.pageXOffset%2C%20all%20%3F%200%20%3A%20win.pageYOffset%2C%20canvas.width%2C%20canvas.height%2C%20%22white%22%29%3B%0A%09var%20str%20%3D%20canvas.toDataURL%28%22image/png%22%29%3B%0A%0A%09var%20fileName%20%3D%20doc.title%20%3F%20doc.title%20%3A%20win.location.pathname.split%28%27/%27%29.pop%28%29%3B%0A%09fileName%20%3D%20fileName.replace%28/%5B%3A%5C%5C%5C/%3C%3E%3F*%7C%22%5D+/g%2C%20%27_%27%29.replace%28/%5Cs+/g%2C%20%27%20%27%29.slice%280%2C%20100%29.replace%28/%5E%5Cs+%7C%5Cs+%24/g%2C%20%27%27%29%3B%0A%09fileName%20+%3D%20%28function%28%29%7B%0A%09%09var%20d%20%3D%20new%20Date%28%29%2C%20z%20%3D%20function%28n%29%7Breturn%20%28n%20%3C%2010%20%3F%20%270%27%20%3A%20%27%27%29%20+%20n%7D%3B%0A%09%09return%20%27_%27%20+%20d.getFullYear%28%29%20+%20z%28d.getMonth%28%29%20+%201%29%20+%20z%28d.getDate%28%29%29%20+%20%27_%27%20+%20z%28d.getHours%28%29%29%20+%20z%28d.getMinutes%28%29%29%20+%20z%28d.getSeconds%28%29%29%3B%0A%09%7D%29%28%29%3B%0A%0A%09var%20fp%20%3D%20Cc%5B%27@mozilla.org/filepicker%3B1%27%5D.createInstance%28Ci.nsIFilePicker%29%3B%0A%09fp.init%28window%2C%20%22Save%20Screenshot%20As%22%2C%20fp.modeSave%29%3B%0A%09fp.appendFilter%28%22*.png%22%2C%20%22*.png%22%29%3B%0A%09fp.appendFilters%28fp.filterImages%20%7C%20fp.filterAll%29%3B%0A%09fp.defaultExtension%20%3D%20%22png%22%3B%0A%09fp.defaultString%20%3D%20fileName%20+%20%22.png%22%3B%0A%09if%20%28fp.show%28%29%20%3D%3D%20fp.returnCancel%20%7C%7C%20%21fp.file%29%20return%3B%0A%0A%09var%20ios%20%3D%20Cc%5B%22@mozilla.org/network/io-service%3B1%22%5D.getService%28Ci.nsIIOService%29%3B%0A%09var%20bis%20%3D%20Cc%5B%22@mozilla.org/binaryinputstream%3B1%22%5D.createInstance%28Ci.nsIBinaryInputStream%29%3B%0A%09bis.setInputStream%28ios.newChannelFromURI%28ios.newURI%28str%2C%20null%2C%20null%29%29.open%28%29%29%3B%0A%0A%09var%20fos%20%3D%20Cc%5B%22@mozilla.org/network/file-output-stream%3B1%22%5D.createInstance%28Ci.nsIFileOutputStream%29%3B%0A%09fos.init%28fp.file%2C%200x02%20%7C%200x08%20%7C%200x20%2C%200x1B6%2C%200%29%3B%0A%0A%09var%20size%20%3D%20bis.available%28%29%3B%0A%09fos.write%28bis.readBytes%28size%29%2C%20size%29%3B%0A%09fos.close%28%29%3B%0A%7D%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*CODE*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">Save screenshot</a> - Сохраняет скриншот видимой/всей страницы по нажатию/зажатию.

<hr>
<H3 id="opera">Кнопки кодов и смайлов для Opera:</H3> <span style="font-size:smaller;">Требуется <a class="simple" href="/userjs/bbcode.js">bbcode.js</a>. Просто скопируйте его в вашу папку UserJS. Если её ещё нет, то создайте папку (например, Opera\userjs) и укажите её в Настройки->Дополнительно->Содержимое->Настройки Javascript.</span>
<br><br>
<b>BBCode:</b><br>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[b]')%22,%22[b]%22,,%22Mail%20Compose%20Bold%22">[b]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[i]')%22,%22[i]%22,,%22Mail%20Compose%20Italic%22">[i]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[u]')%22,%22[u]%22,,%22Mail%20Compose%20Underline%22">[u]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[s]')%22,%22[s]%22,,%22Mail%20Compose%20Strikethrough%22">[s]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[code]')%22,%22[code]%22,,%22Mail%20Compose%20HTML%22">[code]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[quote]')%22,%22[quote]%22,,%22Menu%20Chat%22">[quote]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:void(inivar='%c')%22,%22[url]%22,,%22Mail%20Compose%20Link%22%20&amp;%20Go%20to%20page,%20%22javascript:(function(){var re=/(%3F:(%3F:https%3F|ftp|mms|rtsp):%5C/%5C/|(%3F:opera|about):%5C/%3F)%5B^%5Cs&lt;&gt;%5C%5B%5C%5D%5Cx22%5D+/i;var clip=window.inivar||'';window.inivar=null;var txt=ujs_bbcode_tag()||'';var url=(txt.match(/^%5C%5Burl=(.+%3F)%5C%5D/)||%5B%5D)%5B1%5D||txt.replace(/%5C%5B%5B^%5C/%5D.*%3F%5C%5D.*%3F%5C%5B%5C/.+%3F%5C%5D/g,'').match(re)||document.getSelection().toString().match(re)||clip.match(re)||'';ujs_bbcode_tag('%5Burl='+url+'%5D')})()%22">[url]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[img]')%22,%22[img]%22,,%22Mail%20Compose%20Images%22">[img]</a>

<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[left]')%22,%22[left]%22,,%22Mail%20Compose%20Left%22">[left]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[center]')%22,%22[center]%22,,%22Mail%20Compose%20Center%22">[center]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[right]')%22,%22[right]%22,,%22Mail%20Compose%20Right%22">[right]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[justify]')%22,%22[justify]%22,,%22Mail%20Compose%20Justify%22">[justify]</a>

<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[color=]')%22,%22[color]%22,,%22Mail%20Compose%20Text%20Color%22">[color]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[font=]')%22,%22[font]%22,,%22Menu%20Edit%22">[font]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[size=]')%22,%22[size]%22,,%22Mail%20Compose%20Decrease%20Size%22">[size]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag(function(s){s.text='[list=]%5Cn[*]'+s.text.replace(/%5Cn(?!%5Cr)/g, '%5Cn[*]')+'%5Cn[/list]';s.start=6;s.end=6})%22,%22[list]%22,,%22Mail%20Compose%20Bullet%20List%22">[list]</a>

<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[no]')%22,%22[no]%22,,%22bb_no%22">[no]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[more]')%22,%22[more]%22,,%22bb_more%22">[more]</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('[%23]')%22,%22[%23]%22,,%22bb_H%22">[#]</a>

<br><br><b>HTML:</b><br>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;b&gt;')%22,%22&lt;b&gt;%22,,%22Mail%20Compose%20Bold%22">&lt;b&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;i&gt;')%22,%22&lt;i&gt;%22,,%22Mail%20Compose%20Italic%22">&lt;i&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;u&gt;')%22,%22&lt;u&gt;%22,,%22Mail%20Compose%20Underline%22">&lt;u&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;s&gt;')%22,%22&lt;s&gt;%22,,%22Mail%20Compose%20Strikethrough%22">&lt;s&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;font color=%5Cx22%5Cx22&gt;')%22,%22&lt;font color&gt;%22,,%22Mail%20Compose%20Text%20Color%22">&lt;font color&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;img src=%5Cx22','%5Cx22&gt;')%22,%22&lt;img src&gt;%22,,%22Mail%20Compose%20Images%22">&lt;img src&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:void(inivar='%c')%22,%22&lt;a href&gt;%22,,%22Mail%20Compose%20Link%22%20&amp;%20Go%20to%20page,%20%22javascript:(function(){var re=/(%3F:(%3F:https%3F|ftp|mms|rtsp):%5C/%5C/|(%3F:opera|about):%5C/%3F)[^%5Cs<>%5C[%5C]%5Cx22]+/i;var clip=window.inivar;window.inivar=null;var txt=ujs_bbcode_tag();var url=txt&&txt.match(re);if(!url)url=clip&&clip.match(re)||'';ujs_bbcode_tag('&lt;a href=%5Cx22'+url+'%5Cx22&gt;')})()%22">&lt;a href&gt;</a>

<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;code&gt;')%22,%22&lt;code&gt;%22,,%22Mail%20Compose%20HTML%22">&lt;code&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;blockquote&gt;')%22,%22&lt;quote&gt;%22,,%22Menu%20Chat%22">&lt;quote&gt;</a>

<br><br><b>LiveJournal:</b><br>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;lj user=%5Cx22', '%5Cx22&gt;')%22,%22&lt;lj user&gt;%22,,%22lj_user%22">&lt;lj user&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;lj comm=%5Cx22', '%5Cx22&gt;')%22,%22&lt;lj comm&gt;%22,,%22lj_comm%22">&lt;lj comm&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;lj-cut&gt;')%22,%22&lt;lj cut&gt;%22,,%22lj_cut_text%22">&lt;lj cut&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;lj-cut text=%5Cx22%5Cx22&gt;')%22,%22&lt;lj cut text&gt;%22,,%22lj_cut_text%22">&lt;lj cut text&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var e=navigator.lastFocusedTextArea;if(e){var l=e.selectionStart};var s=document.selection.createRange();var sk=s.text.replace(/([^%5Cr%5Cn]+)/g, '&lt;li type=%5Cx22circle%5Cx22&gt;$1&lt;/li&gt;');var st='&lt;ul&gt;%5Cn'+sk+'%5Cn&lt;/ul&gt;';s.text=st;if(e){l+=st.length+2;e.setSelectionRange(l, l);e.focus()}})()%22,%22&lt;li&gt;%22,,%22bb_list%22">&lt;li&gt;</a>

<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;b&gt;')%22,%22&lt;b&gt;%22,,%22Mail%20Compose%20Bold%22">&lt;b&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;i&gt;')%22,%22&lt;i&gt;%22,,%22Mail%20Compose%20Italic%22">&lt;i&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;u&gt;')%22,%22&lt;u&gt;%22,,%22Mail%20Compose%20Underline%22">&lt;u&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;s&gt;')%22,%22&lt;s&gt;%22,,%22Mail%20Compose%20Strikethrough%22">&lt;s&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;font color=%5Cx22%5Cx22&gt;')%22,%22&lt;font color&gt;%22,,%22Mail%20Compose%20Text%20Color%22">&lt;font color&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;img src=%5Cx22','%5Cx22&gt;')%22,%22&lt;img src&gt;%22,,%22Mail%20Compose%20Images%22">&lt;img src&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:void(inivar='%c')%22,%22&lt;a href&gt;%22,,%22Mail%20Compose%20Link%22%20&amp;%20Go%20to%20page,%20%22javascript:(function(){var re=/(%3F:(%3F:https%3F|ftp|mms|rtsp):%5C/%5C/|(%3F:opera|about):%5C/%3F)[^%5Cs<>%5C[%5C]%5Cx22]+/i;var clip=window.inivar;window.inivar=null;var txt=ujs_bbcode_tag();var url=txt&&txt.match(re);if(!url)url=clip&&clip.match(re)||'';ujs_bbcode_tag('&lt;a href=%5Cx22'+url+'%5Cx22&gt;')})()%22">&lt;a href&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;code&gt;')%22,%22&lt;code&gt;%22,,%22Mail%20Compose%20HTML%22">&lt;code&gt;</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('&lt;blockquote&gt;')%22,%22&lt;quote&gt;%22,,%22Menu%20Chat%22">&lt;quote&gt;</a>

<br><br><b>Кавычки:</b><br>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('«','»')%22,%22« »%22,,%22q_d%22">« »</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('„','“')%22,%22„ “%22,,%22q_d%22">„ “</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('“','”')%22,%22“ ”%22,,%22q_d%22">“ ”</a>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('‚','‘')%22,%22‚ ‘%22,,%22q_d%22">‚ ‘</a>

<br><br><b>Смайлики:</b><br>
<a href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('',' :)')%22,%22:)%22,%22:)%22,%22Smiley Happy%22" style="background: -o-skin('Smiley Happy')"></a>
<a href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('',' ;)')%22,%22;)%22,%22;)%22,%22Smiley Wink%22" style="background: -o-skin('Smiley Wink')"></a>
<a href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('',' :p')%22,%22:p%22,%22:p%22,%22Smiley Tongue%22" style="background: -o-skin('Smiley Tongue')"></a>
<a href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('',' :D')%22,%22:D%22,%22:D%22,%22Smiley Grin%22" style="background: -o-skin('Smiley Grin')"></a>
<a href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('',' :(')%22,%22:(%22,%22:(%22,%22Smiley Unhappy%22" style="background: -o-skin('Smiley Unhappy')"></a>
<a href="opera:/button/Go%20to%20page,%20%22javascript:ujs_bbcode_tag('',' :o')%22,%22:o%22,%22:o%22,%22Smiley Surprised%22" style="background: -o-skin('Smiley Surprised')"></a>
<br><br><b>Предпросмотр:</b><br>
<a href="opera:/button/Go%20to%20page,%22javascript:(function(){var%20b,x,l,t,n,h,v,d=document;b=d.getElementById('ujs_pv');if(b){b.parentNode.removeChild(b);return};x=navigator.lastFocusedTextArea;l=x.offsetLeft;t=x.offsetTop;n=x;while(n.offsetParent){n=n.offsetParent;l+=n.offsetLeft;t+=n.offsetTop;};h=x.value.replace(/%5Cn/g,'%3Cbr%3E').replace(/%5C[url=(.*?)%5C](.*?)%5C[%5C/url%5C]/gi,'%3Ca%20href=%5Cx22$1%5Cx22%3E$2%3C/a%3E').replace(/%5C[(color=.*?)%5C](.*?)%5C[%5C/color%5C]/gi,'%3Cfont%20$1%3E$2%3C/font%3E').replace(/%5C[(%5C/?)quote%5C]/gi,'%3C$1blockquote%3E').replace(/%5C[(%5C/?)([bius]|code|hr|sup|sub)%5C]/gi,'%3C$1$2%3E').replace(/%5C[img%5C](.*?)%5C[%5C/img%5C]/gi,'%3Cimg%20src=%5Cx22$1%5Cx22%3E');v=d.createElement('div');v.id='ujs_pv';v.style='position:absolute;left:'+l+'px;top:'+t+'px;height:'+(x.offsetHeight-2)+'px;width:'+(x.offsetWidth-10)+'px;overflow:auto;background:white;padding:0%204px;border:1px%20solid%20gray;';v.innerHTML=h;d.documentElement.appendChild(v)})()%22,,Preview,%22Search%22" style="background: -o-skin('Search')"></a> - Для Opera 9.
<br><a href="opera:/button/Go%20to%20page,%22javascript:(function(){var getTextarea=function(){var t,ta=document.getElementsByTagName('textarea');var tl=ta.length-1;do{t=ta[tl];tl--}while(t&amp;&amp;(t.rows&lt;5||t.offsetHeight==0));return t};var b,x,l,t,n,h,v,u='ujs_pv';b=document.getElementById(u);if(b){b.parentNode.removeChild(b);return};x=navigator.lastFocusedTextArea||getTextarea();if(!x)return;l=x.offsetLeft;t=x.offsetTop;n=x;while(n.offsetParent){n=n.offsetParent;l+=n.offsetLeft;t+=n.offsetTop};h=x.value.replace(/&lt;/g,'&amp;lt;').replace(/&gt;/g,'&amp;gt;').replace(/%5Cn/g,'&lt;br&gt;').replace(/%5C[url=(.*%3F)%5C](.*%3F)%5C[%5C/url%5C]/gi,'&lt;a href=%5Cx22$1%5Cx22&gt;$2&lt;/a&gt;').replace(/%5C[email=(.*%3F)%5C](.*%3F)%5C[%5C/email%5C]/gi,'&lt;a href=%5Cx22mailto:$1%5Cx22&gt;$2&lt;/a&gt;').replace(/%5C[(center|left|right)%5C](.*%3F)%5C[%5C/%5C1%5C]/gi,'&lt;div style=%5Cx22text-align: $1%5Cx22&gt;$2&lt;/div&gt;').replace(/%5C[((%3F:color|size)=.*%3F)%5C]/gi,'&lt;font $1&gt;').replace(/%5C[font=(.*%3F)%5C]/gi,'&lt;font face=%5Cx22$1%5Cx22&gt;').replace(/%5C[%5C/(color|size|font)%5C]/gi,'&lt;/font&gt;').replace(/%5C[(%5C/%3F)q(uote)%3F%5C]/gi,'&lt;$1blockquote&gt;').replace(/%5C[(%5C/%3F)([bius]|code|hr|sup|sub|strike)%5C]/gi,'&lt;$1$2&gt;').replace(/%5C[img%5C](.*%3F)%5C[%5C/img%5C]/gi,'&lt;img src=%5Cx22$1%5Cx22&gt;');v=document.createElement('div');v.id=u;v.style='position:absolute;left:'+l+'px;top:'+t+'px;height:'+(x.offsetHeight-2)+'px;width:'+(x.offsetWidth-10)+'px;overflow:auto;background:white;padding:0 4px;border:1px solid gray;font:'+getComputedStyle(x,null).font;v.innerHTML=h;document.documentElement.appendChild(v)})()%22,,Preview,%22Search%22" style="background: -o-skin('Search')"></a> - Для Opera 9.5+.

<br><br><b><a class="button" href="javascript:void(0);" onclick="var s=document.getElementById('testarea').style;s.display=(s.display=='none')?'block':'none';">Форма ответа для тестирования кнопок</a></b>
<div id="testarea" style="display: none"><textarea rows="12" style="width: 95%"></textarea>
<br><a class="button" href="javascript:ujs_bbcode_tag('[b]')">[b]</a> <a class="button" href="javascript:ujs_bbcode_tag('[i]')">[i]</a> <a class="button" href="javascript:ujs_bbcode_tag('[u]')">[u]</a> <a class="button" href="javascript:ujs_bbcode_tag('[quote]')">[quote]</a> <a class="button" href="javascript:ujs_bbcode_tag('[url=]')">[url]</a>
</div>
<hr>
<H3>Кнопки для Opera 9.5+:</H3>
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getSel=function(w){var s,d=w.document;if(d.selection){var r=d.selection.createRange();s=r%3Fr.text:''}else{s=d.getSelection().toString();if(!s){var e,t=d.getElementsByTagName('textarea'),u=d.getElementsByTagName('input'),i=t.length;while(e=(i&gt;0)%3Ft[--i]:u[-i--])try{if(e.offsetHeight&gt;0&amp;&amp;(s=e.value.substring(e.selectionStart,e.selectionEnd)))break}catch(x){}}};if(!s)for(var i=0,f;f=w.frames[i];i++){try{if(s=arguments.callee(f))break}catch(x){}};return s};var w=window,s=w.prompt('Поиск на этом сайте с помощью Google',getSel(w));if(s){w.open('http://www.google.com/search%3Fas_q='+encodeURIComponent(s)+'&amp;as_sitesearch='+w.location.hostname)}})();%22,,,%22google%22%20+%20Go%20to%20page,%20%22javascript:(function(){var getSel=function(w){var s,d=w.document;if(d.selection){var r=d.selection.createRange();s=r%3Fr.text:''}else{s=d.getSelection().toString();if(!s){var e,t=d.getElementsByTagName('textarea'),u=d.getElementsByTagName('input'),i=t.length;while(e=(i&gt;0)%3Ft[--i]:u[-i--])try{if(e.offsetHeight&gt;0&amp;&amp;(s=e.value.substring(e.selectionStart,e.selectionEnd)))break}catch(x){}}};if(!s)for(var i=0,f;f=w.frames[i];i++){try{if(s=arguments.callee(f))break}catch(x){}};return s};var w=window,s=getSel(w);w.open('http://translate.google.com/translate'+(s%3F'_t%3Ftext='+encodeURIComponent(s):'%3Fu='+escape(w.location.href))+'&amp;hl=ru&amp;langpair=auto|ru&amp;tbb=1')})();%22">Google</a> - Поиск <a class="simple" href="http://www.google.ru/">Google</a> по текущему сайту для выделенного (включая фреймы) или набранного текста. Зажатие кнопки переводит текст или страницу на русский.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getSel=function(w){var s,d=w.document;if(d.selection){var r=d.selection.createRange();s=r%3Fr.text:''}else{s=d.getSelection().toString();if(!s){var e,t=d.getElementsByTagName('textarea'),u=d.getElementsByTagName('input'),i=t.length;while(e=(i&gt;0)%3Ft[--i]:u[-i--])try{if(e.offsetHeight&gt;0&amp;&amp;(s=e.value.substring(e.selectionStart,e.selectionEnd)))break}catch(x){}}};if(!s)for(var i=0,f;f=w.frames[i];i++){try{if(s=arguments.callee(f))break}catch(x){}};return s};var w=window,s=w.prompt('Поиск на этом сайте с помощью Yandex',getSel(w));if(s){w.open('http://www.yandex.ru/yandsearch%3Frpt=rad&amp;text='+encodeURIComponent(s)+'&amp;serverurl='+w.location.hostname)}})()%22,,,%22yandex%22%20+%20Go%20to%20page,%20%22javascript:(function(){var getSel=function(w){var s,d=w.document;if(d.selection){var r=d.selection.createRange();s=r%3Fr.text:''}else{s=d.getSelection().toString();if(!s){var e,t=d.getElementsByTagName('textarea'),u=d.getElementsByTagName('input'),i=t.length;while(e=(i&gt;0)%3Ft[--i]:u[-i--])try{if(e.offsetHeight&gt;0&amp;&amp;(s=e.value.substring(e.selectionStart,e.selectionEnd)))break}catch(x){}}};if(!s)for(var i=0,f;f=w.frames[i];i++){try{if(s=arguments.callee(f))break}catch(x){}};return s};var w=window,s=getSel(w);if(s){w.open('http://m.translate.ru/translator/result/%3Fusev2=1&amp;text='+encodeURIComponent(s)+'&amp;dirCode=er')}else{w.open('http://www.translate.ru/url/tran_url.asp%3Fdirection=er&amp;template=General&amp;autotranslate=true&amp;url='+w.location.href)}})()%22">Yandex</a> - Поиск по текущему сайту с помощью <a class="simple" href="http://yandex.ru/">Yandex</a> и перевод страницы при зажатии, используя <a class="simple" href="http://www.translate.ru/">translate.ru</a>.

<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var meta='',scripts='',embed='',cookies='';var m=document.getElementsByTagName('meta');for(var i=0,mi;mi=m[i];i++){meta+=(mi.name%3Fmi.name+': ':(mi.httpEquiv%3Fmi.httpEquiv+': ':''))+mi.content+'%5Cn'};var s=document.getElementsByTagName('script');for(var i=0,si;si=s[i];i++){if(si.src)scripts+=si.src+'%5Cn'};var e=document.getElementsByTagName('embed');var o=document.getElementsByTagName('object');var fullUrl=function(url){var a=document.createElement('a');a.href=url;return url%3Fa.href+'%5Cn':''};for(var i=0,ei;ei=e[i];i++){embed+=fullUrl(ei.getAttribute('src'))};for(var i=0,oi;oi=o[i];i++){var src=oi.getAttribute('data')||oi.getAttribute('src')||oi.getAttribute('source');if(!src){var params=oi.getElementsByTagName('param');for(var j=0,p;p=params[j];j++){if(p.hasAttribute('name')&amp;&amp;p.getAttribute('name').match(/^(movie|data|src|code|filename|url|source)$/i)){src=p.getAttribute('value');break}}};var lnk=fullUrl(src);if(embed.indexOf(lnk)==-1)embed+=lnk};var c=document.cookie.split(';');for(var i=0,ci;ci=c[i];i++){while(ci.charAt(0)==' ')ci=ci.slice(1);if(ci.length>40)ci=ci.slice(0,40)+'%5Cu2026';cookies+=ci+'%5Cn'};var lastmod=(Date.parse(document.lastModified)==0)%3F'':document.lastModified;var mode=document.getElementsByTagName('HTmL').length==0%3F'Really strict':(document.compatMode=='CSS1Compat'%3F'Normal strict':'Quirks');var title=document.title||(document.getElementsByTagName('title')[0]&amp;&amp;document.getElementsByTagName('title')[0].text)||'';if(meta)meta='%5CnMeta-данные:%5Cn'+meta;if(scripts)scripts='%5CnСкрипты:%5Cn'+scripts;if(embed)embed='%5CnВстроенные объекты:%5Cn'+embed;if(cookies)cookies='%5CnCookies:%5Cn'+cookies;alert('Идентификация браузера: '+navigator.userAgent+'%5Cn%5CnЗаголовок: '+title+'%5Cn%5CnАдрес: '+location.href+'%5Cn%5CnРеферрер: '+document.referrer+'%5Cn%5CnДата последнего изменения: '+lastmod+'%5Cn%5CnРежим отображения: '+mode+' mode%5Cn'+meta+scripts+embed+cookies)})()%22,,2054073449,%22Panel%20Info%22">Информация</a> - Показывает информацию о странице. Идентификацию браузера, заголовок страницы, адрес, реферрер, дату изменения, режим отображения, кукисы, Meta-данные, ссылки на скрипты и флэш.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var q='  ',C={img:1,br:1,link:1,input:1,hr:1,meta:1},u=false,v=0,D=1,g=window.document,m=window.location,w='resizable=yes,scrollbars=yes,location=no',h='&lt;/span&gt;&lt;/li&gt;';var x=function(a){return'&lt;span class=%5C'tag%5C'&gt;&amp;lt;'+a+''};var y=function(a){return(a%3F'/':'')+'&amp;gt;&lt;/span&gt;'};var z=function(a,b){if(b||C[a.toLowerCase()])return'';return'&lt;span class=%5C'tag%5C'&gt;&amp;lt;/'+a+'&amp;gt;&lt;/span&gt;'};var j=function(){var a=v.toString();while(a.length&lt;3)a='0'+a;return'&lt;li class=%5C'line'+(D&amp;&amp;((v++)&amp;1)%3F' dark%5C'':'%5C'')+'&gt;&lt;span&gt;'};var n=function(a){return a.replace(/&lt;/g,'&amp;lt;').replace(/&gt;/g,'&amp;gt;')};var E=function(a){var b=a.doctype,c='';if(b){c=j()+x('!DOCTYPE')+' &lt;span class=%5C'attrDoc%5C'&gt;'+b.nodeName+(b.publicId%3F' PUBLIC %5C''+b.publicId+'%5C'':'')+(b.systemId%3F'&lt;/span&gt;&lt;/span&gt;'+h+j()+'&lt;span class=%5C'tag%5C'&gt;&lt;span class=%5C'attrDoc%5C'&gt;'+q+'%5C''+b.systemId+'%5C'':'')+'&lt;/span&gt;'+y()+h}return c};var F=function(a){var b=a.attributes,c=null,d='';for(var f=0;c=b[f];f++){if(c.specified&amp;&amp;c.value){d+=' &lt;span class=%5C'attrTitle%5C'&gt;'+c.name+'&lt;/span&gt;=&lt;span class=%5C'attrValue%5C'&gt;%5Cx22'+n(c.value.replace(/%5Ct/g,q))+'%5Cx22&lt;/span&gt; '}}return d};var r=function(a){return n(a.nodeValue.replace(/[%5Cn%5Ct%5Cr%5Cu00A0]+ */g,'').replace(/ +/g,' '))};var G=function(a){var b=0,c='';while(b&lt;a){c+=q;b++}return c};var A=function(a,b,c){var d='',f=G(b++);switch(a.nodeType){case 1:{var i=a.childNodes,k=null;var s=(i.length==0)||(i.length==1&amp;&amp;i[0].nodeType==3);var t=u&amp;&amp;i.length==0;var l=j()+f+x(a.nodeName)+F(a)+y(t);if(!s)l+=h;for(var B=0;k=i[B];B++){l+=A(k,b,!s&amp;&amp;k.nodeType==3)}if(s){l+=(a.nodeName.toLowerCase()=='textarea'%3Fn(a.value):'')+z(a.nodeName,t)+h}else{l+=j()+f+z(a.nodeName,t)+h}return l}case 3:{if((d=r(a))&amp;&amp;c){return j()+f+d+h}else{return d}}case 4:{d=r(a);return j()+f+'&lt;span class=%5C'cdata%5C'&gt;&amp;lt;![CDATA[&lt;/span&gt;'+d+'&lt;span class=%5C'cdata%5C'&gt;]]&amp;gt;&lt;/span&gt;'+h}case 8:{d=r(a);return j()+f+'&lt;span class=%5C'comment%5C'&gt;&amp;lt;!--'+d+'--&amp;gt;&lt;/span&gt;'+h}}return a.nodeType};var H=function(a){var b,c='';if(a){var d=a.getSelection().getRangeAt(0),f=d.commonAncestorContainer;if(f.nodeType==3||f.nodeType==4)f=f.parentNode;b=f.cloneNode(false);b.appendChild(d.cloneContents());var i=d.startContainer,k=d.endContainer;if(i!=f.firstChild||(i.nodeType==3&amp;&amp;d.startOffset!=0))b.insertBefore(g.createTextNode('%5Cu2026'),b.firstChild);if(k!=f.lastChild||(k.nodeType==3&amp;&amp;d.endOffset!=k.nodeValue.length))b.appendChild(g.createTextNode('%5Cu2026'))}else{c=E(g);b=g.documentElement};c+=A(b,0);return c};var I=function(a){if(a&amp;&amp;a.getSelection){if(a.getSelection().toString())return a;for(var b=0,c,d;c=a.frames[b];b++){try{if(d=arguments.callee(c))return d}catch(e){}}}};var o=I(window);if(o){g=o.document;m=o.location;w+=',width=800,height=500,left=100,top=100'};u=/[a-z]/.test(g.documentElement.nodeName);var J='&lt;!DOCTYPE html PUBLIC&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Snapshot: '+((g.getElementsByTagName('title').length&amp;&amp;n(g.getElementsByTagName('title')[0].text))||(m.protocol+'//'+m.host+m.pathname))+'&lt;/title&gt;&lt;style type=%5C'text/css%5C'&gt;body{padding:0 5px;margin:0;font-family:sans-serif;font-size:.7em;background-color:%23FFF;color:%23000;}%23content{white-space:pre-wrap}ol{color:%23999;}span{color:%23000}.tag{color:%2305F}.attrTitle{color:%23E00}.attrValue{color:%23C0C}.attrDoc{color:%23800080}.comment{color:%23008000}.cdata{color:%2363D}.line{margin:0;padding:0}.dark{background-color:%23FAFAFA}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;ol id=%5C'content%5C'&gt;'+H(o)+'&lt;/ol&gt;&lt;/body&gt;&lt;/html&gt;';var p=window.open('about:blank','_blank',w);p.document.write(J);p.document.onkeydown=function(a){if(a.keyCode==27)p.close()};p.document.close()})()%22,,%22Source%22,%22Session%22">Source</a> - Показывает исходный код страницы или выделения. Основано на liveSource.js by <b>aleto</b>.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getSelWin=function(w){if(w.getSelection().toString())return w;for(var i=0,f,r;f=w.frames[i];i++){try{if(r=getSelWin(f))return r}catch(e){}}};var toSrc=function(obj){var strToSrc=function(str){var chr,ret='',i=0,meta={'%5Cb':'%5C%5Cb','%5Ct':'%5C%5Ct','%5Cn':'%5C%5Cn','%5Cf':'%5C%5Cf','%5Cr':'%5C%5Cr','%5Cx22':'%5C%5C%5Cx22','%5C%5C':'%5C%5C%5C%5C'};while(chr=str.charAt(i++)){ret+=meta[chr]||chr};return'%5Cx22'+ret+'%5Cx22'},arrToSrc=function(arr){var ret=[];for(var i=0;i&lt;arr.length;i++){ret[i]=toSrc(arr[i])||'null'};return'['+ret.join(',')+']'},objToSrc=function(obj){var val,ret=[];for(var prop in obj){if(Object.prototype.hasOwnProperty.call(obj,prop)&amp;&amp;(val=toSrc(obj[prop])))ret.push(strToSrc(prop)+': '+val)};return'{'+ret.join(',')+'}'};switch(Object.prototype.toString.call(obj).slice(8,-1)){case'Array':return arrToSrc(obj);case'Boolean':case'Function':case'RegExp':return obj.toString();case'Date':return'new Date('+obj.getTime()+')';case'Math':return'Math';case'Number':return isFinite(obj)%3FString(obj):'null';case'Object':return objToSrc(obj);case'String':return strToSrc(obj);default:return obj%3F(obj.nodeType==1&amp;&amp;obj.id%3F'document.getElementById('+strToSrc(obj.id)+')':'{}'):'null'}};var selWin=getSelWin(window),win=selWin||window,doc=win.document,loc=win.location;var ele,pEle,clone;if(selWin){var rng=win.getSelection().getRangeAt(0);pEle=rng.commonAncestorContainer;ele=rng.cloneContents()}else{pEle=doc.documentElement;ele=(doc.body||doc.getElementsByTagName('body')[0]).cloneNode(true)};while(pEle){if(pEle.nodeType==1){clone=pEle.cloneNode(false);clone.appendChild(ele);ele=clone};pEle=pEle.parentNode};var sel=doc.createElement('div');sel.appendChild(ele);for(var el,all=sel.getElementsByTagName('*'),i=all.length;i--;){el=all[i];switch(el.nodeName.toLowerCase()){case'link':case'style':case'script':el.parentNode.removeChild(el);break;case'a':case'area':if(el.hasAttribute('href')&amp;&amp;el.getAttribute('href').charAt(0)!='%23')el.href=el.href;break;case'img':case'input':case'audio':case'video':case'embed':case'frame':case'iframe':if(el.hasAttribute('src'))el.src=el.src;break;case'object':if(el.hasAttribute('data'))el.data=el.data;break;case'form':if(el.hasAttribute('action'))el.action=el.action;break}};var head=ele.insertBefore(doc.createElement('head'),ele.firstChild);var meta=doc.createElement('meta');meta.httpEquiv='content-type';meta.content='text/html; charset=utf-8';head.appendChild(meta);var title=doc.getElementsByTagName('title')[0];if(title)head.appendChild(title.cloneNode(true));head.copyScript=function(){if('$'in win)return;var f=doc.createElement('iframe');f.src='about:blank';f.setAttribute('style','position:fixed;left:0;top:0;visibility:hidden;width:0;height:0;');doc.documentElement.appendChild(f);var str,script=doc.createElement('script');script.type='text/javascript';for(var name in win){if(name in f.contentWindow||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name))continue;try{str=toSrc(win[name]);if(!/%5C{%5Cs*%5C[native code%5C]%5Cs*%5C}/.test(str)){script.appendChild(doc.createTextNode('var '+name+' = '+str.replace(/&lt;%5C/(script&gt;)/ig,'&lt;%5C%5C/$1')+';%5Cn'))}}catch(e){}};f.parentNode.removeChild(f);if(script.childNodes.length)this.nextSibling.appendChild(script)};head.copyScript();head.copyStyle=function(s){if(!s)return;var style=doc.createElement('style');style.type='text/css';if(s.media&amp;&amp;s.media.mediaText)style.media=s.media.mediaText;try{for(var i=0,rule;rule=s.cssRules[i];i++){if(rule.type!=3){if((!rule.selectorText||rule.selectorText.indexOf(':')!=-1)||(!sel.querySelector||sel.querySelector(rule.selectorText))){style.appendChild(doc.createTextNode(rule.cssText+'%5Cn'))}}else{this.copyStyle(rule.styleSheet)}}}catch(e){if(s.ownerNode)style=s.ownerNode.cloneNode(false)};this.appendChild(style)};var sheets=doc.styleSheets;for(var j=0;j&lt;sheets.length;j++)head.copyStyle(sheets[j]);head.appendChild(doc.createTextNode('%5Cn'));var doctype='',dt=doc.doctype;if(dt&amp;&amp;dt.name){doctype+='&lt;!DOCTYPE '+dt.name;if(dt.publicId)doctype+=' PUBLIC %5Cx22'+dt.publicId+'%5Cx22';if(dt.systemId)doctype+=' %5Cx22'+dt.systemId+'%5Cx22';doctype+='&gt;%5Cn'};loc.href='data:text/phf;charset=utf-8,'+encodeURIComponent(doctype+sel.innerHTML+'%5Cn&lt;!-- This document saved from '+(loc.protocol!='data:'%3Floc.href:'data:uri')+' --&gt;')})();%22,,%22Save snapshot%22,%22Save%20document%22">Save snapshot</a> - Сохраняет выделенную часть страницы или её всю, если ничего не выделено. Перед использованием создайте MIME тип (Ctrl+F12->Загрузки->Добавить) «text/phf» с расширением «htm» и укажите «Сохранить на диске».
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var encodeBase64=function(str){var chr1,chr2,chr3,rez='',arr=[],i=0,j=0,code=0;var chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split('');while(code=str.charCodeAt(j++)){if(code&lt;128){arr[arr.length]=code}else if(code&lt;2048){arr[arr.length]=192|(code&gt;&gt;6);arr[arr.length]=128|(code&amp;63)}else if(code&lt;65536){arr[arr.length]=224|(code&gt;&gt;12);arr[arr.length]=128|((code&gt;&gt;6)&amp;63);arr[arr.length]=128|(code&amp;63)}else{arr[arr.length]=240|(code&gt;&gt;18);arr[arr.length]=128|((code&gt;&gt;12)&amp;63);arr[arr.length]=128|((code&gt;&gt;6)&amp;63);arr[arr.length]=128|(code&amp;63)}};while(i&lt;arr.length){chr1=arr[i++];chr2=arr[i++];chr3=arr[i++];rez+=chars[chr1&gt;&gt;2];rez+=chars[((chr1&amp;3)&lt;&lt;4)|(chr2&gt;&gt;4)];rez+=chars[chr2===undefined%3F64:((chr2&amp;15)&lt;&lt;2)|(chr3&gt;&gt;6)];rez+=chars[chr3===undefined%3F64:chr3&amp;63]};return rez};var getSelWin=function(w){if(w.getSelection().toString())return w;for(var i=0,f,r;f=w.frames[i];i++){try{if(r=getSelWin(f))return r}catch(e){}}};var toSrc=function(obj){var strToSrc=function(str){var chr,ret='',i=0,meta={'%5Cb':'%5C%5Cb','%5Ct':'%5C%5Ct','%5Cn':'%5C%5Cn','%5Cf':'%5C%5Cf','%5Cr':'%5C%5Cr','%5Cx22':'%5C%5C%5Cx22','%5C%5C':'%5C%5C%5C%5C'};while(chr=str.charAt(i++)){ret+=meta[chr]||chr};return'%5Cx22'+ret+'%5Cx22'},arrToSrc=function(arr){var ret=[];for(var i=0;i&lt;arr.length;i++){ret[i]=toSrc(arr[i])||'null'};return'['+ret.join(',')+']'},objToSrc=function(obj){var val,ret=[];for(var prop in obj){if(Object.prototype.hasOwnProperty.call(obj,prop)&amp;&amp;(val=toSrc(obj[prop])))ret.push(strToSrc(prop)+': '+val)};return'{'+ret.join(',')+'}'};switch(Object.prototype.toString.call(obj).slice(8,-1)){case'Array':return arrToSrc(obj);case'Boolean':case'Function':case'RegExp':return obj.toString();case'Date':return'new Date('+obj.getTime()+')';case'Math':return'Math';case'Number':return isFinite(obj)%3FString(obj):'null';case'Object':return objToSrc(obj);case'String':return strToSrc(obj);default:return obj%3F(obj.nodeType==1&amp;&amp;obj.id%3F'document.getElementById('+strToSrc(obj.id)+')':'{}'):'null'}};var selWin=getSelWin(window),win=selWin||window,doc=win.document,loc=win.location;var ele,pEle,clone;if(selWin){var rng=win.getSelection().getRangeAt(0);pEle=rng.commonAncestorContainer;ele=rng.cloneContents()}else{pEle=doc.documentElement;ele=(doc.body||doc.getElementsByTagName('body')[0]).cloneNode(true)};while(pEle){if(pEle.nodeType==1){clone=pEle.cloneNode(false);clone.appendChild(ele);ele=clone};pEle=pEle.parentNode};var sel=doc.createElement('div');sel.appendChild(ele);for(var el,all=sel.getElementsByTagName('*'),i=all.length;i--;){el=all[i];switch(el.nodeName.toLowerCase()){case'link':case'style':case'script':el.parentNode.removeChild(el);break;case'a':case'area':if(el.hasAttribute('href')&amp;&amp;el.getAttribute('href').charAt(0)!='%23')el.href=el.href;break;case'img':case'input':case'audio':case'video':case'embed':case'frame':case'iframe':if(el.hasAttribute('src'))el.src=el.src;break;case'object':if(el.hasAttribute('data'))el.data=el.data;break;case'form':if(el.hasAttribute('action'))el.action=el.action;break}};var head=ele.insertBefore(doc.createElement('head'),ele.firstChild);var meta=doc.createElement('meta');meta.httpEquiv='content-type';meta.content='text/html; charset=utf-8';head.appendChild(meta);var title=doc.getElementsByTagName('title')[0];if(title)head.appendChild(title.cloneNode(true));head.copyScript=function(){if('$'in win)return;var f=doc.createElement('iframe');f.src='about:blank';f.setAttribute('style','position:fixed;left:0;top:0;visibility:hidden;width:0;height:0;');doc.documentElement.appendChild(f);var str,script=doc.createElement('script');script.type='text/javascript';for(var name in win){if(name in f.contentWindow||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name))continue;try{str=toSrc(win[name]);if(!/%5C{%5Cs*%5C[native code%5C]%5Cs*%5C}/.test(str)){script.appendChild(doc.createTextNode('var '+name+' = '+str.replace(/&lt;%5C/(script&gt;)/ig,'&lt;%5C%5C/$1')+';%5Cn'))}}catch(e){}};f.parentNode.removeChild(f);if(script.childNodes.length)this.nextSibling.appendChild(script)};head.copyScript();head.copyStyle=function(s){if(!s)return;var style=doc.createElement('style');style.type='text/css';if(s.media&amp;&amp;s.media.mediaText)style.media=s.media.mediaText;try{for(var i=0,rule;rule=s.cssRules[i];i++){if(rule.type!=3){if((!rule.selectorText||rule.selectorText.indexOf(':')!=-1)||(!sel.querySelector||sel.querySelector(rule.selectorText))){style.appendChild(doc.createTextNode(rule.cssText+'%5Cn'))}}else{this.copyStyle(rule.styleSheet)}}}catch(e){if(s.ownerNode)style=s.ownerNode.cloneNode(false)};this.appendChild(style)};var sheets=doc.styleSheets;for(var j=0;j&lt;sheets.length;j++)head.copyStyle(sheets[j]);head.appendChild(doc.createTextNode('%5Cn'));var doctype='',dt=doc.doctype;if(dt&amp;&amp;dt.name){doctype+='&lt;!DOCTYPE '+dt.name;if(dt.publicId)doctype+=' PUBLIC %5Cx22'+dt.publicId+'%5Cx22';if(dt.systemId)doctype+=' %5Cx22'+dt.systemId+'%5Cx22';doctype+='&gt;%5Cn'};loc.href='data:text/phf;charset=utf-8;base64,'+encodeBase64(doctype+sel.innerHTML+'%5Cn&lt;!-- This document saved from '+(loc.protocol!='data:'%3Floc.href:'data:uri')+' --&gt;')})();%22,,%22Save snapshot%22,%22Save%20document%22">Save snapshot</a> - Тоже самое, но с промежуточным кодированием в base64, что избавляет от проблем с оперным блокером.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){document.designMode=(document.designMode=='on')%3F%27off%27:%27on%27})()%22,,,%22News%20Read%22">Режим редактирования</a> - Включает/выключает режим редактирования страницы. Позволяет отредактировать страницу перед её сохранением кнопкой "Save snapshot". Горячие клавиши: удалить выделенное - Delete, жирный шрифт - Ctrl+B, наклонный - Ctrl+I, подчёркнутый - Ctrl+U.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var prequote=function(v){var n='',u='';var c=navigator.lastClicked||window.getSelection().getRangeAt(0).commonAncestorContainer;if(location.hostname=='forum.ru-board.com'){while(c.className!='tpc'&amp;&amp;c.parentNode){c=c.parentNode};if(c.className!='tpc')return;var tn=c.parentNode.parentNode.childNodes[1].childNodes[0].childNodes[1];n='[b]'+c.parentNode.firstChild.innerText.replace(/%5Cn.*/g,'')+'[/b] ';u='[url='+tn.childNodes[5].href+'][color=%23007777][size=1][u]'+tn.childNodes[7].innerText.replace(/^ +/,'').replace(/ +$/,'')+'[/u][/size][/color][/url] '};if(window.smf_theme_url){while((c.className||'').indexOf('windowbg')==-1&amp;&amp;c.parentNode){c=c.parentNode};var dv=c.getElementsByTagName('div');for(var i=0,di;di=dv[i];i++){if(di.className=='post'){c=di;break}};if(c.className!='post')return;n='[b]'+c.parentNode.parentNode.getElementsByTagName('a')[0].innerText+'[/b] ';u='[url='+c.parentNode.getElementsByTagName('a')[0].href+'][size=1][u][%3F][/u][/size][/url] '};if(v.indexOf(n)!=-1)n='';if(v.indexOf(u)!=-1)u='';return n+u};var s=window.getSelection();if(s!=''){var sel=document.createElement('div');sel.appendChild(s.getRangeAt(0).cloneContents());var ele=sel.getElementsByTagName('*');for(var i=0,e;e=ele[i];i++){switch(e.tagName.toUpperCase()){case'A':e.innerHTML='[url='+e.href+']'+e.innerHTML+'[/url]';break;case'FONT':if(e.color){e.innerHTML='[color='+e.color+']'+e.innerHTML+'[/color]'};break;case'DIV':if(e.className=='code'){e.innerHTML='[code]'+e.innerHTML+'[/code]'}else if(e.className=='quote'){e.innerHTML='[quote]'+e.innerHTML+'[/quote]'}else{e.innerHTML='&lt;br&gt;'+e.innerHTML};break;case'B':case'STRONG':e.innerHTML='[b]'+e.innerHTML+'[/b]';break;case'I':case'EM':e.innerHTML='[i]'+e.innerHTML+'[/i]';break;case'U':e.innerHTML='[u]'+e.innerHTML+'[/u]';break;case'PRE':e.innerHTML='[code]'+e.innerHTML+'[/code]';break;case'BLOCKQUOTE':case'Q':e.innerHTML='[quote]'+e.innerHTML+'[/quote]';break;case'IMG':e.outerHTML+='[img]'+e.src+'[/img]';break}};var txt=sel.innerText;var pre,t,ta=document.getElementsByTagName('textarea');for(var i=ta.length;i--;){t=ta[i];if(t.rows&gt;4&amp;&amp;t.offsetHeight&gt;0)break};if(!t||t.offsetHeight==0){if(txt)prompt('Пожалуйста, скопируйте BBcode:',txt);return}if(t.rows&lt;15){var len=t.rows+txt.split('%5Cn').length;t.rows=(len&lt;=15)%3Flen:15};try{pre=prequote(t.value)||''}catch(e){pre=''};var tEnd=t.selectionEnd;var tLen=t.value.length;t.value=t.value.substring(0,tEnd)+pre+'[quote]'+txt+'[/quote]%5Cr%5Cn'+t.value.substring(tEnd,tLen);tEnd+=t.value.length-tLen;t.setSelectionRange(tEnd,tEnd);t.focus()}else ujs_bbcode_tag('[quote]')})()%22,,,%22Menu%20Chat%22"">Quote+</a> - Для форумов. Копирует выделенный текст с частичным сохранением форматирования в форму ответа и обрамляет его тегами [quote].
<!--  <br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var createLink=function(l,t){var oLnk=document.createElement('a');oLnk.setAttribute('href',l);oLnk.appendChild(document.createTextNode(t));oLnk.setAttribute('style','display:inline-block;text-decoration:underline;font:14px Times New Roman;');return oLnk};var showLink=function(oEle,oSrc,oFlv){if(!oEle||!oSrc)return;var cName='ujs_downlink';var p=oEle.previousSibling;if(p&amp;&amp;p.className==cName){oEle.parentNode.removeChild(p);return};var oDiv=document.createElement('div');oDiv.className=cName;oDiv.appendChild(createLink(oSrc,'Download'));var r=/http:%5C/%5C/[^%5Cs%5Cx22=&amp;?]+flv/i.exec(decodeURIComponent(oFlv));if(r){oDiv.appendChild(document.createTextNode(' ('));oDiv.appendChild(createLink(r[0],'flv'));oDiv.appendChild(document.createTextNode(')'))};oEle.parentNode.insertBefore(oDiv,oEle)};var getParam=function(e,n){var v='';var re=new RegExp('^('+n+')$','i');var param=e.getElementsByTagName('param');for(var i=0,p;p=param[i];i++){if(p.getAttribute('name').match(re)){v=p.getAttribute('value');break}}return v};var searchEmbed=function(w){if(!w)return;var obj=w.document.getElementsByTagName('object');for(var i=0,oi;oi=obj[i];i++){showLink(oi,oi.getAttribute('data')||oi.getAttribute('src')||getParam(oi,'movie|data|src|code|filename|url')||(oi.getElementsByTagName('embed').length&amp;&amp;oi.getElementsByTagName('embed')[0].getAttribute('src')),getParam(oi,'flashvars'))};var em=w.document.getElementsByTagName('embed');for(var i=0,ei;ei=em[i];i++){if(ei.parentNode.tagName.toLowerCase()!='object')showLink(ei,ei.getAttribute('src'),ei.getAttribute('flashvars'))};for(var j=0,f;f=w.frames[j];j++){try{arguments.callee(f)}catch(e){}}};searchEmbed(window.top)})()%22,,,%22Panel%20Links%22">Ссылки на flash</a> - Создаёт перед каждой флэшкой ссылку для скачивания, включая флэшки во фреймах. Также показывает ссылку на флэш-видео, если она явно задана, как например, на rutube. Второе нажатие на кнопку уберёт ссылки. -->
<!-- <br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getVideo=function(flashvars,src){var getLink=function(s){var rez=s.match(/[^%5Cs%5Cx22=&amp;%3F]+%5C.[^%5Cs%5Cx22=&amp;%3F%5C/]*(flv|mp4)/i);return rez%3Frez[0]:''};var getQuery=function(s,q){var rez=s.match(new RegExp('[&amp;%3F]'+q+'=([^&amp;]+)'));return rez%3Frez[1]:''};var flv=decodeURIComponent(flashvars);var url=location.href;var q='';if(url.indexOf('youtube.com/watch%3F')!=-1&amp;&amp;(q=getQuery(flv,'video_id')))return'http://www.youtube.com/get_video%3Fvideo_id='+q+'&amp;t='+getQuery(flv,'t')+'&amp;fmt=18';if(url.indexOf('video.google.com/videoplay%3F')!=-1&amp;&amp;(q=getQuery(src,'videoUrl')))return decodeURIComponent(q);if(url.indexOf('metacafe.com/watch/')!=-1&amp;&amp;(q=getQuery(flv,'mediaURL')))return q+'%3F__gda__='+getQuery(flv,'gdaKey');if(url.indexOf('dailymotion.com/')!=-1&amp;&amp;(q=getQuery(flv,'video')))return q.match(/[^@]+/);return getLink(flv)||decodeURIComponent(getLink(src))};var createLink=function(l,t){var oLnk=document.createElement('a');oLnk.setAttribute('href',l);oLnk.appendChild(document.createTextNode(t));oLnk.setAttribute('style','display:inline;font:14px Times New Roman;text-decoration:underline;text-transform:none;');return oLnk};var showLink=function(oEle,oSrc,oFlv){if(!oEle||!oSrc)return;var cName='ujs_downlink';var p=oEle.previousSibling;if(p&amp;&amp;p.className==cName){oEle.parentNode.removeChild(p);return};var oDiv=document.createElement('div');oDiv.setAttribute('style','display:block;position:static;float:none;margin:0;padding:0;z-index:999;');oDiv.className=cName;oDiv.appendChild(createLink(oSrc,'Сохранить'));var v=getVideo(oFlv,oSrc);if(v){oDiv.appendChild(document.createTextNode(' ('));oDiv.appendChild(createLink(v,'Видео'));oDiv.appendChild(document.createTextNode(')'))};oEle.parentNode.insertBefore(oDiv,oEle)};var getParam=function(e,n){var v='';var r=new RegExp('^('+n+')$','i');var param=e.getElementsByTagName('param');for(var i=0,p;p=param[i];i++){if(p.getAttribute('name').match(r)){v=p.getAttribute('value');break}}return v};var searchEmbed=function(w){if(!w)return;var obj=w.document.getElementsByTagName('object');for(var i=0,oi;oi=obj[i];i++){showLink(oi,oi.getAttribute('data')||oi.getAttribute('src')||getParam(oi,'movie|data|src|code|filename|url')||(oi.getElementsByTagName('embed').length&amp;&amp;oi.getElementsByTagName('embed')[0].getAttribute('src')),getParam(oi,'flashvars'))};var em=w.document.getElementsByTagName('embed');for(var i=0,ei;ei=em[i];i++){if(ei.parentNode.tagName.toLowerCase()!='object')showLink(ei,ei.getAttribute('src'),ei.getAttribute('flashvars'))};for(var j=0,f;f=w.frames[j];j++){try{arguments.callee(f)}catch(e){}}};searchEmbed(window.top)})()%22,,,%22Find%22">Ссылки на flash</a> - Создаёт перед каждой флэшкой ссылку для скачивания, включая флэшки во фреймах. Также показывает ссылку на флэш-видео, если она явно задана, как например, на <a class="simple" href="http://rutube.ru/">rutube.ru</a> или <a class="simple" href="http://break.com/">break.com</a>. Дополнительно поддерживаются <a class="simple" href="http://www.youtube.com/">youtube.com</a>, <a class="simple" href="http://video.google.com/">video.google.com</a>, <a class="simple" href="http://www.metacafe.com/">metacafe.com</a> и <a class="simple" href="http://www.dailymotion.com/">dailymotion.com</a>. Второе нажатие на кнопку уберёт ссылки. -->
<!-- <br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getVideo=function(flashvars,src){var getLink=function(s){var a=s.match(/[^%5Cs%5Cx22=&amp;%3F]+%5C.[^%5Cs%5Cx22=&amp;%3F%5C/]*(flv|mp4)/i);return a%3Fa[0]:''};var getQuery=function(s,q){var a=s.match(new RegExp('(^|[&amp;%3F])'+q+'=([^&amp;]+)'));return a%3Fa[2]:''};var getJson=function(s,q){var a=s.match(new RegExp('%5Cx22'+q+'%5Cx22:%5C%5Cs*(%5Cx22.+%3F%5Cx22)'));return a%3Feval(a[1]):''};var getXml=function(s,t){var x=new XMLHttpRequest();x.open('GET',s,false);x.send(null);return x.responseXML&amp;&amp;x.responseXML.getElementsByTagName(t)[0]};var getURL=function(f,s){return f.match(/^(%5Cw+:%5C/%5C/|%5C/|$)/)%3Ff:s.replace(/[%23%3F].*$/,'').replace(/[^%5C/]*$/,f)};var decodeURL=function(s){try{return decodeURIComponent(s)}catch(e){return unescape(s)}};var q='',url=location.href,flv=decodeURL(flashvars);if(url.indexOf('youtube.com/watch%3F')!=-1&amp;&amp;(q=decodeURL(getQuery(flashvars,'fmt_url_map')).match(/%5Cd{2}%5C|([^,]+)/)))return q[1]+'&amp;title='+encodeURIComponent(document.title);if(url.indexOf('video.google.com/videoplay%3F')!=-1&amp;&amp;(q=getQuery(src,'videoUrl')))return decodeURL(q);if(url.indexOf('metacafe.com/watch/')!=-1&amp;&amp;(q=getJson(flv,'mediaURL')))return q+'%3F__gda__='+getJson(flv,'key');if(url.indexOf('dailymotion.com/')!=-1&amp;&amp;(q=getJson(flv,'hqURL')||getJson(flv,'sdURL')))return q;if(url.indexOf('my-hit.ru/film/')!=-1&amp;&amp;(q=getLink(flv)))return q+'%3Fstart=0&amp;id='+getQuery(flv,'id');if(url.indexOf('vd.reborn.ru/%3Fa=watch')!=-1&amp;&amp;(q=getQuery(src,'filename')))return'http://flv.reborn.ru:81/'+q+'.flv';if(url.indexOf('vision.rambler.ru/')!=-1&amp;&amp;(q=getXml(url+'flash_basic_data.xml%3Fwhere=video','flv')))return q.firstChild.nodeValue;if(url.indexOf('www.tvigle.ru/')!=-1&amp;&amp;(q=getXml('http://www.tvigle.ru/xml/single.php%3Fobj='+getQuery(flv,'obj'),'video')))return q.getAttribute('bigmp4')||q.getAttribute('file')||q.getAttribute('low_file');if(url.indexOf('www.break.com/')!=-1&amp;&amp;(q=getQuery(flv,'videoPath')))return q+'%3F'+getQuery(flv,'icon');return getURL(getLink(flv)||decodeURL(getLink(src)),src)};var createLink=function(url,txt){var oLnk=document.createElement('a');oLnk.setAttribute('href',url);oLnk.setAttribute('style','display:inline;margin:0;padding:0;font:14px Times New Roman;text-decoration:underline;text-transform:none;');oLnk.appendChild(document.createTextNode(txt));return oLnk};var showLink=function(oEle,src,flv){var cName='ujs_downlink';var p=oEle.previousSibling;if(p&amp;&amp;p.className==cName){oEle.parentNode.removeChild(p);return};if(src){var oDiv=document.createElement('div');oDiv.setAttribute('style','display:block;position:static;float:none;margin:0;padding:0;width:auto;height:auto;font:14px Times New Roman;color:%23555;z-index:999;');oDiv.className=cName;oDiv.appendChild(createLink(src,'Сохранить'));var v=getVideo(flv,src);if(v){oDiv.appendChild(document.createTextNode(' ('));oDiv.appendChild(createLink(v,'Видео'));oDiv.appendChild(document.createTextNode(')'))};oEle.parentNode.insertBefore(oDiv,oEle)}};var getParam=function(e,n){var v='',r=new RegExp('^('+n+')$','i');var param=e.getElementsByTagName('param');for(var i=0,p;p=param[i];i++){if(r.test(p.getAttribute('name'))){v=p.getAttribute('value');break}};return v};var searchEmbed=function(w){if(!w)return;var obj=w.document.getElementsByTagName('object');for(var i=0,oi;oi=obj[i];i++){if(oi.parentNode)showLink(oi,oi.getAttribute('data')||oi.getAttribute('src')||getParam(oi,'movie|data|src|code|filename|url')||(oi.getElementsByTagName('embed').length&amp;&amp;oi.getElementsByTagName('embed')[0].getAttribute('src')),getParam(oi,'flashvars'))};var em=w.document.getElementsByTagName('embed');for(var i=0,ei;ei=em[i];i++){if(ei.parentNode&amp;&amp;ei.parentNode.nodeName.toLowerCase()!='object')showLink(ei,ei.getAttribute('src'),ei.getAttribute('flashvars'))};for(var j=0,f;f=w.frames[j];j++){try{arguments.callee(f)}catch(e){}}};searchEmbed(window)})()%22,,,%22Find%22">Ссылки на flash</a> - Создаёт перед каждой флэшкой ссылку для скачивания, включая флэшки во фреймах. Также показывает ссылку на флэш-видео, если она явно задана, как например, на <a class="simple" href="http://www.world-art.ru/">world-art.ru</a> или <a class="simple" href="http://break.com/">break.com</a>. Дополнительно поддерживаются <a class="simple" href="http://www.youtube.com/">youtube.com</a>, <a class="simple" href="http://video.google.com/">video.google.com</a>, <a class="simple" href="http://www.metacafe.com/">metacafe.com</a> и <a class="simple" href="http://www.dailymotion.com/">dailymotion.com</a>. Второе нажатие на кнопку уберёт ссылки. -->
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getVideo=function(flashvars,src){var getLink=function(s){var a=s.match(/[^%5Cs%5Cx22=&amp;%3F]+%5C.[^%5Cs%5Cx22=&amp;%3F%5C/]*(flv|mp4)/i);return a%3Fa[0]:''};var getQuery=function(s,q){var a=s.match(new RegExp('(^|[&amp;%3F])'+q+'=([^&amp;]+)'));return a%3Fa[2]:''};var getJson=function(s,q){var a=s.match(new RegExp('%5Cx22'+q+'%5Cx22:%5C%5Cs*(%5Cx22.+%3F%5Cx22)'));return a%3Feval(a[1]):''};var getURL=function(f,s){return f.match(/^(%5Cw+:%5C/%5C/|%5C/|$)/)%3Ff:s.replace(/[%23%3F].*$/,'').replace(/[^%5C/]*$/,f)};var decodeURL=function(s){try{return decodeURIComponent(s)}catch(e){return unescape(s)}};var q='',url=location.href,flv=decodeURL(flashvars);if(url.indexOf('youtube.com/watch%3F')!=-1&amp;&amp;(q=getQuery(flv,'url')))return decodeURL(q)+'&amp;signature='+getQuery(flv,'sig')+'&amp;title='+encodeURIComponent(document.title);if(url.indexOf('video.google.com/videoplay%3F')!=-1&amp;&amp;(q=getQuery(src,'videoUrl')))return decodeURL(q);if(url.indexOf('metacafe.com/watch/')!=-1&amp;&amp;(q=getJson(flv,'mediaURL')))return q+'%3F__gda__='+getJson(flv,'value');if(url.indexOf('dailymotion.com/')!=-1&amp;&amp;(q=getJson(flv,'hqURL')||getJson(flv,'sdURL')))return q;if(url.indexOf('www.break.com/')!=-1&amp;&amp;(q=getQuery(flv,'videoPath')))return q+'%3F'+getQuery(flv,'icon');if(url.indexOf('my-hit.ru/film/')!=-1&amp;&amp;(q=getLink(flv)))return q+'%3Fstart=0&amp;id='+getQuery(flv,'id');return getURL(getLink(flv)||decodeURL(getLink(src)),src)};var createLink=function(url,txt){var oLnk=document.createElement('a');oLnk.setAttribute('href',url);oLnk.setAttribute('style','display:inline;margin:0;padding:0;font:14px Times New Roman;text-decoration:underline;text-transform:none;');oLnk.appendChild(document.createTextNode(txt));return oLnk};var showLink=function(oEle,src,flv){var cName='ujs_downlink';var p=oEle.previousSibling;if(p&amp;&amp;p.className==cName){oEle.parentNode.removeChild(p);return};if(src){var oDiv=document.createElement('div');oDiv.setAttribute('style','display:block;position:static;float:none;margin:0;padding:0;width:auto;height:auto;font:14px Times New Roman;color:%23555;z-index:999;');oDiv.className=cName;oDiv.appendChild(createLink(src,'Сохранить'));var v=getVideo(flv,src);if(v){oDiv.appendChild(document.createTextNode(' ('));oDiv.appendChild(createLink(v,'Видео'));oDiv.appendChild(document.createTextNode(')'))};oEle.parentNode.insertBefore(oDiv,oEle)}};var getParam=function(e,n){var v='',r=new RegExp('^('+n+')$','i');var param=e.getElementsByTagName('param');for(var i=0,p;p=param[i];i++){if(r.test(p.getAttribute('name'))){v=p.getAttribute('value');break}};return v};var searchEmbed=function(w){if(!w)return;var obj=w.document.getElementsByTagName('object');for(var i=0,oi;oi=obj[i];i++){if(oi.parentNode)showLink(oi,oi.getAttribute('data')||oi.getAttribute('src')||getParam(oi,'movie|data|src|code|filename|url')||(oi.getElementsByTagName('embed').length&amp;&amp;oi.getElementsByTagName('embed')[0].getAttribute('src')),getParam(oi,'flashvars'))};var em=w.document.getElementsByTagName('embed');for(var i=0,ei;ei=em[i];i++){if(ei.parentNode&amp;&amp;ei.parentNode.nodeName.toLowerCase()!='object')showLink(ei,ei.getAttribute('src'),ei.getAttribute('flashvars'))};for(var j=0,f;f=w.frames[j];j++){try{arguments.callee(f)}catch(e){}}};searchEmbed(window)})()%22,,,%22Find%22">Ссылки на flash</a> - Создаёт перед каждой флэшкой ссылку для скачивания, включая флэшки во фреймах. Также показывает ссылку на флэш-видео, если она явно задана, как например, на <a class="simple" href="http://www.world-art.ru/">world-art.ru</a> или <a class="simple" href="http://break.com/">break.com</a>. Дополнительно поддерживаются <a class="simple" href="http://www.youtube.com/">youtube.com</a>, <a class="simple" href="http://video.google.com/">video.google.com</a>, <a class="simple" href="http://www.metacafe.com/">metacafe.com</a> и <a class="simple" href="http://www.dailymotion.com/">dailymotion.com</a>. Второе нажатие на кнопку уберёт ссылки.

<!-- <br><br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var d='ujs_ru_upload';var b=document.getElementById(d);if(b){b.parentNode.removeChild(b);return};b=document.createElement('div');b.setAttribute('style','display:block;position:fixed;right:0;bottom:0;background:-o-skin(%5Cx22Window Skin%5Cx22);border:1px solid;padding:10px;z-index:9999;');b.id=d;var l=' target=%5C'_blank%5C' style=%5C'text-decoration:none;color:%230000cc;font:14px Times New Roman;%5C'';var f=' style=%5C'margin:5px;display:block;%5C' target=%5C'_blank%5C' method=%5C'post%5C' enctype=%5C'multipart/form-data%5C' ';var s=' style=%5C'font:13px Arial;%5C' onchange=%5C'this.parentNode.submit()%5C'';b.innerHTML='&lt;img src=%5C'data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAICTAEAOw==%5C' title=%5C'Close%5C' style=%5C'display:block;position:relative;float:right;height:18px;width:18px;left:5px;bottom:5px;margin:1px;background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer;%5C' onclick=%5C'this.parentNode.parentNode.removeChild(this.parentNode)%5C'&gt;&lt;a href=%5C'http://foto.radikal.ru%5C''+l+'&gt;Радикал-Фото&lt;/a&gt;&lt;form action=%5C'http://foto.radikal.ru/action.aspx%5C''+f+'name=%5C'upload%5C'&gt;&lt;input type=%5C'file%5C' name=%5C'F%5C''+s+'&gt;&lt;input type=%5C'hidden%5C' name=%5C'upload%5C' value=%5C'yes%5C'&gt;&lt;input type=%5C'hidden%5C' name=%5C'VM%5C' size=4 value=200&gt;&lt;/form&gt;&lt;a href=%5C'http://ifolder.ru%5C''+l+'&gt;iFolder.ru&lt;/a&gt;&lt;form action=%5C'http://upl.stg243.ifolder.ru/?serial=87e5db13873cd1f91b75edd9d27fde3a%5C''+f+'name=%5C'theuploadform%5C'&gt;&lt;input type=%5C'file%5C' name=%5C'filename%5C' value=%5C'fasdfadf%5C''+s+'&gt;&lt;input type=%5C'hidden%5C' name=%5C'upload_params%5C' value=%5C'bf0af357f9f471d86046f0d3246e84da039d2e17200e1f46819b81e44be5402f746d5f8d10bc70ecf90532cbcf3b2cd2d4db1faefcd9cb00%5C'&gt;&lt;input type=%5C'hidden%5C' name=%5C'clone%5C' value=%5C'ifolder.ru%5C'&gt;&lt;input type=%5C'hidden%5C' name=%5C'progress_bar%5C' value=%5C'87e5db13873cd1f91b75edd9d27fde3a%5C'&gt;&lt;input type=%5C'hidden%5C' name=%5C'upload_host%5C' value=%5C'stg243.ifolder.ru%5C'&gt;&lt;input type=%5C'hidden%5C' name=%5C'MAX_FILE_SIZE%5C' value=%5C'104857600%5C'&gt;&lt;/form&gt;';document.documentElement.appendChild(b)})();%22,,,%22foto_radikal%22">Закачать на</a> - Создаёт панель для закачки на <a class="simple" href="http://foto.radikal.ru/">foto.radikal.ru</a> и <a class="simple" href="http://ifolder.ru/">ifolder.ru</a>. -->
<br><br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var c='ujs_ru_upload',d=window.document,e=d.getElementById(c);if(e){e.del();return};e=d.createElement('div');e.id=c;e.setAttribute('style','display:none;position:fixed;right:0;bottom:0;width:auto;height:auto;background:-o-skin(%5Cx22Window Skin%5Cx22);border:1px solid %23555;padding:10px;z-index:9999;');e.add=function(lnk,frm){var d=this.ownerDocument,a=d.createElement('a');a.href=lnk[0];a.target='_blank';a.setAttribute('style','border:none;text-decoration:none;color:%2300C;font:14px Times New Roman;');a.appendChild(d.createTextNode(lnk[1]));this.appendChild(a);var f=d.createElement('form');f.action=frm[0];f.method='post';f.enctype='multipart/form-data';f.target='_blank';f.setAttribute('style','display:block;margin:5px;');var t=d.createElement('input');t.type='file';t.name=frm[1];t.setAttribute('style','border-color:%23AAA;font:13px Arial;');t.onchange=function(){this.parentNode.submit()};f.appendChild(t);for(var i=2,arg;arg=arguments[i];i++){var h=d.createElement('input');h.type='hidden';h.name=arg[0];h.value=arg[1];f.appendChild(h)};this.appendChild(f)};e.vis=function(v){this.style.display=v%3F'block':'none';return this.offsetHeight*this.offsetWidth};e.del=function(){this.vis(false);this.parentNode.removeChild(this)};var b=d.createElement('div');b.title='Close';b.setAttribute('style','display:block;float:right;height:18px;width:18px;padding:0;margin:-5px;border:none;background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer');b.onclick=function(){this.parentNode.del()};e.appendChild(b);e.add(['http://www.radikal.cc','Радикал-Фото'],['http://www.radikal.cc/action.aspx','F'],['upload','yes'],['VM','180']);e.add(['http://zalil.ru','Zalil.ru'],['http://zalil.ru/upload/','file']);d.documentElement.appendChild(e);e.vis(true)})();%22,,,%22foto_radikal%22">Закачать на</a> - Создаёт панель для закачки на <a class="simple" href="http://foto.radikal.ru/">foto.radikal.ru</a> и <a class="simple" href="http://zalil.ru/">zalil.ru</a>.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var c='ujs_max_upload',d=window.document,e=d.getElementById(c);if(e){e.del();return};e=d.createElement('div');e.id=c;e.setAttribute('style','display:none;position:fixed;right:0;bottom:0;width:auto;height:auto;background:-o-skin(%5Cx22Window Skin%5Cx22);border:1px solid %23555;padding:10px;z-index:9999;');e.add=function(lnk,frm){var d=this.ownerDocument,a=d.createElement('a');a.href=lnk[0];a.target='_blank';a.setAttribute('style','border:none;text-decoration:none;color:%2300C;font:14px Times New Roman;');a.appendChild(d.createTextNode(lnk[1]));this.appendChild(a);var f=d.createElement('form');f.action=frm[0];f.method='post';f.enctype='multipart/form-data';f.target='_blank';f.setAttribute('style','display:block;margin:5px;');var t=d.createElement('input');t.type='file';t.name=frm[1];t.setAttribute('style','border-color:%23AAA;font:13px Arial;');t.onchange=function(){this.parentNode.submit()};f.appendChild(t);for(var i=2,arg;arg=arguments[i];i++){var h=d.createElement('input');h.type='hidden';h.name=arg[0];h.value=arg[1];f.appendChild(h)};this.appendChild(f)};e.vis=function(v){this.style.display=v%3F'block':'none';return this.offsetHeight*this.offsetWidth};e.del=function(){this.vis(false);this.parentNode.removeChild(this)};var b=d.createElement('div');b.title='Close';b.setAttribute('style','display:block;float:right;height:18px;width:18px;padding:0;margin:-5px;border:none;background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer');b.onclick=function(){this.parentNode.del()};e.appendChild(b);e.add(['http://www.imageshack.us','Imageshack.us'],['http://www.imageshack.us/index.php','fileupload'],['MAX_FILE_SIZE','1048576'],['key','07AHPRSUb540e13d31461ec4d69d5fc122bd5ab7']);e.add(['http://www.radikal.cc','Радикал-Фото'],['http://www.radikal.cc/action.aspx','F'],['upload','yes'],['VM','180']);e.add(['http://multi-up.com','Multi-up.com'],['http://multi-up.com/up.php','upload']);e.add(['http://zalil.ru','Zalil.ru'],['http://zalil.ru/upload/','file']);e.add(['http://virusscan.jotti.org/','VirusScan.Jotti.org'],['http://virusscan.jotti.org/processupload.php','scanfile'],['MAX_FILE_SIZE','20971520'],['APC_UPLOAD_PROGRESS','4c7cf198088e415b0e77b4739c959d2103460caf']);d.documentElement.appendChild(e);e.vis(true)})();%22,,,%22foto_radikal%22">Закачать на</a> - Создаёт панель для закачки на <a class="simple" href="http://www.imageshack.us/">imageshack.us</a>, <a class="simple" href="http://foto.radikal.ru/">foto.radikal.ru</a>, <a class="simple" href="http://multi-up.com/">multi-up.com</a>, <a class="simple" href="http://zalil.ru/">zalil.ru</a> и <a class="simple" href="http://virusscan.jotti.org">virusscan.jotti.org</a>.

<!-- <br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var d='ujs_upload_alt';var b=document.getElementById(d);if(b){b.parentNode.removeChild(b);return};b=document.createElement('div');b.setAttribute('style','display:block;position:fixed;right:0;bottom:0;background:-o-skin(%5Cx22Window Skin%5Cx22);border:1px solid;padding:10px;z-index:9999;');b.id=d;var l=' target=%5C'_blank%5C' style=%5C'text-decoration:none;color:%230000cc;font:14px Times New Roman;%5C'';var f=' style=%5C'margin:5px;display:block;%5C' target=%5C'_blank%5C' method=%5C'post%5C' enctype=%5C'multipart/form-data%5C' ';var s=' style=%5C'font:13px Arial;%5C' onchange=%5C'this.parentNode.submit()%5C'';b.innerHTML='<img src=%5C'data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAICTAEAOw==%5C' title=%5C'Close%5C' style=%5C'display:block;position:relative;float:right;height:18px;width:18px;left:5px;bottom:5px;margin:1px;background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer;%5C' onclick=%5C'this.parentNode.parentNode.removeChild(this.parentNode)%5C'><a href=%5C'http://www.imageshack.us%5C''+l+'>Imageshack.us</a><form action=%5C'http://www.imageshack.us/index.php%5C''+f+'name=%5C'Upload%5C'><input type=%5C'file%5C' name=%5C'fileupload%5C''+s+'><input type=%5C'hidden%5C' name=%5C'MAX_FILE_SIZE%5C' value=%5C'1048576%5C'></form><a href=%5C'http://rapidshare.de%5C''+l+'>RapidShare.de</a><form action=%5C'http://ul8.rapidshare.de/cgi-bin/upload.cgi%3Frsuploadid=155185660696862288%5C''+f+'name=%5C'ul%5C'><input type=%5C'file%5C' name=%5C'filecontent%5C''+s+'></form>';document.documentElement.appendChild(b)})();%22,,,%22foto_ipicture%22">Закачать на</a> - Создаёт панель для закачки на <a class="simple" href="http://www.imageshack.us/">imageshack.us</a> и <a class="simple" href="http://rapidshare.de/">rapidshare.de</a>. -->
<!-- <br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var d='ujs_ru_upload_alt';var b=document.getElementById(d);if(b){b.parentNode.removeChild(b);return};b=document.createElement('div');b.setAttribute('style','display:block;position:fixed;right:0;bottom:0;background:-o-skin(%5Cx22Window Skin%5Cx22);border:1px solid;padding:10px;z-index:9999;');b.id=d;var l=' target=%5C'_blank%5C' style=%5C'text-decoration:none;color:%230000cc;font:14px Times New Roman;%5C'';var f=' style=%5C'margin:5px;display:block;%5C' target=%5C'_blank%5C' method=%5C'post%5C' enctype=%5C'multipart/form-data%5C' ';var s=' style=%5C'font:13px Arial;%5C' onchange=%5C'this.parentNode.submit()%5C'';b.innerHTML='&lt;img src=%5C'data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAICTAEAOw==%5C' title=%5C'Close%5C' style=%5C'display:block;position:relative;float:right;height:18px;width:18px;left:5px;bottom:5px;margin:1px;background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer;%5C' onclick=%5C'this.parentNode.parentNode.removeChild(this.parentNode)%5C'&gt;&lt;a href=%5C'http://ipicture.ru%5C''+l+'&gt;Ipicture.ru&lt;/a&gt;&lt;form action=%5C'http://ipicture.ru/Upload/%5C''+f+'name=%5C'upload%5C'&gt;&lt;input type=%5C'file%5C' name=%5C'userfile%5C''+s+'&gt;&lt;input type=%5C'hidden%5C' name=%5C'method%5C' value=%5C'file%5C'&gt;&lt;/form&gt;&lt;a href=%5C'http://filekeeper.org%5C''+l+'&gt;Filekeeper.org&lt;/a&gt;&lt;form action=%5C'http://filekeeper.org/upload/upload.pl?temp_sid=57c3c4c7ac7b50c02e5233b3c6f30cf4%5C''+f+'name=%5C'form_upload%5C'&gt;&lt;input type=%5C'file%5C' name=%5C'upfile_0%5C''+s+'&gt;&lt;/form&gt;';document.documentElement.appendChild(b)})();%22,,,%22foto_ipicture%22">Закачать на</a> - Создаёт панель для закачки на <a class="simple" href="http://ipicture.ru/">ipicture.ru</a> и <a class="simple" href="http://filekeeper.org/">filekeeper.org</a>. -->
<!-- <br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var d='ujs_upload_alt';var b=document.getElementById(d);if(b){b.parentNode.removeChild(b);return};b=document.createElement('div');b.setAttribute('style','display:block;position:fixed;right:0;bottom:0;background:-o-skin(%5Cx22Window Skin%5Cx22);border:1px solid;padding:10px;z-index:9999;');b.id=d;var l=' target=%5C'_blank%5C' style=%5C'text-decoration:none;color:%230000cc;font:14px Times New Roman;%5C'';var f=' style=%5C'margin:5px;display:block;%5C' target=%5C'_blank%5C' method=%5C'post%5C' enctype=%5C'multipart/form-data%5C' ';var s=' style=%5C'font:13px Arial;%5C' onchange=%5C'this.parentNode.submit()%5C'';b.innerHTML='&lt;img src=%5C'data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAICTAEAOw==%5C' title=%5C'Close%5C' style=%5C'display:block;position:relative;float:right;height:18px;width:18px;left:5px;bottom:5px;margin:1px;background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer;%5C' onclick=%5C'this.parentNode.parentNode.removeChild(this.parentNode)%5C'&gt;&lt;a href=%5C'http://ipicture.ru%5C''+l+'&gt;Ipicture.ru&lt;/a&gt;&lt;form action=%5C'http://ipicture.ru/Upload/%5C''+f+'name=%5C'upload%5C'&gt;&lt;input type=%5C'file%5C' name=%5C'userfile%5C''+s+'&gt;&lt;input type=%5C'hidden%5C' name=%5C'method%5C' value=%5C'file%5C'&gt;&lt;/form&gt;&lt;a href=%5C'http://multi-up.com%5C''+l+'&gt;Multi-up.com&lt;/a&gt;&lt;form action=%5C'http://multi-up.com:81/up.php?X-Progress-ID=%5C''+f+'&gt;&lt;input type=%5C'file%5C' name=%5C'upload%5C''+s+'&gt;&lt;/form&gt;';document.documentElement.appendChild(b)})();%22,,,%22foto_ipicture%22">Закачать на</a> - Создаёт панель для закачки на <a class="simple" href="http://ipicture.ru/">ipicture.ru</a> и <a class="simple" href="http://multi-up.com/">multi-up.com</a>. -->
<!-- <br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var c='ujs_av_upload',w=window,d=(w.document.body instanceof HTMLFrameSetElement%3Fw.frames[0]:w).document,e=d.getElementById(c);if(e){e.del();return};e=d.createElement('div');e.id=c;e.setAttribute('style','display:none;position:fixed;right:0;bottom:0;width:auto;height:auto;background:-o-skin(%5Cx22Window Skin%5Cx22);border:1px solid %23555;padding:10px;z-index:9999;');e.add=function(lnk,frm){var d=this.ownerDocument,a=d.createElement('a');a.href=lnk[0];a.target='_blank';a.setAttribute('style','border:none;text-decoration:none;color:%2300C;font:14px Times New Roman;');a.appendChild(d.createTextNode(lnk[1]));this.appendChild(a);var f=d.createElement('form');f.action=frm[0];f.method='post';f.enctype='multipart/form-data';f.target='_blank';f.setAttribute('style','display:block;margin:5px;');var t=d.createElement('input');t.type='file';t.name=frm[1];t.setAttribute('style','border-color:%23AAA;font:13px Arial;');t.onchange=function(){this.parentNode.submit()};f.appendChild(t);for(var i=2,arg;arg=arguments[i];i++){var h=d.createElement('input');h.type='hidden';h.name=arg[0];h.value=arg[1];f.appendChild(h)};this.appendChild(f)};e.vis=function(v){this.style.display=v%3F'block':'none';return this.offsetHeight*this.offsetWidth};e.del=function(){this.vis(false);this.parentNode.removeChild(this)};var b=d.createElement('div');b.title='Close';b.setAttribute('style','display:block;float:right;height:18px;width:18px;padding:0;margin:-5px;border:none;background:-o-skin(%5Cx22Caption Close Button Skin%5Cx22);cursor:pointer');b.onclick=function(){this.parentNode.del()};e.appendChild(b);e.add(['http://www.virustotal.com/ru/','VirusTotal.com'],['http://www.virustotal.com/vt/ru/recepcion','archivo'],['distribuir','1']);e.add(['http://virusscan.jotti.org/','VirusScan.Jotti.org'],['http://virusscan.jotti.org/processupload.php','scanfile'],['MAX_FILE_SIZE','20971520'],['APC_UPLOAD_PROGRESS','4c7cf198088e415b0e77b4739c959d2103460caf']);d.documentElement.appendChild(e);e.vis(true)})();%22,,,%22virusscan%22">Проверить файл</a> - Создаёт панель для закачки на <a class="simple" href="http://www.virustotal.com/">virustotal.com</a> и <a class="simple" href="http://virusscan.jotti.org/">virusscan.jotti.org</a>. -->
<div style="color:gray">
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var%20C,d,s,p,i,c,k=document.cookie;if(!k){alert('Cookies%20отсутствуют.')}else{if(confirm('Удалить%20эти%20cookies?%5Cn%5Cn'%20+%20k.replace(/;%20/g,'%5Cn'))){C=k.split(';%20');for(d='.'+location.host;d;d=(''+d).substr(1).match(/%5C..*$/))for(s=0;s%3C2;++s)for(p='/'+location.pathname;p;p=p.substring(0,p.lastIndexOf('/')))for(i%20in%20C)if(%20(c=C[i])%20){document.cookie=c+';%20domain='+d.slice(s)+';%20path='+p.slice(1)+'/'+';%20expires='+new%20Date((new%20Date).getTime()-1e11).toGMTString()}}}})()%22,,,%22Mail%20Spam%22">Удалить cookies</a> - Показывает и удаляет кукисы для текущего сайта.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){if(window.navigator.ujs_AdBlock){return}else{window.navigator.ujs_AdBlock=true};var ele='',outline='',border='',bgColor='',title='',reObjects=/^(iframe|object|embed)$/i;var addStyle=function(css){var s=document.createElement('style');s.setAttribute('type','text/css');s.setAttribute('style','display: none !important;');s.appendChild(document.createTextNode(css));return(document.getElementsByTagName('head')[0]||document.documentElement).appendChild(s)};var getAtt=function(el,tags){var rez='';if(el.attributes){var r=new RegExp('^('+tags+')$');for(var i=0,a;a=el.attributes[i];i++){var n=a.nodeName.toLowerCase();if(r.test(n))rez+='['+n+'=%5Cx22'+a.nodeValue+'%5Cx22]'}};return rez};var getNth=function(el){var nth,n=0;var p=el.parentNode;for(var i=0,c;c=p.childNodes[i];i++){if(c.nodeType==1){n++;if(c==el)nth=n}};return(!nth||n&lt;2)%3F'':':nth-child('+nth+')'};var getCssRules=function(el,woNth){var att,tag,rez=[];while(el){if(el.nodeType==1){att=getAtt(el,'src')||getAtt(el,'href')||getAtt(el,'id');tag=el.nodeName;if(att){rez.unshift(tag+att);break}else{rez.unshift(tag+getAtt(el,'class|height|width|color|bgcolor')+((woNth||/^(html|body)$/i.test(tag))%3F'':getNth(el)))}};el=el.parentNode};return rez.join('&gt;')};var remove=function(){document.removeEventListener('mouseover',over,false);document.removeEventListener('mouseout',out,false);document.removeEventListener('click',click,false);document.removeEventListener('keyup',press,false);delete window.navigator.ujs_AdBlock};var over=function(ev){ele=ev.target;title=ele.title;ele.title='Tag: '+ele.nodeName+(ele.id%3F', ID: '+ele.id:'')+(ele.className%3F', Class: '+ele.className:'');if(reObjects.test(ele.nodeName)){border=ele.style.border;ele.style.border='2px solid %23306EFF'}else{outline=ele.style.outline;ele.style.outline='1px solid %23306EFF';bgColor=ele.style.backgroundColor;ele.style.backgroundColor='%23C6DEFF'}};var out=function(){if(ele){ele.title=title;if(reObjects.test(ele.nodeName)){ele.style.border=border}else{ele.style.outline=outline;ele.style.backgroundColor=bgColor}}};var click=function(ev){if(ele){ev.preventDefault();out();remove();var css=getCssRules(ele,ev.altKey||!window.postMessage);var tmpCss=addStyle(css+'{background-color: %23FF5555 !important; outline: 1px solid %23FF1111 !important; opacity: 0.7 !important;}');css=prompt('Hide this element(s)%3F',css);if(css)addStyle(css+'{ display: none !important }');tmpCss.parentNode.removeChild(tmpCss)}};var press=function(ev){if(ev.keyCode==27){out();remove()}};document.addEventListener('mouseover',over,false);document.addEventListener('mouseout',out,false);document.addEventListener('click',click,false);document.addEventListener('keyup',press,false)})();%22,,,%22Delete%22">Скрыть элемент с помощью css</a> - Показывает css-правило, которое нужно для блокирования "кликнутого" элемента страницы. И применяет его. Также см. <a class="simple" href="/opera/adblock_setup.zip">Css AdBlock</a>.
</div>
<br><a class="button" href="opera:/button/Go to page, %22javascript:(function(){var sel=window.getSelection(),rng=sel.getRangeAt(0).cloneRange();document.designMode='on';sel=window.getSelection();sel.removeAllRanges();sel.addRange(rng)})()%22,,,%22Window Hotlist Icon%22 & Delay, 300,,,%22Window Hotlist Icon%22 & Copy,,,,%22Window Hotlist Icon%22 & Delay, 300,,,%22Window Hotlist Icon%22 & Go to page, %22javascript:void(document.designMode='off')%22,,,%22Window Hotlist Icon%22">Копировать с форматированием</a> - Для Opera 10-12.
<br><a class="button" href="opera:/button/Go to page, %22javascript:(function(){var a=document.getElementsByTagName('*');for(var i=0,e;e=a[i];i++){if(e.src)e.src=e.src;else if(e.href)e.href=e.href};document.designMode='on'})()%22,,,%22Window Hotlist Icon%22 & Delay, 300,,,%22Window Hotlist Icon%22 & Copy,,,,%22Window Hotlist Icon%22 & Delay, 300,,,%22Window Hotlist Icon%22 & Go to page, %22javascript:void(document.designMode='off')%22,,,%22Window Hotlist Icon%22">Копировать с форматированием</a> - Для Opera 10-11. Вариант с улучшенным копированием изображений.
<hr>
<H3>Разные кнопки для Opera:</H3>
<!--  <a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){if(window.ujs_google_translate){ujs_google_translate('auto|ru');return};var getSel=function(w){var rez=(!w||w.document.body instanceof HTMLFrameSetElement)%3F'':(w.document.selection%3Fw.document.selection.createRange().text:w.document.getSelection());if(rez==''){for(var i=0,f;f=w.frames[i];i++){try{if(rez=arguments.callee(f))break}catch(e){}}};return rez};var w=window;var str=getSel(w);w.open('http://translate.google.com/translate'+(str%3F'_t%3Ftext='+encodeURIComponent(str):'%3Fu='+escape(w.location.href))+'&amp;hl=ru&amp;langpair=auto|ru&amp;tbb=1')})();%22,,,%22google%22">На русский</a> - Перевод текста, если он выделен (включая фреймы), или всей страницы с помощью <a class="simple" href="http://translate.google.com/">Google Translate</a> (при доступности, используется скрипт <a class="simple" href="http://ruzanow.ru/userjs/google-translate.js">google-translate.js</a>). -->
<!-- <a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){if(window.ujs_google_translate){ujs_google_translate('auto|ru')}else{var getText=function(){var d=document,s=d.getSelection(),t=d.getElementsByTagName('textarea');if(!s)for(var i=0,e;e=t[i];i++){if(s=e.value.substring(e.selectionStart,e.selectionEnd))break}return s};var txt=encodeURIComponent(getText());if(!txt||txt.length&gt;1900){window.open('http://translate.google.com/translate%3Fu='+escape(location.href)+'&amp;hl=ru&amp;langpair=auto|ru&amp;tbb=1&amp;ie='+document.characterSet)}else{var ele=document.documentElement.appendChild(document.createElement('script'));window.showGoogleTranslate=function(o){alert(o.responseStatus==200%3Fo.responseData.translatedText:o.responseStatus+': '+o.responseDetails);ele.parentNode.removeChild(ele);delete window.showGoogleTranslate};ele.src='http://ajax.googleapis.com/ajax/services/language/translate%3Fv=1.0&amp;q='+txt+'&amp;langpair=%7Cru&amp;callback=showGoogleTranslate&amp;format=text'}}})()%22,,,%22google%22">На русский</a> - Перевод текста, если он выделен, или всей страницы с помощью <a class="simple" href="http://translate.google.com/">Google Translate</a> (при доступности, используется скрипт <a class="simple" href="/userjs/google-translate.js">google-translate.js</a>). -->
<a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){try{ujs_google_translate('auto|ru')}catch(z){var getSel=function(w){var s,d=w.document;if(d.selection){var r=d.selection.createRange();s=r?r.text:''}else{s=d.getSelection().toString();if(!s){var e,t=d.getElementsByTagName('textarea'),u=d.getElementsByTagName('input'),i=t.length;while(e=(i>0)?t[--i]:u[-i--])try{if(e.offsetHeight>0&&(s=e.value.substring(e.selectionStart,e.selectionEnd)))break}catch(x){}}};if(!s)for(var i=0,f;f=w.frames[i];i++){try{if(s=arguments.callee(f))break}catch(x){}};return s};var s=encodeURIComponent(getSel(window));if(!s||s.length>1900){window.open('http://www.translate.ru/url/tran_url.asp?direction=er&template=General&autotranslate=true&url='+location.href)}else{document.documentElement.appendChild(document.createElement('script')).src='http://translate.yandex.ru/tr.json/translate?srv=tr-text&id=adb7aca1-0-0&text='+s+'&lang=en-ru&callback=alert'}}})()%22,,,%22yandex%22">На русский</a> - Перевод текста, если он выделен, или всей страницы с помощью <a class="simple" href="http://translate.yandex.ru/">Yandex Translate</a> (при доступности, используется скрипт <a class="simple" href="/userjs/google-translate.js">google-translate.js</a>).
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getRandomPass=function(d){var chars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';var rez='';var len=d&gt;=3%3Fd:3;while(rez.length&lt;len){rez+=chars.charAt(Math.floor(Math.random()*chars.length))}return/^(%3F=.*%5Cd)(%3F=.*[a-z])(%3F=.*[A-Z]).+$/.test(rez)%3Frez:arguments.callee(len)};var findPassEle=function(p){var c,s='',r=false,f=document.getElementsByTagName('form');for(var i=0;i&lt;f.length;i++){c=f[i].elements;for(var j=0,e;e=c[j];j++){if(e.type=='password'){r=true;if(p){e.value=p;e.focus()}else if(e.value)s+='%5Cn%5Cn'+e.value}}};return r%3Fs:null};var s=findPassEle();if(s){alert('На этой странице уже имеется пароль:'+s)}else{findPassEle(prompt('Пароль сгенерирован'+(s==null%3F':':'. Вставить%3F'),getRandomPass(12)))}})()%22,,,%22Wand%22">Сгенерировать/Показать пароль</a> - Генерирует и вставляет случайный пароль либо показывает уже имеющийся на странице.
<br><a class="button" href="opera:/button/Go to parent directory,,,,%22Parent%20folder%22 + Go to page, %22javascript:(function(){var p=location.protocol+'//',h=location.host+'/';if(p=='s://')return;if(location.href==p+h){var a=h.split('.'),l=a.length,n=2;if(l>2){if(a[0]=='www'){a.shift();l--};if(/^(co|com|net|org|edu|gov|mil|int)$/i.test(a[l-2]))n++}if(l>n){h=(n==3%3Fa[l-3]+'.':'')+a[l-2]+'.'+a[l-1]}else{p='http://www.google.com/search%3Fsourceid=opera&amp;q=related:'+p}};location.href=p+h})()%22">Вверх</a> - Переход на уровень выше (т.е. отсюда на http://site.ru/ ). При зажатии, перенаправляет на самый верх или на список похожих страниц, если вы уже наверху.
<div style="color:gray">
<br><a class="button" href="opera:/button/Stop,,,21235 | Reload,,, 21210 + Refresh display">Обновить</a> - Обычная кнопка «Обновить», при зажатии перезагружающая страницу из кэша.
<br><a class="button" href="opera:/button/Go,,,21197 + Paste and go">Пуск</a> - Обычная кнопка «Пуск», при зажатии открывающая страницу с адресом из буфера обмена.
<br>
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getText=function(){var d=document,s=d.getSelection(),t=d.getElementsByTagName('textarea');if(!s)for(var i=0,e;e=t[i];i++){if(s=e.value.substring(e.selectionStart,e.selectionEnd))break}return s};var str=prompt('Поиск на этом сайте с помощью Google',getText());if(str){window.open('http://www.google.com/search?as_q='+encodeURIComponent(str)+'&as_sitesearch='+location.hostname)}})()%22,,,%22google%22%20+%20Go%20to%20page,%20%22javascript:(function(){if(window.ujs_google_translate){ujs_google_translate('auto|ru');return};var str=document.getSelection();window.open('http://translate.google.com/translate'+(str?'_t?text='+encodeURIComponent(str):'?u='+escape(location.href))+'&hl=ru&langpair=auto|ru&tbb=1')})()%22">Google</a> - Поиск <a class="simple" href="http://www.google.ru/">Google</a> по текущему сайту для выделенного или набранного текста. Зажатие кнопки переводит текст или страницу на русский (при доступности, используется скрипт <a class="simple" href="/userjs/google-translate.js">google-translate.js</a>).
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var getText=function(){var d=document,s=d.getSelection(),t=d.getElementsByTagName('textarea');if(!s)for(var i=0,e;e=t[i];i++){if(s=e.value.substring(e.selectionStart,e.selectionEnd))break}return s};var str=prompt('Поиск%20на%20этом%20сайте%20с%20помощью%20Yandex',getText());if(str){window.open('http://www.yandex.ru/yandsearch?rpt=rad&text='+encodeURIComponent(str)+'&serverurl='+location.hostname);}})()%22,,,%22yandex%22%20+%20Go%20to%20page,%20%22javascript:void(window.open('http://www.translate.ru/url/tran_url.asp?direction=er&template=General&autotranslate=true&url='+location.href))%22">Yandex</a> - Поиск по текущему сайту с помощью <a class="simple" href="http://yandex.ru/">Yandex</a> и перевод страницы при зажатии, используя <a class="simple" href="http://www.translate.ru/">translate.ru</a>.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var ujsWin=function(txt){var wId='ujs_show_ip';var div=document.getElementById(wId);if(!div){div=document.createElement('div');div.id=wId;div.setAttribute('style','display:block;position:fixed;right:0;bottom:0;width:auto;height:auto;background:-o-skin(%5Cx22Window Skin%5Cx22);font:16px Times New Roman;border:1px solid;padding:2px;z-index:9999;opacity:0.9;white-space:pre;cursor:pointer;');div.title='Close';div.onclick='this.parentNode.removeChild(this)';div.appendChild(document.createTextNode(txt));document.documentElement.appendChild(div)}};if(navigator.javaEnabled()){var host=location.hostname;var port=location.port||80;ujsWin('IP: '+java.net.InetAddress.getByName(host).getHostAddress()+';  My IP: '+(new java.net.Socket(host,port)).getLocalAddress().getHostAddress())}else{alert('Java not enabled or not installed!')}})()%22,,,%22Panel%20Info%22">Показать IP</a> - Показывает, в нижней части страницы, IP текущего сайта и ваш собственный. Нужна Java. Не работает в Opera 10.5 и выше.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){if(location.protocol.match(/^(javascript|about|opera):$/i))return;var l=location.href;var t=(document.getElementsByTagName('title')[0]?document.getElementsByTagName('title')[0].text:l).replace(/&lt;/g,'&amp;lt;').replace(/&gt;/g,'&amp;gt;');var w=window.open('','_blank');w.document.documentElement.innerHTML='<head><title>'+t+' - using Internet Explorer rendering</title><style type=%5Cx22text/css%5Cx22>body{margin:0;padding:0;overflow:hidden;}embed{border:none;}</style></head><body><embed type=%5Cx22application/x-meadco-neptune-ax%5Cx22 width=%5Cx22100%%%5Cx22 height=%5Cx22100%%%5Cx22 param-location=%5Cx22'+l+'%5Cx22></embed></body>'})();%22,,,%22View%22">Открыть в IE</a> - Открывает страницу в Opera, через движок IE. Нужен <a class="simple" href="http://www.meadco.com/neptune/download/">Neptune plug-in</a>.
<br><a class="button" href="opera:/button/Go%20to%20page,%20%22javascript:(function(){var d=function(b){if(!b||/^(%5Cd{1,3}%5C.){3}%5Cd{1,3}$/.test(b))return b;var a=b.split('.'),l=a.length;return(l&lt;3)%3Fb:(a[l-2]+'.'+a[l-1])},f=function(b){if(b){var a=document.createElement('a');a.href=b;return a.host}},g=function(b){var c,h=d(location.hostname),a=b.getElementsByTagName('*');for(var i=0,e;e=a[i];i++){c=e.host||f(e.src);if(c&amp;&amp;d(c)!=h)return true}};var j=document.getElementsByTagName('div');for(var i=0,e;e=j[i];i++){var m=0,k=e.style,p=k.position||getComputedStyle(e,'').position;if(e.previousSibling instanceof HTMLScriptElement||e.nextSibling instanceof HTMLScriptElement)m+=2;if(e.id.length&gt;9)m+=1;if(/ad|pop/i.test(e.id))m+=1;if(e.onclick)m+=1;if(k.height||k.width)m+=1;if(k.left||k.top)m+=1;if(k.zIndex&gt;9||getComputedStyle(e,null).zIndex&gt;99)m+=1;if(p=='absolute')m+=2;if(p=='fixed')m+=3;if(g(e))m+=2;if(m&gt;6)k.display=k.display!='none'%3F'none':'block'}})()%22,,,%22Delete%22">Hide Popup</a> - Скрывает/показывает попапы&sup2;, наподобие <a class="simple" href="http://binmovie.ru/">этих</a>.

</div>
<hr>
<H3>Поиск:</H3>
<form action="javascript:void(window.open('http://www.google.com/search?as_q='+encodeURIComponent('%s')+'&as_sitesearch='+location.hostname));" style="display:inline;" onsubmit="return false;"><input type="text" value="Поиск Google по текущему сайту" class="search"></form> - Нажмите правую кнопку мыши, выберите "Создать поиск" и задайте для него название и клавишу.
<br><form action="javascript:void(window.open('http://www.yandex.ru/yandsearch?rpt=rad&text='+encodeURIComponent('%s')+'&serverurl='+location.hostname));" style="display:inline;" onsubmit="return false;"><input type="text" value="Поиск Yandex по текущему сайту" class="search"></form> - Нажмите правую кнопку мыши, выберите "Создать поиск" и задайте для него название и клавишу.
<hr>
<br>
</body>
</html>
